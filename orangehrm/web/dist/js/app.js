(function(e){function t(t){for(var a,r,i=t[0],c=t[1],d=t[2],s=0,u=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&u.push(l[r][0]),l[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(u.length)u.shift()();return n.push.apply(n,d||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,r=1;r<o.length;r++){var c=o[r];0!==l[c]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=o[0]))}return e}var a={},l={app:0},n=[];function r(e){return i.p+"js/"+({}[e]||e)+".js"}function i(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o=l[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=l[e]=[t,a]}));t.push(o[2]=a);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e);var d=new Error;n=function(t){c.onerror=c.onload=null,clearTimeout(s);var o=l[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,o[1](d)}l[e]=void 0}};var s=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var m=d;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"0091":function(e,t,o){},"0112":function(e,t,o){},"013d":function(e,t,o){"use strict";o("8afe")},"014d":function(e,t,o){},"01f0":function(e,t,o){"use strict";o("21fb")},"02c8":function(e,t,o){},"036e":function(e,t,o){},"03ce":function(e,t,o){},"041f":function(e,t,o){"use strict";o("27d4")},"043c":function(e,t,o){"use strict";o("24d3")},"0462":function(e,t,o){"use strict";o("aeca")},"046c":function(e,t,o){"use strict";o("9c50")},"047c":function(e,t,o){"use strict";o("2056")},"04e3":function(e,t,o){"use strict";o("12fe")},"06e3":function(e,t,o){"use strict";o("86ba")},"08ca":function(e,t,o){},"08f1":function(e,t,o){"use strict";o("ff13")},"09df":function(e,t,o){"use strict";o("5e58")},"0a5d":function(e,t,o){"use strict";o("6883")},"0ab1":function(e,t,o){"use strict";o("2770")},"0b18":function(e,t,o){},"0b49":function(e,t,o){},"0bd2":function(e,t,o){"use strict";o("d254")},"0bfc":function(e,t,o){"use strict";o("e340")},"0c4c":function(e,t,o){},"0dc1":function(e,t,o){},"0eb1":function(e,t,o){},"0eb8":function(e,t,o){"use strict";o("d21f")},"0ed4":function(e,t,o){},"0fae":function(e,t,o){},1287:function(e,t,o){},"12fe":function(e,t,o){},1375:function(e,t,o){},1381:function(e,t,o){},1403:function(e,t,o){},1414:function(e,t,o){"use strict";o("23b4")},"145d":function(e,t,o){"use strict";o("bbe1")},"149a":function(e,t,o){},"151b":function(e,t,o){},"15f5":function(e,t,o){"use strict";o("c645")},"15ff":function(e,t,o){},1670:function(e,t,o){"use strict";o("83f2")},"170c":function(e,t,o){},1789:function(e,t,o){},1794:function(e,t,o){},"17b9":function(e,t,o){},"188d":function(e,t,o){"use strict";o("e383")},"19de":function(e,t,o){"use strict";o("15ff")},"1acb":function(e,t,o){"use strict";o("3507")},"1b98":function(e,t,o){},"1b9c":function(e,t,o){"use strict";o("8f55")},"1cd0":function(e,t,o){"use strict";o("a22e")},"1dc3":function(e,t,o){"use strict";o("1287")},"1e29":function(e,t,o){},"1f0d":function(e,t,o){},"1f4d":function(e,t,o){"use strict";o("5b7a")},"1fbc":function(e,t,o){"use strict";o("7bde")},2025:function(e,t,o){},2056:function(e,t,o){},"21f4":function(e,t,o){},"21fb":function(e,t,o){},2274:function(e,t,o){"use strict";o("0112")},"22c2":function(e,t,o){"use strict";o("fa79")},"22ca":function(e,t,o){"use strict";o("2dd3")},"22e3":function(e,t,o){"use strict";o("ca80")},"23b4":function(e,t,o){},"24d3":function(e,t,o){},"250a":function(e,t,o){},"254b":function(e,t,o){},"25e7":function(e,t,o){},"26c2":function(e,t,o){},2770:function(e,t,o){},"27d4":function(e,t,o){},2808:function(e,t,o){},2823:function(e,t,o){"use strict";o("7998")},2968:function(e,t,o){},"29d5":function(e,t,o){},"2adc":function(e,t,o){},"2c25":function(e,t,o){},"2c58":function(e,t,o){"use strict";o("170c")},"2dd3":function(e,t,o){},"2e44":function(e,t,o){},"2e6e":function(e,t,o){"use strict";o("3581")},"2f6a":function(e,t,o){"use strict";o("77b1")},"2fda":function(e,t,o){},"304b":function(e,t,o){},3118:function(e,t,o){},3162:function(e,t,o){"use strict";o("500d")},"31dc":function(e,t,o){},"327d":function(e,t,o){},3297:function(e,t,o){"use strict";o("453f")},"332b":function(e,t,o){"use strict";o("e069")},"33e9":function(e,t,o){"use strict";o("bfe7")},"34eb":function(e,t,o){},3507:function(e,t,o){},3581:function(e,t,o){},"35f5":function(e,t,o){"use strict";o("53b9")},"366d":function(e,t,o){},"375e":function(e,t,o){"use strict";o("9d32")},3849:function(e,t,o){},"38e9":function(e,t,o){"use strict";o("1789")},3951:function(e,t,o){},"397e":function(e,t,o){},"39eb":function(e,t,o){"use strict";o("e780")},"39f7":function(e,t,o){"use strict";o("9d76")},"3bd4":function(e,t,o){"use strict";o("1375")},"3d4e":function(e,t,o){"use strict";o("4121")},"3d51":function(e,t,o){},"3fb3":function(e,t,o){"use strict";o("839f")},4121:function(e,t,o){},4138:function(e,t,o){"use strict";o("149a")},"414c":function(e,t,o){},"41ca":function(e,t,o){},4222:function(e,t,o){"use strict";o("1381")},4238:function(e,t,o){"use strict";o("9bf26")},"44e2":function(e,t,o){},"453f":function(e,t,o){},4844:function(e,t,o){"use strict";o("bbee")},4861:function(e,t,o){},4872:function(e,t,o){"use strict";o("397e")},4886:function(e,t,o){},"48c7":function(e,t,o){"use strict";o("1794")},4963:function(e,t,o){"use strict";o("7d48")},"49bc":function(e,t,o){"use strict";o("6bf6")},"4a14":function(e,t,o){"use strict";o("db0b")},"4b522":function(e,t,o){},"4f02":function(e,t,o){"use strict";o("605e")},"4fbe":function(e,t,o){},"500d":function(e,t,o){},5028:function(e,t,o){},5132:function(e,t,o){"use strict";o("5028")},5235:function(e,t,o){"use strict";o("ec85")},"528f":function(e,t,o){"use strict";o("036e")},"53b9":function(e,t,o){},"542a":function(e,t,o){},5430:function(e,t,o){"use strict";o("3118")},"570d":function(e,t,o){"use strict";o("d1c6")},"57ef":function(e,t,o){"use strict";o("21f4")},"590a":function(e,t,o){"use strict";o("014d")},"5b2b":function(e,t,o){"use strict";o("2808")},"5b7a":function(e,t,o){},"5bbc":function(e,t,o){},"5bfc":function(e,t,o){"use strict";o("9aa9")},"5db3":function(e,t,o){},"5e58":function(e,t,o){},"5e6d":function(e,t,o){"use strict";o("25e7")},"5ece":function(e,t,o){},"605e":function(e,t,o){},6102:function(e,t,o){"use strict";o("3849")},6161:function(e,t,o){"use strict";o("0ed4")},"61a4":function(e,t,o){"use strict";o("7f72")},"639e":function(e,t,o){"use strict";o("d3d8")},"63a1":function(e,t,o){"use strict";o("0091")},"63aa":function(e,t,o){"use strict";o("08ca")},6533:function(e,t,o){"use strict";o("414c")},6534:function(e,t,o){"use strict";o("542a")},"659a":function(e,t,o){"use strict";o("ee8e")},"65d1":function(e,t,o){},6625:function(e,t,o){},"66a9":function(e,t,o){"use strict";o("9db7")},"67bf":function(e,t,o){},"67d0":function(e,t,o){"use strict";o("8504")},6883:function(e,t,o){},6925:function(e,t,o){},"696e":function(e,t,o){},"6aca":function(e,t,o){"use strict";o("2adc")},"6bf6":function(e,t,o){},"6c50":function(e,t,o){"use strict";o("da64")},"6d30":function(e,t,o){},"6dc0":function(e,t,o){},"6de4":function(e,t,o){},"6e41":function(e,t,o){"use strict";o("b658")},"6e9c":function(e,t,o){"use strict";o("3d51")},"6eb6":function(e,t,o){"use strict";o("bccc")},"6f06":function(e,t,o){"use strict";o("29d5")},7325:function(e,t,o){"use strict";o("d6af")},"73b1":function(e,t,o){"use strict";o("fbc0")},"73d8":function(e,t,o){"use strict";o("b1ec")},7745:function(e,t,o){"use strict";o("d7aa")},"77b1":function(e,t,o){},"77d5":function(e,t,o){"use strict";o("1f0d")},7911:function(e,t,o){"use strict";o("aa91")},7998:function(e,t,o){},"7a71":function(e,t,o){},"7a7b":function(e,t,o){"use strict";o("304b")},"7b6b":function(e,t,o){"use strict";o("b1fc")},"7bdc":function(e,t,o){"use strict";o("327d")},"7bde":function(e,t,o){},"7c21":function(e,t,o){},"7d48":function(e,t,o){},"7e45":function(e,t,o){},"7f67":function(e,t,o){},"7f72":function(e,t,o){},"7f87":function(e,t,o){"use strict";o("c0a5")},"800c":function(e,t,o){"use strict";o("eaec")},8158:function(e,t,o){},8187:function(e,t,o){},"832c":function(e,t,o){},"839f":function(e,t,o){},"83f2":function(e,t,o){},8415:function(e,t,o){"use strict";o("ecef")},8504:function(e,t,o){},"850f":function(e,t,o){},"86ba":function(e,t,o){},"87e2":function(e,t,o){"use strict";o("9877")},"88f6":function(e,t,o){"use strict";o("6dc0")},"89f7":function(e,t,o){"use strict";o("f3cb")},"8a66":function(e,t,o){"use strict";o("254b")},"8afe":function(e,t,o){},"8d08":function(e,t,o){"use strict";o("a24d")},"8dc6":function(e,t,o){"use strict";o("6925")},"8f2e":function(e,t,o){"use strict";o("cd4c")},"8f55":function(e,t,o){},9054:function(e,t,o){"use strict";o("6de4")},9073:function(e,t,o){},9082:function(e,t,o){"use strict";o("fd25")},"90b2":function(e,t,o){"use strict";o("2c25")},"921b":function(e,t,o){"use strict";o("6d30")},9580:function(e,t,o){"use strict";o("fdad")},"95b6":function(e,t,o){},"95e4":function(e,t,o){"use strict";o("696e")},"95fe":function(e,t,o){"use strict";o("8158")},9630:function(e,t,o){},9877:function(e,t,o){},"98a9":function(e,t,o){"use strict";o("c61d")},"98c9":function(e,t,o){},"98fc":function(e,t,o){"use strict";o("9b93")},9906:function(e,t,o){"use strict";o("9d34")},9985:function(e,t,o){"use strict";o("5bbc")},"99f2":function(e,t,o){"use strict";o("832c")},"9a48":function(e,t,o){"use strict";o("ff65")},"9aa9":function(e,t,o){},"9ada":function(e,t,o){"use strict";o("a225")},"9b84":function(e,t,o){"use strict";o("41ca")},"9b93":function(e,t,o){},"9bf26":function(e,t,o){},"9c50":function(e,t,o){},"9d32":function(e,t,o){},"9d34":function(e,t,o){},"9d36":function(e,t,o){"use strict";o("dbf8")},"9d4f":function(e,t,o){"use strict";o("34eb")},"9d76":function(e,t,o){},"9d86":function(e,t,o){"use strict";o("deb3")},"9db7":function(e,t,o){},"9e5c":function(e,t,o){},a1e8:function(e,t,o){},a225:function(e,t,o){},a229:function(e,t,o){"use strict";o("f9ff")},a22e:function(e,t,o){},a246:function(e,t,o){},a24d:function(e,t,o){},a331:function(e,t,o){"use strict";o("3951")},a375:function(e,t,o){},a41f:function(e,t,o){"use strict";o("6625")},a489:function(e,t,o){},a5cf:function(e,t,o){"use strict";o("d91d")},a655:function(e,t,o){},a6a3:function(e,t,o){"use strict";o("a375")},a6ad:function(e,t,o){},a6c3:function(e,t,o){},a7b3:function(e,t,o){"use strict";o("31dc")},a850:function(e,t,o){},a871:function(e,t,o){},aa67:function(e,t,o){"use strict";o("d210")},aa91:function(e,t,o){},aad4:function(e,t,o){"use strict";o("2fda")},ab83:function(e,t,o){"use strict";o("a246")},ac57:function(e,t,o){"use strict";o("1e29")},aeca:function(e,t,o){},aedb:function(e,t,o){"use strict";o("1403")},b1ec:function(e,t,o){},b1fc:function(e,t,o){},b21c:function(e,t,o){},b2ae:function(e,t,o){"use strict";o("a1e8")},b3da:function(e,t,o){"use strict";o("e35e")},b5c9:function(e,t,o){"use strict";o("366d")},b658:function(e,t,o){},b6a5:function(e,t,o){"use strict";o("17b9")},ba79:function(e,t,o){},bb4b:function(e,t,o){"use strict";o("5ece")},bb64:function(e,t,o){"use strict";o("b21c")},bbe1:function(e,t,o){},bbee:function(e,t,o){},bc2d:function(e,t,o){"use strict";o("7c21")},bc66:function(e,t){function o(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="bc66"},bccc:function(e,t,o){},bcf6:function(e,t,o){},bdf9:function(e,t,o){"use strict";o("9073")},be51:function(e,t,o){"use strict";o("dcf0")},bf28:function(e,t,o){"use strict";o("0fae")},bf3d:function(e,t,o){"use strict";o("7f67")},bf63:function(e,t,o){},bfe7:function(e,t,o){},c02d:function(e,t,o){"use strict";o("4b522")},c0a5:function(e,t,o){},c4bb:function(e,t,o){"use strict";o("5db3")},c5fa:function(e,t,o){},c613:function(e,t,o){"use strict";o("26c2")},c61d:function(e,t,o){},c645:function(e,t,o){},c77e:function(e,t,o){"use strict";o("9630")},c7bd:function(e,t,o){"use strict";o("0b49")},c7f7:function(e,t,o){"use strict";o("65d1")},c984:function(e,t,o){"use strict";o("02c8")},c98f:function(e,t,o){"use strict";o("f571")},c9ad:function(e,t,o){"use strict";o("9e5c")},ca45:function(e,t,o){"use strict";o("a850")},ca80:function(e,t,o){},cca9:function(e,t,o){"use strict";o("de1d")},cd49:function(e,t,o){"use strict";o.r(t);var a=o("f2bf"),l=o("5d5a"),n=o("12ed"),r=o("6c46"),i=o("024b"),c=o("8db5"),d=o("e003"),s=o("98f1"),m=o("592a"),u=o("6702"),b=o("23e8"),p=o("fe53"),h=o("ba30"),j=o("929d"),O=o("ef0b");function g(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])}var v={name:"SubmitButton"},f=o("6b0d"),y=o.n(f);const C=y()(v,[["render",g]]);var V=C;const x={key:0},w={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},N={key:0};function _(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-divider"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button");return o.loading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",x,[o.showDivider?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"orangehrm-horizontal-margin"})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",w,[o.selected>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",N,[Object(a["createVNode"])(c,{tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_selected",{count:o.selected})),1)]),_:1}),Object(a["createVNode"])(d,{label:e.$t("general.delete_selected"),"icon-name":"trash-fill","display-type":"label-danger",class:"orangehrm-horizontal-margin",onClick:t[0]||(t[0]=t=>e.$emit("delete",t))},null,8,["label"])])):(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_found",{count:o.total})),1)]),_:1}))])]))}var k={name:"TableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},showDivider:{type:Boolean,required:!1,default:!0}},emits:["delete"]};o("9985");const S=y()(k,[["render",_],["__scopeId","data-v-0dea79bd"]]);var D=S;function $(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{tag:"p",class:"orangehrm-form-hint"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" * "+Object(a["toDisplayString"])(e.$t("general.required")),1)]),_:1})}var E={name:"RequiredText"};o("a229");const T=y()(E,[["render",$],["__scopeId","data-v-0e12dedd"]]);var B=T;const I=["href"],L={key:0},U=["href"],A=["href"];function P(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-layout"),c=Object(a["resolveComponent"])("about");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(i,Object(a["normalizeProps"])(Object(a["guardReactiveProps"])(e.$attrs)),Object(a["createSlots"])({"user-actions":Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",{href:"#",role:"menuitem",class:"oxd-userdropdown-link",onClick:t[0]||(t[0]=(...e)=>l.openAboutModel&&l.openAboutModel(...e))},Object(a["toDisplayString"])(e.$t("general.about")),1)]),Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",{href:o.supportUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(a["toDisplayString"])(e.$t("general.support")),9,I)]),o.updatePasswordUrl?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",L,[Object(a["createElementVNode"])("a",{href:o.updatePasswordUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(a["toDisplayString"])(e.$t("general.change_password")),9,U)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",{href:o.logoutUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(a["toDisplayString"])(e.$t("general.logout")),9,A)])]),_:2},[Object(a["renderList"])(e.$slots,(t,o)=>({name:o,fn:Object(a["withCtx"])(t=>[Object(a["renderSlot"])(e.$slots,o,Object(a["normalizeProps"])(Object(a["guardReactiveProps"])(t)))])}))]),1040),l.showAboutModel?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,onClose:l.closeAboutModel},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)],64)}const q={class:"orangehrm-modal-header"},M={key:0,class:"orangehrm-loader"};function F(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-loading-spinner"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",q,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.about")),1)]),_:1})]),Object(a["createVNode"])(c),n.isLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,[Object(a["createVNode"])(d)])):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1,cols:2,class:"orangehrm-about"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.company_name"))+": ",1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.data.companyName),1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.version"))+": ",1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.data.productName)+" "+Object(a["toDisplayString"])(n.data.version),1)]),_:1})]),_:1}),void 0!==n.data.numberOfActiveEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.active_employees"))+": ",1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.data.numberOfActiveEmployee),1)]),_:1})]),_:1})],64)):Object(a["createCommentVNode"])("",!0),void 0!==n.data.numberOfPastEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.employees_terminated"))+": ",1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-about-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.data.numberOfPastEmployee),1)]),_:1})]),_:1})],64)):Object(a["createCommentVNode"])("",!0)]),_:1}))]),_:1},8,["onUpdate:show"])}var z=o("bc3a"),R=o.n(z);o("b7ef");class G{constructor(){this._tempStorage={}}clear(){this._tempStorage={}}getItem(e){return this._tempStorage[e]||null}key(e){return Object.keys(this._tempStorage)[e]||null}removeItem(e){delete this._tempStorage[e]}setItem(e,t){this._tempStorage[e]=t}}function Q(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}class H{constructor(e){Q(e)?this._storage=e:this._storage=new G}clear(){this._storage.clear()}getItem(e){return this._storage.getItem(e)}key(e){return this._storage.key(e)}removeItem(e){this._storage.removeItem(e)}setItem(e,t){this._storage.setItem(e,t)}}const W=function(e,t={},o={}){let a=e;o=JSON.parse(JSON.stringify(o)),Object.keys(t).forEach(e=>{const o=`{${e}}`;if(a.includes(o)){let l=t[e];"number"===typeof l&&(l=l.toString()),a=a.replace(o,l)}else console.error("Invalid parameter.")});let l="?";const n=Object.keys(o);return n.forEach((e,t)=>{0!==t&&(l+="&");const a=o[e];Array.isArray(a)?a.forEach((t,o)=>{0!==o&&(l+="&"),l+=`${e}[]=${t}`}):l+=`${e}=${a}`}),encodeURI(a+(0===n.length?"":l))},J=function(e,t={},o={}){return window.appGlobal.baseUrl+W(e,t,o)},Y=function(e,t={},o={}){window.location.href=J(e,t,o)},X=function(){window.location.reload()};class K{constructor(e,t){this._baseUrl=e,this._apiSection=t,this._http=R.a.create({baseURL:this._baseUrl}),this._cacheStorage=new H(localStorage),this.setupResponseInterceptors(Object(a["getCurrentInstance"])())}setIgnorePath(e){this._ignorePathRegex=new RegExp(e)}getAll(e){const t={"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};return this._http.get(this._apiSection,{headers:t,params:e})}get(e,t){const o={"Content-Type":"application/json"};return this._http.get(`${this._apiSection}/${e}`,{headers:o,params:t})}create(e){const t={"Content-Type":"application/json",Accept:"application/json"};return this._http.post(this._apiSection,e,{headers:t})}update(e,t){const o={"Content-Type":"application/json"};return this._http.put(`${this._apiSection}/${e}`,t,{headers:o})}delete(e){const t={"Content-Type":"application/json"};return this._http.delete(`${this._apiSection}/${e}`,{headers:t})}deleteAll(e){const t={"Content-Type":"application/json"};return this._http.delete(""+this._apiSection,{headers:t,data:e})}request(e){const t={"Content-Type":"application/json"};return this._http.request({url:this._apiSection,headers:t,...e})}ignoreError(e){var t,o;if(this._ignorePathRegex&&(422===(null===(t=e.response)||void 0===t?void 0:t.status)||400===(null===(o=e.response)||void 0===o?void 0:o.status))){var a;const t=null!==(a=e.response.config.url)&&void 0!==a?a:"";return this._ignorePathRegex.test(t)}return!1}setupResponseInterceptors(e){this._http.interceptors.response.use(e=>e,t=>{var o;if(401===(null===(o=t.response)||void 0===o?void 0:o.status))return X(),Promise.reject();if(this.ignoreError(t))return Promise.reject(t.response);const a=null===e||void 0===e?void 0:e.appContext.config.globalProperties.$toast;if(a&&"ECONNABORTED"!==t.code){var l,n,r;const e=null===(l=t.response)||void 0===l||null===(n=l.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message;a.unexpectedError(e)}return Promise.reject(t)});{const e=e=>e.startsWith("W/")?e.substring(2):e;this._http.interceptors.request.use(e=>{if(e.url){const t=e.url,o=this._cacheStorage.getItem(t);o&&(e.headers={...e.headers,"If-None-Match":o})}return e},e=>Promise.reject(e)),this._http.interceptors.response.use(t=>{const{config:o,headers:a}=t;if(o.url&&a){const l=o.url,n=a["etag"],r=this._cacheStorage.getItem(l);n&&n!==r&&(this._cacheStorage.removeItem(l),this._cacheStorage.setItem(l,e(n)),r&&this._cacheStorage.removeItem(r),this._cacheStorage.setItem(e(n),JSON.stringify(t.data)))}return t},t=>{var o;if(304===(null===(o=t.response)||void 0===o?void 0:o.status)){const o=t.response.headers["etag"],a=this._cacheStorage.getItem(e(o));if(a)return Promise.resolve({...t.response,status:200,data:JSON.parse(a)})}return Promise.reject(t)})}}get http(){return this._http}get baseUrl(){return this._baseUrl}set apiSection(e){this._apiSection=e}}var Z=o("f762"),ee=o("c0f3"),te={components:{"oxd-loading-spinner":Z["a"],"oxd-dialog":ee["a"]},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/core/about");return{http:e}},data(){return{isLoading:!1,data:null}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.data={...t}}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){this.$emit("close",!0)}}};o("22c2");const oe=y()(te,[["render",F],["__scopeId","data-v-56b28e7c"]]);var ae=oe,le=o("652d"),ne=(o("d9e2"),o("c27a"));const re=Symbol("dateFormat");function ie(){const e=Object(a["inject"])(re);if(!e)throw new Error("Date format is invalid");const t=Object(ne["a"])(e.id),o=e.label;return{jsDateFormat:t,userDateFormat:o}}var ce={components:{about:ae,"oxd-layout":le["a"]},inheritAttrs:!1,props:{permissions:{type:Object,default:()=>({})},logoutUrl:{type:String,default:"#"},supportUrl:{type:String,default:"#"},updatePasswordUrl:{type:String,default:"#"},dateFormat:{type:Object,default:null}},setup(e){const t=Object(a["ref"])(!1);Object(a["provide"])("permissions",Object(a["readonly"])(e.permissions)),Object(a["provide"])(re,Object(a["readonly"])(e.dateFormat));const o=()=>{t.value=!0},l=()=>{t.value=!1};return{showAboutModel:t,openAboutModel:o,closeAboutModel:l}}};const de=y()(ce,[["render",P]]);var se=de;function me(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"date",placeholder:l.userDateFormat,"day-attributes":e.attributes,events:e.events,"display-format":l.jsDateFormat,locale:l.locale,onSelectYear:l.onSelectYear},null,8,["placeholder","day-attributes","events","display-format","locale","onSelectYear"])}var ue=o("2cf3"),be=o("b166"),pe=o("2613"),he=(o("3ae2"),o("1ba4")),je=o("817a"),Oe=o("a959"),ge=o("d6e9"),ve=o("1aab"),fe=o("f7f1"),ye=o("4e31");const Ce=[{offset:0,label:"Europe/London"},{offset:1,label:"Europe/Belgrade"},{offset:2,label:"Europe/Minsk"},{offset:3,label:"Asia/Kuwait"},{offset:4,label:"Asia/Muscat"},{offset:5,label:"Asia/Yekaterinburg"},{offset:5.5,label:"Asia/Kolkata"},{offset:6,label:"Asia/Dhaka"},{offset:7,label:"Asia/Krasnoyarsk"},{offset:8,label:"Asia/Brunei"},{offset:9,label:"Asia/Seoul"},{offset:9.5,label:"Australia/Darwin"},{offset:10,label:"Australia/Canberra"},{offset:11,label:"Asia/Magadan"},{offset:12,label:"Pacific/Fiji"},{offset:-11,label:"Pacific/Midway"},{offset:-10,label:"Pacific/Honolulu"},{offset:-9,label:"America/Anchorage"},{offset:-8,label:"America/Los_Angeles"},{offset:-7,label:"America/Denver"},{offset:-6,label:"America/Tegucigalpa"},{offset:-5,label:"America/New_York"},{offset:-4,label:"America/Halifax"},{offset:-3.5,label:"America/St_Johns"},{offset:-3,label:"America/Argentina/Buenos_Aires"},{offset:-2,label:"Atlantic/South_Georgia"},{offset:-1,label:"Atlantic/Azores"}],Ve=()=>new Date((new Date).setHours(0,0,0,0)),xe=(e,t="yyyy-MM-dd",o={})=>{try{const a=Object(ue["a"])(e,t,Ve(),o);return!isNaN(a.valueOf())&&a.getFullYear()>=1e3?a:null}catch(a){return null}},we=(e,t,o={})=>{try{return Object(be["a"])(e,t,o)}catch(a){return null}},Ne=(e,t,o)=>{const a=xe(e,o),l=xe(t,o);return!(!a||!l)&&-1===Object(pe["a"])(a,l)},_e=(e,t,o)=>{const a=xe(e,o),l=xe(t,o);return!(!a||!l)&&1===Object(pe["a"])(a,l)},ke=(e,t,o)=>{const a=xe(e,o),l=xe(t,o);return!(!a||!l)&&0===Object(pe["a"])(a,l)},Se=(e,t)=>xe(e,t),De=(e,t,o)=>{const a=xe(e,o),l=xe(t,o);if(a&&l){if(a.valueOf()<l.valueOf())return 1;if(a.valueOf()>l.valueOf())return-1;if(a.valueOf()===l.valueOf())return 0}return NaN},$e=(e,t,o="yyyy-MM-dd")=>{const a=xe(e,o),l=xe(t,o);return a&&l?Object(he["a"])(l,a)?1:Object(je["a"])(l,a)+1:0},Ee=(e,t,o="HH:mm")=>{const a=Se(e,o),l=Se(t,o);if(a&&l){const e=Object(Oe["a"])(l,a);if(e>0)return e}return 0},Te=e=>{const t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60);return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},Be=e=>{if(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)){const t=e.split(":");return 60*parseInt(t[0])*60+60*parseInt(t[1])}return parseFloat(e)<24&&/^([0-9])+(?:\.[0-9]{1,2})?$/.test(e)?60*parseFloat(e)*60:-1},Ie=(e,t=1e3)=>{t=t<1e3?1e3:t;const o=()=>{e(),setTimeout(o,t-(new Date).getTime()%t)};o()},Le=e=>(e>0?"+":"-")+String(Math.abs(e).toFixed(2)).split(".").map((e,t)=>0===t?e.padStart(2,"0"):String(.6*parseInt(e)).padEnd(2,"0")).join(":"),Ue=()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;const t=(new Date).getTimezoneOffset()/60*-1;if(void 0===e){const o=Ce.find(e=>e.offset===t);e=o?o.label:Ce[0].label}const o=Le(t);return{name:e,label:`(GMT ${o}) ${e}`,offset:t}};var Ae=o("e902"),Pe=o("706d");const qe={},Me=()=>(e,t={})=>{try{if(!qe[e])return e;const o=qe[e].format(t);return Array.isArray(o)?"string"===typeof o[0]?o[0]:e:o}catch(o){return console.error(o),e}},Fe=()=>({beforeCreate(){this.$t=Me()}});function ze(e){const t=new K(e.baseUrl,e.resourceUrl);return{init:function(){return new Promise(e=>{t.request({method:"GET",headers:{Accept:"application/json",contentType:"application/json",...!1}}).then(e=>{const{data:t}=e,o={};for(const a in t)o[a]=t[a].target||t[a].source,qe[a]=new Ae["a"](t[a].target||t[a].source,void 0,void 0,{ignoreTag:!0});Object(Pe["b"])({language:o})}).finally(()=>e())})},i18n:function(e){e.mixin(Fe())}}}var Re=ze;function Ge(){const e=Me();return{$t:e}}var Qe=o("6c8a");function He(){const{$t:e}=Ge(),t=Object(Qe["a"])({months:{wide:[e("general.january"),e("general.february"),e("general.march"),e("general.april"),e("general.may"),e("general.june"),e("general.july"),e("general.august"),e("general.september"),e("general.october"),e("general.november"),e("general.december")],abbreviated:[e("general.jan"),e("general.feb"),e("general.mar"),e("general.apr"),e("general.may"),e("general.jun"),e("general.jul"),e("general.aug"),e("general.sep"),e("general.oct"),e("general.nov"),e("general.dec")]},days:{abbreviated:[e("general.sun"),e("general.mon"),e("general.tue"),e("general.wed"),e("general.thu"),e("general.fri"),e("general.sat")],wide:[e("general.sunday"),e("general.monday"),e("general.tuesday"),e("general.wednesday"),e("general.thursday"),e("general.friday"),e("general.saturday")]}});return{locale:t}}var We={name:"DateInput",setup(){const e=Object(a["reactive"])({attributes:[],events:[]}),t=new K(window.appGlobal.baseUrl,""),{jsDateFormat:o,userDateFormat:l}=ie(),{locale:n}=He(),r=e=>e>=200&&e<300||403===e,i=async()=>{t.request({type:"GET",url:"api/v2/leave/workweek",params:{model:"indexed"},validateStatus:r}).then(({data:t})=>{null!==t&&void 0!==t&&t.data&&(e.attributes=Object.keys(t.data).map(e=>({index:parseInt(e),class:8===t.data[e]?"--non-working-day":4===t.data[e]?"--working-day-half":""})))})},c=async(o,a)=>{t.request({type:"GET",url:"api/v2/leave/holidays",params:{fromDate:o,toDate:a},validateStatus:r}).then(({data:t})=>{Array.isArray(null===t||void 0===t?void 0:t.data)&&(e.events=t.data.map(e=>({date:xe(e.date,"yyyy-MM-dd"),type:e.name,class:0===e.length?"--holiday-full":"--holiday-half"})))})},d=async({year:e})=>{const t=(new Date).setFullYear(e),o=we(Object(ge["a"])(t),"yyyy-MM-dd"),a=we(Object(ve["a"])(t),"yyyy-MM-dd");c(o,a)};return Object(a["onBeforeMount"])(async()=>{await i(),await d({year:(new Date).getFullYear()})}),{jsDateFormat:o,userDateFormat:l,...Object(a["toRefs"])(e),onSelectYear:d,locale:n}}};const Je=y()(We,[["render",me]]);var Ye=Je;function Xe(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"time",step:15,placeholder:e.$t("attendance.hh_mm")},null,8,["placeholder"])}var Ke={name:"TimeInput"};const Ze=y()(Ke,[["render",Xe]]);var et=Ze,tt={install:e=>{e.component("OxdLayout",se),e.component("OxdCardTable",l["a"]),e.component("OxdButton",n["a"]),e.component("OxdPagination",i["a"]),e.component("OxdDivider",c["a"]),e.component("OxdText",d["a"]),e.component("OxdIconButton",r["a"]),e.component("OxdForm",s["a"]),e.component("OxdFormRow",m["a"]),e.component("OxdFormActions",u["a"]),e.component("OxdInputField",b["a"]),e.component("OxdInputGroup",p["a"]),e.component("OxdGrid",j["a"]),e.component("OxdGridItem",O["a"]),e.component("OxdTableFilter",h["a"]),e.component("SubmitButton",V),e.component("TableHeader",D),e.component("RequiredText",B),e.component("DateInput",Ye),e.component("TimeInput",et)}};function ot(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-alert");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{show:!0,type:"warn",message:e.$t("general.no_records_found")},null,8,["message"])}var at=o("d6f5"),lt={components:{"oxd-alert":at["a"]}};const nt=y()(lt,[["render",ot]]);var rt=nt;function it(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-alert");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{show:!0,type:"warn",message:e.$t("general.bad_request")},null,8,["message"])}var ct={components:{"oxd-alert":at["a"]}};const dt=y()(ct,[["render",it]]);var st=dt;const mt={class:"orangehrm-background-container"},ut={class:"orangehrm-card-container"},bt={class:"orangehrm-module-under-development"},pt=["src"],ht={target:"_blank",class:"orangehrm-module-under-development-link",href:"https://sourceforge.net/projects/orangehrm/files/latest/download"};function jt(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",mt,[Object(a["createElementVNode"])("div",ut,[Object(a["createElementVNode"])("div",bt,[Object(a["createVNode"])(i,{tag:"h4",class:"orangehrm-module-under-development-heading"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.launching_soon")),1)]),_:1}),Object(a["createElementVNode"])("img",{src:n.moduleUnderDevelopment,class:"orangehrm-module-under-development-img",alt:"this module is under development"},null,8,pt),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-under-development-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.this_page_is_being_developed",{version:"5.4"}))+" ",1),Object(a["createElementVNode"])("a",ht,Object(a["toDisplayString"])(e.$t("general.click_here")),1),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("general.download_latest_release_with_all_features")),1)]),_:1})])])])}var Ot={data(){return{moduleUnderDevelopment:window.appGlobal.baseUrl+"/../images/web_under_construction.png"}}};o("d10c");const gt=y()(Ot,[["render",jt],["__scopeId","data-v-f27c9330"]]);var vt=gt;const ft={class:"orangehrm-background-container"},yt={class:"orangehrm-card-container"},Ct={class:"orangehrm-module-disabled"};function Vt(e,t){const o=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ft,[Object(a["createElementVNode"])("div",yt,[Object(a["createElementVNode"])("div",Ct,[Object(a["createVNode"])(o,{tag:"h1",class:"orangehrm-module-disabled-heading"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" 403 ")]),_:1}),Object(a["createVNode"])(o,{tag:"h4",class:"orangehrm-module-disabled-sub-heading"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.module_forbidden")),1)]),_:1}),Object(a["createVNode"])(o,{tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.module_access_restriction")),1)]),_:1})])])])}o("e836");const xt={},wt=y()(xt,[["render",Vt],["__scopeId","data-v-3d2f2dd1"]]);var Nt=wt;function _t(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-alert");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{show:!0,type:"warn",message:e.$t("time.timesheet_period_not_defined")},null,8,["message"])}var kt={components:{"oxd-alert":at["a"]}};const St=y()(kt,[["render",_t]]);var Dt=St,$t={"bad-request":st,"no-records-found":rt,"module-under-development":vt,"disabled-module":Nt,"time-sheet-period-not-defined":Dt};const Et={class:"orangehrm-background-container"},Tt={class:"orangehrm-paper-container"},Bt={class:"orangehrm-header-container"},It={class:"orangehrm-container"},Lt={class:"orangehrm-bottom-container"};function Ut(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Et,[Object(a["createElementVNode"])("div",Tt,[Object(a["createElementVNode"])("div",Bt,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.job_titles")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",It,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",Lt,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}o("14d9");function At(){var e;const t=null===(e=Object(a["getCurrentInstance"])())||void 0===e?void 0:e.appContext.config.globalProperties.$toast,o=e=>(...t)=>e&&e(...t);return{notify:o(null===t||void 0===t?void 0:t.notify),show:o(null===t||void 0===t?void 0:t.show),success:o(null===t||void 0===t?void 0:t.success),error:o(null===t||void 0===t?void 0:t.error),info:o(null===t||void 0===t?void 0:t.info),warn:o(null===t||void 0===t?void 0:t.warn),clear:o(null===t||void 0===t?void 0:t.clear),clearAll:o(null===t||void 0===t?void 0:t.clearAll),saveSuccess:o(null===t||void 0===t?void 0:t.saveSuccess),addSuccess:o(null===t||void 0===t?void 0:t.addSuccess),updateSuccess:o(null===t||void 0===t?void 0:t.updateSuccess),deleteSuccess:o(null===t||void 0===t?void 0:t.deleteSuccess),cannotDelete:o(null===t||void 0===t?void 0:t.cannotDelete),noRecordsFound:o(null===t||void 0===t?void 0:t.noRecordsFound)}}async function Pt(e,t){try{const o=await e.getAll(t);return{data:o.data.data,meta:o.data.meta,error:!1}}catch(o){return{error:!0,message:o.message}}}function qt(e,t){const o=e*(t-1);return{limit:e,offset:o}}function Mt(e){const t=JSON.parse(JSON.stringify(Object(a["unref"])(e)));for(const[o,a]of Object.entries(t))t[o]=null===a||""===a?void 0:a;return t}function Ft(e){return e}function zt(e,{query:t={},normalizer:o=Ft,prefetch:l=!0,toastNoRecords:n=!0,pageSize:r=50}={}){const i=Object(a["reactive"])({showPaginator:!1,isLoading:!1,response:{},total:0,pages:0,currentPage:1}),{noRecordsFound:c}=At(),d=async()=>{i.isLoading=!0;const a=qt(r,i.currentPage),l=Mt(t);if(i.response=await Pt(e,{...a,...l}),!i.response.error){const{data:e,...t}=i.response,a=o(e);i.response={data:a,...t}}i.response.meta&&(i.total=i.response.meta.total,i.total>r?(i.showPaginator=!0,i.pages=Math.ceil(i.total/r)):(i.currentPage=1,i.pages=1,i.showPaginator=!1),0===i.total&&n&&c()),i.isLoading=!1};return l&&Object(a["onBeforeMount"])(d),Object(a["watch"])(()=>i.currentPage,d),{...Object(a["toRefs"])(i),execQuery:d}}const Rt={class:"orangehrm-modal-header"},Gt={class:"orangehrm-text-center-align"},Qt={class:"orangehrm-modal-footer"};function Ht(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Rt,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.are_you_sure")),1)]),_:1})]),Object(a["createElementVNode"])("div",Gt,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.message||e.$t("general.delete_confirmation_message")),1)]),_:1})]),Object(a["createElementVNode"])("div",Qt,[Object(a["createVNode"])(c,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{label:e.$t("general.yes_delete"),"icon-name":"trash","display-type":"label-danger",class:"orangehrm-button-margin",onClick:r.onDelete},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var Wt={components:{"oxd-dialog":ee["a"]},props:{message:{type:String,default:null,required:!1}},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})},onDelete(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("dfd3");const Jt=y()(Wt,[["render",Ht],["__scopeId","data-v-c340d834"]]);var Yt=Jt;function Xt(e){const t=Object(a["ref"])({...JSON.parse(JSON.stringify(e.sortDefinition))}),o=Object(a["computed"])(()=>Object.keys(t.value).filter(e=>{const o=t.value[e];return o&&"DEFAULT"!=o})[0]),l=Object(a["computed"])(()=>t.value[o.value]),n=e=>Object(a["watch"])(t,e);return{sortDefinition:t,sortField:o,sortOrder:l,onSort:n}}const Kt={jobTitleName:"",jobDescription:""},Zt={"jt.jobTitleName":"ASC"};var eo={components:{"delete-confirmation":Yt},setup(){const e=Object(a["ref"])({...Kt}),{sortDefinition:t,sortField:o,sortOrder:l,onSort:n}=Xt({sortDefinition:Zt}),r=Object(a["computed"])(()=>({jobTitleName:e.value.jobTitleName,jobDescription:e.value.jobDescription,sortField:o.value,sortOrder:l.value})),i=new K(window.appGlobal.baseUrl,"/api/v2/admin/job-titles"),{showPaginator:c,currentPage:d,total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h}=zt(i,{query:r});return n(h),{http:i,showPaginator:c,currentPage:d,isLoading:p,total:s,pages:m,pageSize:u,execQuery:h,items:b,filters:e,sortDefinition:t}},data(){return{headers:[{name:"title",slot:"title",title:this.$t("admin.job_titles"),sortField:"jt.jobTitleName",style:{flex:2}},{name:"description",title:this.$t("admin.job_description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveJobTitle")},onClickEdit(e){Y("/admin/saveJobTitle/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const to=y()(eo,[["render",Ut]]);var oo=to;const ao={class:"orangehrm-background-container"},lo={class:"orangehrm-card-container"};function no(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("file-upload-input"),u=Object(a["resolveComponent"])("required-text"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ao,[Object(a["createElementVNode"])("div",lo,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_job_title")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{novalidate:"true",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.jobTitle.title=e),label:e.$t("general.job_title"),rules:n.rules.title,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jobTitle.description=e),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{newFile:n.jobTitle.newSpecification,"onUpdate:newFile":t[2]||(t[2]=e=>n.jobTitle.newSpecification=e),method:n.jobTitle.method,"onUpdate:method":t[3]||(t[3]=e=>n.jobTitle.method=e),label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),file:n.jobTitle.oldSpecification,rules:n.rules.specification,url:"admin/viewJobSpecification/attachId",hint:e.$t("general.accepts_up_to_1mb")},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.note,"onUpdate:modelValue":t[4]||(t[4]=e=>n.jobTitle.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),rules:n.rules.note,"label-icon":"pencil-square"},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(p)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}o("13d5");const ro=Me(),io=function(e){return"string"===typeof e?!!e&&""!==e.trim()||ro("general.required"):"number"===typeof e?!Number.isNaN(e)||"general.required":Array.isArray(e)?!!e&&0!==e.length||ro("general.required"):"object"===typeof e&&null!==e||ro("general.required")},co=function(e){return function(t){return!t||new String(t).length<=e||ro("general.should_be_less_n_characters",{amount:e})}},so=function(e="yyyy-mm-dd",t="yyyy-MM-dd"){return function(o){if(!o)return!0;const a=xe(o,t);return!!a||ro("general.should_be_a_valid_date_in_x_format",{format:e})}},mo=function(){return function(e){if(!e)return!0;const t="yyyy-MM-dd",o=we(new Date,t)||"",a=$e(e,o,t);return a>0||ro("recruitment.should_be_current_date_previous_date")}},uo=function(e){if(!e)return!0;const t=xe(e,"HH:mm");return!!t||ro("general.should_be_a_valid_date_in_hh:mm_format")},bo=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||ro("general.should_be_less_than_n",{amount:e})}},po=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||ro("general.should_be_a_number")},ho=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||ro("general.should_be_a_numeric_value")},jo=function(e){return""==e||/^\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||ro("general.should_be_a_number")},Oo=function(e){return""==e||/^-?\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||ro("general.should_be_a_number")},go=function(e,t,o="yyyy-MM-dd"){return!e||!t||Ne(e,t,o)},vo=function(e,t,o="yyyy-MM-dd"){return!e||!t||_e(e,t,o)},fo=function(e,t,o="yyyy-MM-dd"){return!e||!t||ke(e,t,o)},yo=(e,t,o={allowSameDate:!1,dateFormat:"yyyy-MM-dd"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:ro("general.end_date_should_be_after_start_date");return o.allowSameDate?fo(a,l)||vo(a,l,o.dateFormat)||n:vo(a,l,o.dateFormat)||n},Co=function(e,t,o="yyyy-MM-dd"){return!e||!t||1===De(e,t,o)},Vo=function(e,t,o="HH:mm"){return!e||!t||-1===De(e,t,o)},xo=function(e,t,o="HH:mm"){return!e||!t||0===De(e,t,o)},wo=(e,t,o={allowSameTime:!1,timeFormat:"HH:mm"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:ro("general.end_time_should_be_after_start_time");return o.allowSameTime?xo(a,l)||Vo(a,l,o.timeFormat)||n:Vo(a,l,o.timeFormat)||n},No=function(e){return function(t){return null===t||t.size&&t.size<=e||ro("general.attachment_size_exceeded")}},_o=function(e){return function(t){return null===t||t&&e.findIndex(e=>e===t.type)>-1||ro("general.file_type_not_allowed")}},ko=function(e){return!e||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/.test(e)||ro("general.expected_email_address_format_not_matched")},So=function(e){return!e||/^[0-9+\-/() ]+$/.test(e)||ro("general.allows_phone_numbers_only")},Do=(e,t,o={allowSameDate:!1,dateFormat:"yyyy-MM-dd"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:ro("general.start_date_should_be_before_end_date");return o.allowSameDate?fo(a,l)||go(a,l,o.dateFormat)||n:go(a,l,o.dateFormat)||n},$o=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||ro("general.should_be_less_than_n",{amount:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}},Eo=(e,t,o={allowSameTime:!1,timeFormat:"HH:mm"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:ro("general.start_time_should_be_before_end_time");return o.allowSameTime?xo(a,l)||Co(a,l,o.timeFormat)||n:Co(a,l,o.timeFormat)||n},To=function(e){return function(t){return!t||String(t).length>=e||ro("general.should_be_least_n_characters",{amount:e})}},Bo=(e,t)=>o=>{const a="function"===typeof e?e():e,l="string"===typeof t?t:ro("general.should_be_higher_than_minimum_value");return null===a||null===o||(void 0===a||void 0===o||(""===a||""===o||("0"===a||"0"===o||(parseFloat(a)<parseFloat(o)||l))))},Io=(e,t)=>o=>{const a="function"===typeof e?e():e,l="string"===typeof t?t:ro("general.should_be_lower_than_maximum_value");return null===a||null===o||(void 0===a||void 0===o||(""===a||"0"===o||(parseFloat(a)>parseFloat(o)||l)))},Lo=(e,t,o)=>a=>{const l="string"===typeof o?o:ro("general.should_be_a_number_between_min_and_max",{min:e,max:t});return!0===po(a)&&parseFloat(a)>=e&&parseFloat(a)<=t||l},Uo=function(e){return!e||(!!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e)||ro("general.invalid"))},Ao=function(e,t=.1){return function(o){return new Promise(a=>{if(null===o||"image/svg+xml"===o.type)return a(!0);const l=new Image;l.src=`data:${o.type};base64, ${o.base64}`,l.decode().then(()=>{Math.abs(l.width/l.height-e)<t?a(!0):a(ro("general.incorrect_dimensions"))})})}},Po=function(e,t){const o="string"===typeof t?t:ro("general.greater_than_or_equal_to_n",{minValue:e});return function(t){return null===t||""===t||(!0!==Oo(t)?o:parseFloat(t)>=e||o)}},qo=function(e,t){const o="string"===typeof t?t:ro("general.less_than_or_equal_to_n",{maxValue:e});return function(t){return null===t||""===t||(!0!==Oo(t)?o:parseFloat(t)<=e||o)}},Mo=function(e){return null===e||""===e||(0===e.split("").reduce((e,t)=>("{"===t&&e++,"}"===t&&e--,e),0)||ro("general.invalid"))},Fo=function(e){return"string"!==typeof e||ro("general.invalid")},zo=function(e){let t;return t=/\p{L}/u.test(e)?/^([\p{L}\p{N}\p{S}\-.])+(\.?([\p{L}\p{N}]|xn--[\p{L}\p{N}-]+)+\.?)(:[0-9]+)?$/gu:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,!e||t.test(e)||ro("general.invalid")},Ro=function(e,t,o){return function(a){return!a||/^\d+$/.test(a)&&!Number.isNaN(parseFloat(a))&&String(a).length<=e&&parseInt(a)>=t&&parseInt(a)<=o||ro("general.enter_valid_port_between_a_to_b",{minValue:t,maxValue:o})}},Go={class:"orangehrm-file-current"},Qo={key:0,class:"orangehrm-file-options"},Ho={key:1,class:"orangehrm-file-input"};function Wo(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[r.fileSelected?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,label:o.label},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Go,[Object(a["createElementVNode"])("div",{class:"orangehrm-file-preview",onClick:t[0]||(t[0]=(...e)=>r.downloadFile&&r.downloadFile(...e))},[Object(a["createVNode"])(i,{class:"orangehrm-file-icon",name:"file-earmark-text"}),Object(a["createVNode"])(c,{class:"orangehrm-file-name",tag:"p",title:o.file.filename},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.file.filename)+" ",1),Object(a["createVNode"])(i,{class:"orangehrm-file-download",name:"download"})]),_:1},8,["title"])]),o.disabled?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qo,[Object(a["createVNode"])(d,{type:"radio","option-label":e.$t("general.keep_current"),value:"keepCurrent","model-value":o.method,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"]),o.deletable?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,type:"radio","option-label":e.$t("general.delete_current"),value:"deleteCurrent","model-value":o.method,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{type:"radio","option-label":e.$t("general.replace_current"),value:"replaceCurrent","model-value":o.method,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"])]))])]),_:1},8,["label"])):Object(a["createCommentVNode"])("",!0),"replaceCurrent"!==o.method&&r.fileSelected?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ho,[Object(a["createVNode"])(d,Object(a["mergeProps"])(e.$attrs,{type:"file",label:r.fieldLabel,"model-value":o.newFile,disabled:o.disabled,placeholder:e.$t("general.no_file_selected"),"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update:newFile",t))}),null,16,["label","model-value","disabled","placeholder"]),Object(a["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.hint),1)]),_:1})]))],64)}var Jo=o("74ce"),Yo={name:"FileUploadInput",components:{"oxd-icon":Jo["a"]},inheritAttrs:!1,props:{label:{type:String,default:""},hint:{type:String,default:""},url:{type:[String,Function],required:!0},method:{type:String,required:!0},file:{type:Object,required:!1,default:()=>null},newFile:{type:Object,required:!1,default:()=>null},disabled:{type:Boolean,default:!1},deletable:{type:Boolean,default:!0}},emits:["update:method","update:newFile"],computed:{fileSelected(){return this.file&&Object.keys(this.file).length>0},fieldLabel(){return"replaceCurrent"===this.method&&this.fileSelected?this.$t("general.upload_n_file",{fileName:this.label}):this.label}},methods:{downloadFile(){let e;if("function"===typeof this.url)e=this.url(this.$props);else{var t;if(null===(t=this.file)||void 0===t||!t.id)return;e=`${window.appGlobal.baseUrl}/${this.url}/${this.file.id}`}window.open(e,"_blank")}}};o("2e6e");const Xo=y()(Yo,[["render",Wo],["__scopeId","data-v-70a2e535"]]);var Ko=Xo;const Zo={title:"",description:"",oldSpecification:"",newSpecification:null,method:"keepCurrent",note:""};var ea={components:{"file-upload-input":Ko},props:{jobTitleId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data(){return{isLoading:!1,jobTitle:{...Zo},rules:{title:[io,co(100)],description:[co(400)],specification:[e=>"replaceCurrent"!=this.jobTitle.method||io(e),_o(this.allowedFileTypes),No(this.maxFileSize)],note:[co(400)]}}},created(){this.isLoading=!0,this.http.get(this.jobTitleId).then(e=>{var t;const{data:o}=e.data;return this.jobTitle.title=o.title,this.jobTitle.description=o.description,this.jobTitle.note=o.note,this.jobTitle.oldSpecification=null!==(t=o.jobSpecification)&&void 0!==t&&t.id?o.jobSpecification:null,this.jobTitle.newSpecification=null,this.jobTitle.method="keepCurrent",this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.title.push(e=>{const o=t.findIndex(t=>t.title==e);if(o>-1){const{id:e}=t[o];return e==this.jobTitleId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/viewJobTitleList")},onSave(){this.isLoading=!0,this.http.update(this.jobTitleId,{title:this.jobTitle.title,description:this.jobTitle.description,note:this.jobTitle.note,currentJobSpecification:this.jobTitle.oldSpecification?this.jobTitle.method:void 0,specification:this.jobTitle.newSpecification?this.jobTitle.newSpecification:void 0}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})}}};const ta=y()(ea,[["render",no]]);var oa=ta;const aa={class:"orangehrm-background-container"},la={class:"orangehrm-card-container"};function na(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",aa,[Object(a["createElementVNode"])("div",la,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_job_title")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.jobTitle.title=e),label:e.$t("general.job_title"),rules:n.rules.title,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jobTitle.description=e),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.specification,"onUpdate:modelValue":t[2]||(t[2]=e=>n.jobTitle.specification=e),type:"file",label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),rules:n.rules.specification},null,8,["modelValue","label","button-label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.jobTitle.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.jobTitle.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:n.rules.note},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const ra={title:"",description:"",specification:null,note:""};var ia={props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data(){return{isLoading:!1,jobTitle:{...ra},rules:{title:[io,co(100)],description:[co(400)],specification:[_o(this.allowedFileTypes),No(this.maxFileSize)],note:[co(400)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.title.push(e=>{const o=t.findIndex(t=>t.title==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/viewJobTitleList")},onSave(){this.isLoading=!0,this.http.create({...this.jobTitle}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})}}};const ca=y()(ia,[["render",na]]);var da=ca;const sa={class:"orangehrm-background-container"},ma={class:"orangehrm-paper-container"},ua={class:"orangehrm-header-container"},ba={class:"orangehrm-container"},pa={class:"orangehrm-bottom-container"};function ha(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sa,[Object(a["createElementVNode"])("div",ma,[Object(a["createElementVNode"])("div",ua,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.job_categories")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",ba,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",pa,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var ja={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/job-categories"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.job_category"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveJobCategory")},onClickEdit(e){Y("/admin/saveJobCategory/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Oa=y()(ja,[["render",ha]]);var ga=Oa;const va={class:"orangehrm-background-container"},fa={class:"orangehrm-card-container"};function ya(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",va,[Object(a["createElementVNode"])("div",fa,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_job_category")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.category.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Ca={props:{jobCategoryId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[io,co(50)]},errors:[]}},created(){this.isLoading=!0,this.http.get(this.jobCategoryId).then(e=>{const{data:t}=e.data;return this.category.id=t.id,this.category.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.category.id||this.$t("general.already_exists")}return!0}),this.isLoading=!1}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.jobCategoryId,{name:this.category.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/jobCategory")}}};const Va=y()(Ca,[["render",ya]]);var xa=Va;const wa={class:"orangehrm-background-container"},Na={class:"orangehrm-card-container"};function _a(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",wa,[Object(a["createElementVNode"])("div",Na,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_job_category")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.category.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var ka={setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[io,co(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")}),this.isLoading=!1}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.category.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/jobCategory")}}};const Sa=y()(ka,[["render",_a]]);var Da=Sa;const $a={class:"orangehrm-background-container"},Ea=Object(a["createElementVNode"])("br",null,null,-1),Ta={class:"orangehrm-paper-container"},Ba={class:"orangehrm-header-container"},Ia={class:"orangehrm-container"},La={class:"orangehrm-bottom-container"};function Ua(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("employee-autocomplete"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("oxd-table-filter"),g=Object(a["resolveComponent"])("table-header"),v=Object(a["resolveComponent"])("oxd-card-table"),f=Object(a["resolveComponent"])("oxd-pagination"),y=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$a,[Object(a["createVNode"])(O,{"filter-title":e.$t("admin.system_users")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.username=e),label:e.$t("general.username")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.userRoleId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.userRoleId=e),type:"select",label:e.$t("general.user_role"),options:n.userRoles},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.empNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.empNumber=e),rules:n.rules.employee},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),options:n.userStatuses},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),Ea,Object(a["createElementVNode"])("div",Ta,[Object(a["createElementVNode"])("div",Ba,[Object(a["createVNode"])(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(g,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Ia,[Object(a["createVNode"])(v,{selected:n.checkedItems,"onUpdate:selected":t[4]||(t[4]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[5]||(t[5]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",La,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0,current:l.currentPage,"onUpdate:current":t[6]||(t[6]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(y,{ref:"deleteDialog"},null,512)])}const Aa={key:0,class:"past-employee-tag"};function Pa(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",label:e.$t("general.employee_name"),clear:!1,"create-options":r.loadEmployees},{afterSelected:Object(a["withCtx"])(({data:t})=>[t.isPastEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.past_employee")),1)],64)):Object(a["createCommentVNode"])("",!0)]),option:Object(a["withCtx"])(({data:t})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.label),1),t.isPastEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Aa,Object(a["toDisplayString"])(e.$t("general.past_employee")),1)):Object(a["createCommentVNode"])("",!0)]),_:1},8,["label","create-options"])}var qa={name:"EmployeeAutocomplete",props:{params:{type:Object,default:()=>({})},apiPath:{type:String,default:"api/v2/pim/employees"}},setup(e){const t=new K(window.appGlobal.baseUrl,e.apiPath);return{http:t}},methods:{async loadEmployees(e){return new Promise(t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),...this.params}).then(({data:e})=>{t(e.data.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,_employee:e,isPastEmployee:!!e.terminationId})))}):t([])})}}};o("ee7c");const Ma=y()(qa,[["render",Pa],["__scopeId","data-v-30f0a592"]]);var Fa=Ma;function za(){const{$t:e}=Ge(),t=(t,o)=>{if("Purged"===t.firstName&&"Employee"===t.lastName)return e("general.purged_employee");const a=null===o||void 0===o?void 0:o.includeMiddle,l=null===o||void 0===o?void 0:o.excludePastEmpTag,n="boolean"===typeof a&&a&&"string"===typeof t.middleName?` ${t.middleName} `:" ";if(t.terminationId){const o="undefined"===typeof l?" "+e("general.past_employee"):l?"":" "+e("general.past_employee");return`${t.firstName}${n}${t.lastName}${o}`}return`${t.firstName}${n}${t.lastName}`};return{$tEmpName:t}}const Ra={username:"",userRoleId:null,empNumber:null,status:null},Ga={"u.userName":"ASC","r.displayName":"ASC","e.firstName":"ASC","u.status":"DEFAULT"};var Qa={components:{"delete-confirmation":Yt,"employee-autocomplete":Fa},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ge(),{$tEmpName:o}=za(),l=a=>a.map(a=>{var l;const n=e.unselectableIds.findIndex(e=>e==a.id);return{id:a.id,userName:a.userName,role:"Admin"===(null===(l=a.userRole)||void 0===l?void 0:l.displayName)?t("general.admin"):t("general.ess"),empName:o(a.employee,{includeMiddle:!1}),status:a.status?"Enabled":"Disabled",isSelectable:-1===n}}),n=Object(a["ref"])({...Ra}),{sortDefinition:r,sortField:i,sortOrder:c,onSort:d}=Xt({sortDefinition:Ga}),s=Object(a["computed"])(()=>{var e,t,o;return{username:n.value.username,userRoleId:null===(e=n.value.userRoleId)||void 0===e?void 0:e.id,empNumber:null===(t=n.value.empNumber)||void 0===t?void 0:t.id,status:null===(o=n.value.status)||void 0===o?void 0:o.id,sortField:i.value,sortOrder:c.value}}),m=new K(window.appGlobal.baseUrl,"api/v2/admin/users"),{showPaginator:u,currentPage:b,total:p,pages:h,pageSize:j,response:O,isLoading:g,execQuery:v}=zt(m,{query:s,normalizer:l});return d(v),{http:m,showPaginator:u,currentPage:b,isLoading:g,total:p,pages:h,pageSize:j,execQuery:v,items:O,filters:n,sortDefinition:r}},data(){return{headers:[{name:"userName",title:this.$t("general.username"),sortField:"u.userName",style:{flex:1}},{name:"role",title:this.$t("general.user_role"),style:{flex:1},sortField:"r.displayName"},{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"e.firstName",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"u.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}],checkedItems:[],rules:{employee:[Fo]}}},methods:{onClickAdd(){Y("/admin/saveSystemUser")},onClickEdit(e){Y("/admin/saveSystemUser/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...Ra},this.filterItems()}}};const Ha=y()(Qa,[["render",Ua]]);var Wa=Ha;const Ja={class:"orangehrm-background-container"},Ya={class:"orangehrm-card-container"};function Xa(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("employee-autocomplete"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("password-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ja,[Object(a["createElementVNode"])("div",Ya,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_user")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.role,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.role=e),type:"select",label:e.$t("general.user_role"),rules:n.rules.role,options:n.userRoles,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.user.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.status=e),type:"select",label:e.$t("general.status"),rules:n.rules.status,options:n.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.username,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,{password:n.user.password,"onUpdate:password":t[4]||(t[4]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[5]||(t[5]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"]),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}function Ka(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-chip"),c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{class:"user-password-row"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"user-password-cell"},{default:Object(a["withCtx"])(()=>[o.password?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:Object(a["normalizeClass"])(r.chipClasses),label:r.passwordStrength},null,8,["class","label"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c,{label:e.$t("general.password"),type:"password","model-value":o.password,rules:n.rules.password,autocomplete:"off",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:password",t))},null,8,["label","model-value","rules"]),Object(a["createVNode"])(d,{class:"user-password-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.password_strength_message")),1)]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{ref:"passwordConfirm",label:e.$t("general.confirm_password"),type:"password","model-value":o.passwordConfirm,rules:n.rules.passwordConfirm,autocomplete:"off",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:passwordConfirm",t))},null,8,["label","model-value","rules"])]),_:1})]),_:1})]),_:1})}var Za=o("c55d");const el=Me();function tl(e){const t=new RegExp(/[a-z]/),o=new RegExp(/[A-Z]/),a=new RegExp(/[0-9]/),l=new RegExp(/[@#\\/\-!$%^&*()_+|~=`{}[\]:";'<>?,.]/);return[t,o,a,l].map(t=>t.test(e)?1:0)}function ol(e){if(e.length>=8){const t=tl(e);return RegExp(/\s/).test(e)?el("auth.your_password_should_not_contain_spaces"):!(t.reduce((e,t)=>e+t,0)<4)||el("auth.must_contain_lower_case_upper_case_digit_character_message")}return el("auth.should_have_min_8_characters")}var al={name:"PasswordInput",components:{"oxd-chip":Za["a"]},props:{password:{type:String,required:!0},passwordConfirm:{type:String,required:!0}},emits:["update:password","update:passwordConfirm"],data(){return{rules:{password:[io,co(64),ol],passwordConfirm:[io,co(64),e=>!!e&&e===this.password||this.$t("general.passwords_do_not_match")]}}},computed:{passwordStrength(){let e=0;switch(e=tl(this.password).reduce((e,t)=>e+t,0),this.password.trim().length<8&&(e=0),e){case 2:return this.$t("general.weak");case 3:return this.$t("general.better");case 4:return this.$t("general.strongest");default:return this.$t("general.very_weak")}},chipClasses(){return{"user-password-chip":!0,"--green":"Strongest"===this.passwordStrength}}},watch:{password(e){(this.passwordConfirm&&e!==this.passwordConfirm||this.passwordConfirm&&e===this.passwordConfirm)&&this.$nextTick(this.$refs.passwordConfirm.triggerUpdate)}}};o("3fb3");const ll=y()(al,[["render",Ka],["__scopeId","data-v-cc58de0a"]]);var nl=ll,rl=o("b260");const il={username:"",role:null,employee:null,status:null,password:"",passwordConfirm:""};var cl={components:{"employee-autocomplete":Fa,"password-input":nl},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data(){return{isLoading:!1,user:{...il},rules:{username:[io,To(5),co(40),Object(rl["a"])(this.validateUserName,500)],role:[io],employee:[io,Fo],status:[io]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},methods:{onCancel(){Y("/admin/viewSystemUsers")},onSave(){var e,t;this.isLoading=!0,this.http.create({username:this.user.username.trim(),password:this.user.password,status:this.user.status&&1===this.user.status.id,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},validateUserName(e){return new Promise(t=>{e?this.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:this.user.username.trim()}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const dl=y()(cl,[["render",Xa]]);var sl=dl;const ml={class:"orangehrm-background-container"},ul={class:"orangehrm-card-container"};function bl(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("employee-autocomplete"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("password-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ml,[Object(a["createElementVNode"])("div",ul,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_user")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.role,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.role=e),type:"select",label:e.$t("general.user_role"),rules:n.rules.role,options:n.userRoles,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.user.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.status=e),type:"select",label:e.$t("general.status"),rules:n.rules.status,options:n.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.username,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.user.changePassword,"onUpdate:modelValue":t[4]||(t[4]=e=>n.user.changePassword=e),type:"checkbox",value:"true","true-value":!0,"false-value":!1,"option-label":"Yes",label:e.$t("general.change_password_question")},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),n.user.changePassword?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,password:n.user.password,"onUpdate:password":t[5]||(t[5]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[6]||(t[6]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const pl={id:"",username:"",role:null,employee:null,status:null,changePassword:!1,password:"",passwordConfirm:""};var hl={components:{"employee-autocomplete":Fa,"password-input":nl},props:{systemUserId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data(){return{isLoading:!1,user:{...pl},rules:{username:[io,To(5),co(40),Object(rl["a"])(this.validateUserName,500)],role:[io],employee:[io,Fo],status:[io]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},beforeMount(){this.isLoading=!0,this.http.get(this.systemUserId).then(e=>{const{data:t}=e.data;this.user.id=t.id,this.user.username=t.userName,this.user.role=this.userRoles.find(e=>e.id===t.userRole.id),this.user.employee={id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName} ${t.employee.lastName}`,isPastEmployee:t.employee.terminationId},t.status?this.user.status={id:1,label:this.$t("general.enabled")}:this.user.status={id:2,label:this.$t("general.disabled")}}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/viewSystemUsers")},onSave(){var e,t;this.isLoading=!0,this.http.update(this.systemUserId,{username:this.user.username.trim(),password:this.user.password,status:this.user.status&&"Enabled"===this.user.status.label,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id,changePassword:this.user.changePassword}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},validateUserName(e){return new Promise(t=>{e?this.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:this.user.username.trim(),userId:this.systemUserId}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const jl=y()(hl,[["render",bl]]);var Ol=jl;const gl={class:"orangehrm-background-container"},vl={class:"orangehrm-paper-container"},fl={class:"orangehrm-header-container"},yl={key:1,class:"org-root-container"},Cl={class:"org-container"},Vl={key:0,class:"loader"},xl={class:"org-name"},wl={class:"org-action"};function Nl(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-switch-input"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-button"),m=Object(a["resolveComponent"])("oxd-loading-spinner"),u=Object(a["resolveComponent"])("oxd-icon-button"),b=Object(a["resolveComponent"])("oxd-sheet"),p=Object(a["resolveComponent"])("oxd-tree-view"),h=Object(a["resolveComponent"])("delete-confirmation"),j=Object(a["resolveComponent"])("save-org-unit"),O=Object(a["resolveComponent"])("edit-org-unit");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gl,[Object(a["createElementVNode"])("div",vl,[Object(a["createElementVNode"])("div",fl,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.organization_structure")),1)]),_:1}),n.isLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"]))]),n.isLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-horizontal-margin orangehrm-clear-margins"})),n.isLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yl,[Object(a["createVNode"])(i,{tag:"p",class:Object(a["normalizeClass"])({"--parent":n.data&&0!=n.data.children})},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.data.name),1)]),_:1},8,["class"]),Object(a["withDirectives"])(Object(a["createVNode"])(s,{class:"org-structure-add",label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:t[1]||(t[1]=e=>r.onAddOrglevel(n.data))},null,8,["label"]),[[a["vShow"],n.editable]])])),Object(a["createElementVNode"])("div",Cl,[n.isLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Vl,[Object(a["createVNode"])(m)])):(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:1,data:n.data,open:!0,"show-root":!1,class:"org-structure"},{content:Object(a["withCtx"])(({nodeData:e})=>[Object(a["createVNode"])(b,{type:"pastel-white",class:Object(a["normalizeClass"])({"org-structure-card":!0,"--edit":n.editable})},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",xl,Object(a["toDisplayString"])(e.unitId?e.unitId+":":"")+"  "+Object(a["toDisplayString"])(e.name),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",wl,[Object(a["createVNode"])(u,{class:"org-action-icon",name:"trash-fill",role:"none",onClick:t=>r.onDelete(e)},null,8,["onClick"]),Object(a["createVNode"])(u,{class:"org-action-icon",name:"pencil-fill",role:"none",onClick:t=>r.onEditOrglevel(e)},null,8,["onClick"]),Object(a["createVNode"])(u,{class:"org-action-icon",name:"plus",role:"none",onClick:t=>r.onAddOrglevel(e)},null,8,["onClick"])],512),[[a["vShow"],n.editable]])]),_:2},1032,["class"])]),_:1},8,["data"]))])]),Object(a["createVNode"])(h,{ref:"deleteDialog"},null,512),n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,data:n.saveModalState,onClose:r.onSaveModalClose},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:1,data:n.editModalState,onClose:r.onEditModalClose},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0)])}var _l=o("904c"),kl=o("7c78"),Sl=o("ac59");const Dl={class:"orangehrm-modal-header"};function $l(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Dl,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_organization_unit")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.orgUnit.unitId=e),label:e.$t("admin.unit_id"),rules:n.rules.unitId},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.orgUnit.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.orgUnit.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"level-label"},{default:Object(a["withCtx"])(()=>{var t;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.this_unit_will_be_added_under"))+" ",1),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(null===(t=o.data)||void 0===t?void 0:t.name),1)]}),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const El={unitId:"",name:"",description:""};var Tl={name:"SaveOrgUnit",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data(){return{isLoading:!1,orgUnit:{...El},rules:{unitId:[co(100)],name:[io,co(100)],description:[co(400)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;t&&this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());return!(o>-1)||this.$t("admin.organization_unit_name_should_be_unique")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.create({...this.orgUnit,parentId:null===(e=this.data)||void 0===e?void 0:e.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.orgUnit={...El},this.$emit("close",!0)}}};o("3297");const Bl=y()(Tl,[["render",$l],["__scopeId","data-v-457800ec"]]);var Il=Bl;const Ll={class:"orangehrm-modal-header"};function Ul(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Ll,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_organization_unit")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.orgUnit.unitId=e),label:e.$t("admin.unit_id"),rules:n.rules.unitId},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.orgUnit.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.orgUnit.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const Al={unitId:"",name:"",description:""};var Pl={name:"EditOrgUnit",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data(){return{isLoading:!1,orgUnit:{...Al},rules:{unitId:[co(100)],name:[io,co(100)],description:[co(400)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;return this.orgUnit.name=t.name,this.orgUnit.description=t.description,this.orgUnit.unitId=t.unitId,this.http.getAll()}).then(e=>{const{data:t}=e.data;t&&this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());if(o>-1){const{id:e}=t[o];return e==this.data.id||this.$t("admin.organization_unit_name_should_be_unique")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.orgUnit}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const ql=y()(Pl,[["render",Ul]]);var Ml=ql,Fl={components:{"oxd-tree-view":_l["a"],"oxd-sheet":kl["a"],"oxd-switch-input":Sl["a"],"oxd-loading-spinner":Z["a"],"delete-confirmation":Yt,"save-org-unit":Il,"edit-org-unit":Ml},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data(){return{isLoading:!1,editable:!1,showSaveModal:!1,saveModalState:null,showEditModal:!1,editModalState:null,data:{}}},created(){this.fetchOrgStructure()},methods:{onDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&(this.isLoading=!0,this.http.delete(e.id).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.fetchOrgStructure()}))})},onAddOrglevel(e){this.editable&&(this.saveModalState=e,this.showSaveModal=!0)},onEditOrglevel(e){this.editable&&(this.editModalState=e,this.showEditModal=!0)},onSaveModalClose(){this.saveModalState=null,this.showSaveModal=!1,this.fetchOrgStructure()},onEditModalClose(){this.editModalState=null,this.showEditModal=!1,this.fetchOrgStructure()},fetchOrgStructure(){this.isLoading=!0,this.http.getAll({mode:"tree"}).then(e=>{const{data:t}=e.data;this.data=t[0]}).finally(()=>{this.isLoading=!1})}}};o("8d08"),o("7a7b");const zl=y()(Fl,[["render",Nl],["__scopeId","data-v-54cd97af"]]);var Rl=zl;const Gl={class:"orangehrm-background-container"},Ql={class:"orangehrm-card-container"};function Hl(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gl,[Object(a["createElementVNode"])("div",Ql,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_employment_status")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employmentStatus.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Wl={props:{employmentStatusId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[io,co(50)]}}},created(){this.isLoading=!0,this.http.get(this.employmentStatusId).then(e=>{const{data:t}=e.data;return this.employmentStatus.id=t.id,this.employmentStatus.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.employmentStatus.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.employmentStatusId,{name:this.employmentStatus.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/employmentStatus")}}};const Jl=y()(Wl,[["render",Hl]]);var Yl=Jl;const Xl={class:"orangehrm-background-container"},Kl={class:"orangehrm-paper-container"},Zl={class:"orangehrm-header-container"},en={class:"orangehrm-container"},tn={class:"orangehrm-bottom-container"};function on(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xl,[Object(a["createElementVNode"])("div",Kl,[Object(a["createElementVNode"])("div",Zl,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.employment_status")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",en,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",tn,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var an={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.employment_status"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveEmploymentStatus")},onClickEdit(e){Y("/admin/saveEmploymentStatus/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const ln=y()(an,[["render",on]]);var nn=ln;const rn={class:"orangehrm-background-container"},cn={class:"orangehrm-card-container"};function dn(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rn,[Object(a["createElementVNode"])("div",cn,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_employment_status")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employmentStatus.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var sn={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[io,co(50)]}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.employmentStatus.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/employmentStatus")}}};const mn=y()(sn,[["render",dn]]);var un=mn;const bn={class:"orangehrm-background-container"},pn={class:"orangehrm-paper-container"},hn={class:"orangehrm-header-container"},jn={class:"orangehrm-container"},On={class:"orangehrm-bottom-container"};function gn(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bn,[Object(a["createElementVNode"])("div",pn,[Object(a["createElementVNode"])("div",hn,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.education")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",jn,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",On,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var vn={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/educations"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.level"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveEducation")},onClickEdit(e){Y("/admin/saveEducation/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const fn=y()(vn,[["render",gn]]);var yn=fn;const Cn={class:"orangehrm-background-container"},Vn={class:"orangehrm-card-container"};function xn(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cn,[Object(a["createElementVNode"])("div",Vn,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_education")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.qualification.name=e),label:e.$t("general.level"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var wn={props:{educationId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.get(this.educationId).then(e=>{const{data:t}=e.data;return this.qualification.id=t.id,this.qualification.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.qualification.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.educationId,{name:this.qualification.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/viewEducation")}}};const Nn=y()(wn,[["render",xn]]);var _n=Nn;const kn={class:"orangehrm-background-container"},Sn={class:"orangehrm-card-container"};function Dn(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",kn,[Object(a["createElementVNode"])("div",Sn,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_education")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.qualification.name=e),label:e.$t("general.level"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var $n={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")}),this.isLoading=!1}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.qualification.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/viewEducation")}}};const En=y()($n,[["render",Dn]]);var Tn=En;const Bn={class:"orangehrm-background-container"},In={class:"orangehrm-paper-container"},Ln={class:"orangehrm-header-container"},Un={class:"orangehrm-container"},An={class:"orangehrm-bottom-container"};function Pn(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Bn,[Object(a["createElementVNode"])("div",In,[Object(a["createElementVNode"])("div",Ln,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.skills")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Un,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",An,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var qn={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/skills"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveSkills")},onClickEdit(e){Y("/admin/saveSkills/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Mn=y()(qn,[["render",Pn]]);var Fn=Mn;const zn={class:"orangehrm-background-container"},Rn={class:"orangehrm-card-container"};function Gn(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zn,[Object(a["createElementVNode"])("div",Rn,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_skill")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Qn={id:"",name:"",description:""};var Hn={props:{qualificationSkillId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data(){return{isLoading:!1,skill:{...Qn},rules:{name:[io,co(120)],description:[co(400)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationSkillId).then(e=>{const{data:t}=e.data;return this.skill.id=t.id,this.skill.name=t.name,this.skill.description=t.description,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.category.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationSkillId,{name:this.skill.name,description:this.skill.description}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/viewSkills")}}};const Wn=y()(Hn,[["render",Gn]]);var Jn=Wn;const Yn={class:"orangehrm-background-container"},Xn={class:"orangehrm-card-container"};function Kn(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Yn,[Object(a["createElementVNode"])("div",Xn,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_skill")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Zn={id:"",name:"",description:""};var er={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data(){return{isLoading:!1,skill:{...Zn},rules:{name:[io,co(120)],description:[co(400)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.skill.name,description:this.skill.description}).then(()=>this.$toast.saveSuccess()).then(()=>{this.skill.name="",this.skill.description="",this.onCancel()})},onCancel(){Y("/admin/viewSkills")}}};const tr=y()(er,[["render",Kn]]);var or=tr;const ar={class:"orangehrm-background-container"},lr={class:"orangehrm-card-container"};function nr(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ar,[Object(a["createElementVNode"])("div",lr,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_license")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var rr={props:{licenseId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.get(this.licenseId).then(e=>{const{data:t}=e.data;return this.license.id=t.id,this.license.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.license.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.licenseId,{name:this.license.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/viewLicenses")}}};const ir=y()(rr,[["render",nr]]);var cr=ir;const dr={class:"orangehrm-background-container"},sr={class:"orangehrm-card-container"};function mr(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",dr,[Object(a["createElementVNode"])("div",sr,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_license")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var ur={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.license.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.license.name="",this.onCancel()})},onCancel(){Y("/admin/viewLicenses")}}};const br=y()(ur,[["render",mr]]);var pr=br;const hr={class:"orangehrm-background-container"},jr={class:"orangehrm-paper-container"},Or={class:"orangehrm-header-container"},gr={class:"orangehrm-container"},vr={class:"orangehrm-bottom-container"};function fr(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hr,[Object(a["createElementVNode"])("div",jr,[Object(a["createElementVNode"])("div",Or,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.licenses")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",gr,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",vr,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var yr={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/licenses"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveLicenses")},onClickEdit(e){Y("/admin/saveLicenses/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Cr=y()(yr,[["render",fr]]);var Vr=Cr;const xr={class:"orangehrm-background-container"},wr={class:"orangehrm-card-container"};function Nr(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xr,[Object(a["createElementVNode"])("div",wr,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_language")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var _r={props:{qualificationLanguageId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[io,co(120)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationLanguageId).then(e=>{const{data:t}=e.data;return this.language.id=t.id,this.language.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.language.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationLanguageId,{name:this.language.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/viewLanguages")}}};const kr=y()(_r,[["render",Nr]]);var Sr=kr;const Dr={class:"orangehrm-background-container"},$r={class:"orangehrm-card-container"};function Er(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Dr,[Object(a["createElementVNode"])("div",$r,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_language")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Tr={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[io,co(120)]}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.language.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.language.name="",this.onCancel()})},onCancel(){Y("/admin/viewLanguages")}}};const Br=y()(Tr,[["render",Er]]);var Ir=Br;const Lr={class:"orangehrm-background-container"},Ur={class:"orangehrm-paper-container"},Ar={class:"orangehrm-header-container"},Pr={class:"orangehrm-container"},qr={class:"orangehrm-bottom-container"};function Mr(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Lr,[Object(a["createElementVNode"])("div",Ur,[Object(a["createElementVNode"])("div",Ar,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.languages")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Pr,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",qr,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Fr={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/languages"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveLanguages")},onClickEdit(e){Y("/admin/saveLanguages/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const zr=y()(Fr,[["render",Mr]]);var Rr=zr;const Gr={class:"orangehrm-background-container"},Qr={class:"orangehrm-paper-container"},Hr={class:"orangehrm-header-container"},Wr={class:"orangehrm-container"},Jr={class:"orangehrm-bottom-container"};function Yr(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gr,[Object(a["createElementVNode"])("div",Qr,[Object(a["createElementVNode"])("div",Hr,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.memberships")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Wr,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",Jr,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Xr={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/memberships"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.membership"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveMemberships")},onClickEdit(e){Y("/admin/saveMemberships/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Kr=y()(Xr,[["render",Yr]]);var Zr=Kr;const ei={class:"orangehrm-background-container"},ti={class:"orangehrm-card-container"};function oi(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ei,[Object(a["createElementVNode"])("div",ti,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_membership")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var ai={props:{qualificationMembershipId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[io,co(50)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationMembershipId).then(e=>{const{data:t}=e.data;return this.membership.id=t.id,this.membership.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.membership.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationMembershipId,{name:this.membership.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/membership")}}};const li=y()(ai,[["render",oi]]);var ni=li;const ri={class:"orangehrm-background-container"},ii={class:"orangehrm-card-container"};function ci(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ri,[Object(a["createElementVNode"])("div",ii,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_membership")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var di={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[io,co(50)]}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.membership.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.membership.name="",this.onCancel()})},onCancel(){Y("/admin/membership")}}};const si=y()(di,[["render",ci]]);var mi=si;const ui={class:"orangehrm-background-container"},bi={class:"orangehrm-card-container"},pi={class:"orangehrm-header-container"};function hi(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-switch-input"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-input-group"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ui,[Object(a["createElementVNode"])("div",bi,[Object(a["createElementVNode"])("div",pi,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.general_information")),1)]),_:1}),Object(a["createVNode"])(c,{modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])]),Object(a["createVNode"])(d),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.organization.name=e),label:e.$t("admin.organization_name"),rules:n.rules.name,disabled:!n.editable,required:""},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{label:e.$t("admin.number_of_employees")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"no-of-employees-value"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.organization.noOfEmployees),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.registrationNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>n.organization.registrationNumber=e),label:e.$t("admin.registration_number"),rules:n.rules.registrationNumber,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.taxId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.organization.taxId=e),label:e.$t("admin.tax_id"),rules:n.rules.taxId,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.organization.phone=e),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:n.rules.phone,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.fax,"onUpdate:modelValue":t[5]||(t[5]=e=>n.organization.fax=e),label:e.$t("general.fax"),rules:n.rules.fax,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.organization.email=e),label:e.$t("general.email"),rules:n.rules.email,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.street1,"onUpdate:modelValue":t[7]||(t[7]=e=>n.organization.street1=e),label:e.$t("general.address_street_1"),rules:n.rules.street1,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.street2,"onUpdate:modelValue":t[8]||(t[8]=e=>n.organization.street2=e),label:e.$t("general.address_street_2"),rules:n.rules.street2,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.city,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization.city=e),label:e.$t("general.city"),rules:n.rules.city,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.province,"onUpdate:modelValue":t[10]||(t[10]=e=>n.organization.province=e),label:e.$t("general.state_province"),rules:n.rules.province,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.zipCode,"onUpdate:modelValue":t[11]||(t[11]=e=>n.organization.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.country,"onUpdate:modelValue":t[12]||(t[12]=e=>n.organization.country=e),label:e.$t("general.country"),type:"select",rules:n.rules.country,options:o.countryList,disabled:!n.editable},null,8,["modelValue","label","rules","options","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.organization.note,"onUpdate:modelValue":t[13]||(t[13]=e=>n.organization.note=e),label:e.$t("general.notes"),type:"textarea",rules:n.rules.note,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),n.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var ji={components:{"oxd-switch-input":Sl["a"]},props:{numberOfEmployees:{type:Number,required:!0},countryList:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/organization");return{http:e}},data(){return{editable:!1,isLoading:!1,organization:{name:"",noOfEmployees:this.numberOfEmployees,registrationNumber:"",taxId:"",phone:"",fax:"",email:"",street1:"",street2:"",city:"",province:"",country:null,zipCode:"",note:""},rules:{name:[io,co(100)],registrationNumber:[co(30)],taxId:[co(30)],phone:[co(30),So],fax:[co(30),So],email:[co(30),ko],street1:[co(100)],street2:[co(100)],city:[co(30)],province:[co(30)],zipCode:[co(30)],note:[co(255)],country:[]},errors:[]}},created(){this.isLoading=!0,this.http.http.get("api/v2/admin/organization").then(e=>{const{data:t}=e.data;this.organization.name=t.name,this.organization.registrationNumber=t.registrationNumber,this.organization.taxId=t.taxId,this.organization.phone=t.phone,this.organization.fax=t.fax,this.organization.email=t.email,this.organization.street1=t.street1,this.organization.street2=t.street2,this.organization.city=t.city,this.organization.province=t.province,""!==t.country&&null!==t.country&&(this.organization.country=this.countryList.find(e=>e.id===t.country)),this.organization.zipCode=t.zipCode,this.organization.note=t.note}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.http.put("api/v2/admin/organization",{name:this.organization.name,registrationNumber:this.organization.registrationNumber,taxId:this.organization.taxId,phone:this.organization.phone,fax:this.organization.fax,email:this.organization.email,street1:this.organization.street1,street2:this.organization.street2,city:this.organization.city,province:this.organization.province,country:null===(e=this.organization.country)||void 0===e?void 0:e.id,zipCode:this.organization.zipCode,note:this.organization.note}).then(()=>this.$toast.updateSuccess()).then(()=>{this.isLoading=!1,this.editable=!1})}}};o("6161");const Oi=y()(ji,[["render",hi],["__scopeId","data-v-775f4d2a"]]);var gi=Oi;const vi={class:"orangehrm-background-container"},fi={class:"orangehrm-paper-container"},yi={class:"orangehrm-header-container"},Ci={class:"orangehrm-container"},Vi={class:"orangehrm-bottom-container"};function xi(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vi,[Object(a["createElementVNode"])("div",fi,[Object(a["createElementVNode"])("div",yi,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.nationalities")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Ci,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",Vi,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var wi={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/nationalities"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.nationality"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveNationality")},onClickEdit(e){Y("/admin/saveNationality/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Ni=y()(wi,[["render",xi]]);var _i=Ni;const ki={class:"orangehrm-background-container"},Si={class:"orangehrm-card-container"};function Di(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ki,[Object(a["createElementVNode"])("div",Si,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_nationality")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.nationality.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var $i={props:{nationalityId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.get(this.nationalityId).then(e=>{const{data:t}=e.data;return this.nationality.id=t.id,this.nationality.name=t.name,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.nationality.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.nationalityId,{name:this.nationality.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/nationality")}}};const Ei=y()($i,[["render",Di]]);var Ti=Ei;const Bi={class:"orangehrm-background-container"},Ii={class:"orangehrm-card-container"};function Li(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Bi,[Object(a["createElementVNode"])("div",Ii,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_nationality")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.nationality.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Ui={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.nationality.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/nationality")}}};const Ai=y()(Ui,[["render",Li]]);var Pi=Ai;const qi={class:"orangehrm-background-container"},Mi={class:"orangehrm-card-container"},Fi={class:"send-method-div"},zi={class:"orangehrm-optional-field-row"},Ri={class:"orangehrm-optional-field-row"};function Gi(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-group"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qi,[Object(a["createElementVNode"])("div",Mi,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.email_configuration")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.sentAs,"onUpdate:modelValue":t[0]||(t[0]=e=>n.emailConfiguration.sentAs=e),label:e.$t("admin.mail_sent_as"),rules:n.rules.sentAs,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{label:e.$t("admin.sending_method")},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Fi,[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.secure_smtp"),value:"smtps"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.smtp"),value:"smtp"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.sendmail"),value:"sendmail"},null,8,["modelValue","option-label"])])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),"sendmail"===n.emailConfiguration.mailType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{label:e.$t("admin.path_to_sendmail")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"sendmail-path-value"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.emailConfiguration.pathToSendmail),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),"sendmail"!==n.emailConfiguration.mailType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpHost,"onUpdate:modelValue":t[4]||(t[4]=e=>n.emailConfiguration.smtpHost=e),label:e.$t("admin.smtp_host"),rules:n.rules.smtpHost,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpPort,"onUpdate:modelValue":t[5]||(t[5]=e=>n.emailConfiguration.smtpPort=e),label:e.$t("admin.smtp_port"),rules:n.rules.smtpPort},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),"sendmail"!==n.emailConfiguration.mailType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:2},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{label:e.$t("admin.use_smtp_authentication"),classes:{wrapper:"--status-grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[6]||(t[6]=e=>n.emailConfiguration.smtpAuthType=e),type:"radio","option-label":e.$t("general.yes"),value:"login"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[7]||(t[7]=e=>n.emailConfiguration.smtpAuthType=e),type:"radio","option-label":e.$t("general.no"),value:"none"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),"sendmail"!==n.emailConfiguration.mailType&&"login"===n.emailConfiguration.smtpAuthType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpUsername,"onUpdate:modelValue":t[8]||(t[8]=e=>n.emailConfiguration.smtpUsername=e),label:e.$t("admin.smtp_user"),rules:n.rules.smtpUsername,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.smtpPassword,"onUpdate:modelValue":t[9]||(t[9]=e=>n.emailConfiguration.smtpPassword=e),label:e.$t("admin.smtp_password"),rules:n.rules.smtpPassword,type:"password",placeholder:n.passwordPlaceHolder,required:""},null,8,["modelValue","label","rules","placeholder"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),"sendmail"!==n.emailConfiguration.mailType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:4,class:"orangehrm-input-field-bottom-space"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",zi,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.tls")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.useTLSSecureConnection,"onUpdate:modelValue":t[10]||(t[10]=e=>n.useTLSSecureConnection=e)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),"sendmail"!==n.emailConfiguration.mailType?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:5},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"tls-hint"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.optional_the_mail_server_requires_the_use_of_tls_security")),1)]),_:1})]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Ri,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.send_test_email")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.sendTestMailEditable,"onUpdate:modelValue":t[11]||(t[11]=e=>n.sendTestMailEditable=e)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),n.sendTestMailEditable?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:6},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.emailConfiguration.testEmailAddress,"onUpdate:modelValue":t[12]||(t[12]=e=>n.emailConfiguration.testEmailAddress=e),label:e.$t("admin.test_email_address"),rules:n.rules.testEmailAddress,disabled:!n.sendTestMailEditable,required:""},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onReset},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Qi={components:{"oxd-switch-input":Sl["a"]},props:{pathToSendmail:{type:String,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/email-configuration");return{http:e}},data(){return{passwordPlaceHolder:"",defaultValues:{smtpSecurityType:"tls"},useTLSSecureConnection:!0,sendTestMailEditable:!1,isLoading:!1,emailConfiguration:{mailType:"",sentAs:"",pathToSendmail:this.pathToSendmail,smtpHost:"",smtpPort:null,smtpUsername:"",smtpPassword:null,smtpAuthType:"",smtpSecurityType:"",testEmailAddress:""},initialEmailConfiguration:{...this.emailConfiguration,useTLSSecureConnection:!1},rules:{mailType:[io,co(50)],sentAs:[io,co(100),ko],smtpHost:[io,co(100)],smtpPort:[co(10)],smtpUsername:[io,co(100)],smtpPassword:[co(100)],smtpAuthType:[co(50)],smtpSecurityType:[co(50)],testEmailAddress:[io,co(250),ko]}}},created(){this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/admin/email-configuration"}).then(e=>{const{data:t}=e.data;this.emailConfiguration.mailType=t.mailType,this.emailConfiguration.sentAs=t.sentAs,this.emailConfiguration.smtpHost=t.smtpHost,this.emailConfiguration.smtpPort=t.smtpPort,this.emailConfiguration.smtpUsername=t.smtpUsername,this.passwordPlaceHolder=t.smtpUsername?"******":"",this.emailConfiguration.smtpAuthType=t.smtpAuthType,this.emailConfiguration.testEmailAddress=t.testEmailAddress,this.useTLSSecureConnection="tls"===t.smtpSecurityType,this.initialEmailConfiguration={...this.emailConfiguration,useTLSSecureConnection:this.useTLSSecureConnection},t.smtpUsername||this.rules.smtpPassword.push(io)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{mailType:this.emailConfiguration.mailType,sentAs:this.emailConfiguration.sentAs,smtpHost:this.emailConfiguration.smtpHost,smtpPort:parseInt(this.emailConfiguration.smtpPort),smtpUsername:"login"===this.emailConfiguration.smtpAuthType?this.emailConfiguration.smtpUsername:"",smtpPassword:""===this.emailConfiguration.smtpPassword?null:this.emailConfiguration.smtpPassword,smtpAuthType:this.emailConfiguration.smtpAuthType,smtpSecurityType:this.useTLSSecureConnection?"tls":"none",testEmailAddress:this.emailConfiguration.testEmailAddress}}).then(e=>{var t;const o=null===(t=e.data.meta)||void 0===t?void 0:t.testEmailStatus;return 1===o&&this.sendTestMailEditable?this.$toast.success({title:this.$t("general.success"),message:this.$t("admin.test_email_sent")}):0===o&&this.sendTestMailEditable&&this.$toast.warn({title:this.$t("general.failed"),message:this.$t("admin.test_email_not_sent")}),this.$toast.saveSuccess()}).then(()=>{this.isLoading=!1})},onReset(){this.emailConfiguration={...this.initialEmailConfiguration},this.useTLSSecureConnection=this.initialEmailConfiguration.useTLSSecureConnection}}};o("39eb");const Hi=y()(Qi,[["render",Gi],["__scopeId","data-v-21c95ab0"]]);var Wi=Hi;const Ji={class:"orangehrm-background-container"},Yi=Object(a["createElementVNode"])("br",null,null,-1),Xi={class:"orangehrm-paper-container"},Ki={class:"orangehrm-header-container"},Zi={class:"orangehrm-container"},ec={class:"orangehrm-bottom-container"};function tc(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("table-header"),g=Object(a["resolveComponent"])("oxd-card-table"),v=Object(a["resolveComponent"])("oxd-pagination"),f=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ji,[Object(a["createVNode"])(j,{"filter-title":e.$t("admin.locations")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.name=e),label:e.$t("general.name")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.city,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.city=e),label:e.$t("general.city")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.countryCode,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.countryCode=e),type:"select",label:e.$t("general.country"),clear:!1,options:o.countries},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),Yi,Object(a["createElementVNode"])("div",Xi,[Object(a["createElementVNode"])("div",Ki,[Object(a["createElementVNode"])("div",null,[e.$can.create("locations")?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(O,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Zi,[Object(a["createVNode"])(g,{selected:n.checkedItems,"onUpdate:selected":t[3]||(t[3]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[4]||(t[4]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("locations"),disabled:!(e.$can.delete("locations")&&e.$can.update("locations")),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","selectable","disabled","loading"])]),Object(a["createElementVNode"])("div",ec,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(f,{ref:"deleteDialog"},null,512)])}const oc={name:"",city:"",countryCode:{}},ac={"location.name":"ASC","location.city":"DEFAULT","country.countryName":"DEFAULT","location.phone":"DEFAULT",noOfEmployees:"DEFAULT"},lc=e=>e.map(e=>({id:e.id,name:e.name,city:e.city,country:e.country.countryName,phone:e.phone,noOfEmployees:e.noOfEmployees?e.noOfEmployees:0}));var nc={components:{"delete-confirmation":Yt},props:{countries:{type:Array,default:()=>[]}},setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=Xt({sortDefinition:ac}),n=Object(a["ref"])({...oc}),r=Object(a["computed"])(()=>{var e;return{name:n.value.name,city:n.value.city,countryCode:null===(e=n.value.countryCode)||void 0===e?void 0:e.id,sortField:t.value,sortOrder:o.value}}),i=new K(window.appGlobal.baseUrl,"/api/v2/admin/locations"),{showPaginator:c,currentPage:d,total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h}=zt(i,{query:r,normalizer:lc});return l(h),{http:i,showPaginator:c,currentPage:d,isLoading:p,total:s,pages:m,pageSize:u,execQuery:h,items:b,filters:n,sortDefinition:e}},data(){const e={delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}};return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1},sortField:"location.name"},{name:"city",title:this.$t("general.city"),style:{flex:1},sortField:"location.city"},{name:"country",title:this.$t("general.country"),style:{flex:1},sortField:"country.countryName"},{name:"phone",title:this.$t("general.phone"),style:{flex:1},sortField:"location.phone"},{name:"noOfEmployees",title:this.$t("admin.number_of_employees"),style:{flex:1},sortField:"noOfEmployees"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:e}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveLocation")},onClickEdit(e){Y("/admin/saveLocation/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...oc},this.filterItems()}}};const rc=y()(nc,[["render",tc]]);var ic=rc;const cc={class:"orangehrm-background-container"},dc={class:"orangehrm-card-container"};function sc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",cc,[Object(a["createElementVNode"])("div",dc,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_location")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.location.name=e),label:e.$t("general.name"),rules:n.rules.name,required:"",disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.location.city=e),label:e.$t("general.city"),rules:n.rules.city,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.province,"onUpdate:modelValue":t[2]||(t[2]=e=>n.location.province=e),label:e.$t("general.state_province"),rules:n.rules.province,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=e=>n.location.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.location.countryCode=e),type:"select",label:e.$t("general.country"),rules:n.rules.countryCode,clear:!1,options:o.countries,required:"",disabled:!r.hasCreatePermissions},null,8,["modelValue","label","rules","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>n.location.phone=e),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:n.rules.phone,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.fax,"onUpdate:modelValue":t[6]||(t[6]=e=>n.location.fax=e),label:e.$t("general.fax"),rules:n.rules.fax,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.location.address=e),type:"textarea",label:e.$t("admin.address"),rules:n.rules.address,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.note,"onUpdate:modelValue":t[8]||(t[8]=e=>n.location.note=e),type:"textarea",label:e.$t("general.notes"),rules:n.rules.note,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),r.hasCreatePermissions?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const mc={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""};var uc={props:{countries:{type:Array,default:()=>[]}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data(){return{isLoading:!1,location:{...mc},rules:{name:[io,co(100)],countryCode:[io],province:[co(50)],city:[co(50)],address:[co(250)],zipCode:[co(30)],phone:[co(30),So],fax:[co(30),So],note:[co(250)]}}},computed:{hasCreatePermissions(){return this.$can.create("locations")}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/viewLocations")},onSave(){this.isLoading=!0,this.http.create({...this.location,countryCode:this.location.countryCode.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})}}};const bc=y()(uc,[["render",sc]]);var pc=bc;const hc={class:"orangehrm-background-container"},jc={class:"orangehrm-card-container"};function Oc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hc,[Object(a["createElementVNode"])("div",jc,[Object(a["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_location")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,novalidate:"true",onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.location.name=e),disabled:!r.hasUpdatePermissions,rules:n.rules.name,label:e.$t("general.name"),required:""},null,8,["modelValue","disabled","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.location.city=e),disabled:!r.hasUpdatePermissions,rules:n.rules.city,label:e.$t("general.city")},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.province,"onUpdate:modelValue":t[2]||(t[2]=e=>n.location.province=e),disabled:!r.hasUpdatePermissions,rules:n.rules.province,label:e.$t("general.state_province")},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=e=>n.location.zipCode=e),disabled:!r.hasUpdatePermissions,rules:n.rules.zipCode,label:e.$t("general.zip_postal_code")},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.location.countryCode=e),clear:!1,disabled:!r.hasUpdatePermissions,options:o.countries,rules:n.rules.countryCode,label:e.$t("general.country"),required:"",type:"select"},null,8,["modelValue","disabled","options","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>n.location.phone=e),modelModifiers:{trim:!0},disabled:!r.hasUpdatePermissions,rules:n.rules.phone,label:e.$t("general.phone")},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.fax,"onUpdate:modelValue":t[6]||(t[6]=e=>n.location.fax=e),disabled:!r.hasUpdatePermissions,rules:n.rules.fax,label:e.$t("general.fax")},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.location.address=e),disabled:!r.hasUpdatePermissions,rules:n.rules.address,label:e.$t("admin.address"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.location.note,"onUpdate:modelValue":t[8]||(t[8]=e=>n.location.note=e),disabled:!r.hasUpdatePermissions,rules:n.rules.note,label:e.$t("general.note"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),r.hasUpdatePermissions?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const gc={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""};var vc={props:{locationId:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data(){return{isLoading:!1,location:{...gc},rules:{name:[io,co(100)],countryCode:[io],province:[co(50)],city:[co(50)],address:[co(250)],zipCode:[co(30)],phone:[co(30),So],fax:[co(30),So],note:[co(250)]}}},computed:{hasUpdatePermissions(){return this.$can.update("locations")}},created(){this.isLoading=!0,this.http.get(parseInt(this.locationId,10)).then(e=>{const{data:t}=e.data;return this.location.name=t.name,this.location.countryCode=this.countries.find(e=>e.id===t.country.countryCode),this.location.province=t.province,this.location.city=t.city,this.location.address=t.address,this.location.zipCode=t.zipCode,this.location.phone=t.phone,this.location.fax=t.fax,this.location.note=t.note,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return parseInt(e,10)===parseInt(this.locationId,10)||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/viewLocations")},onSave(){this.isLoading=!0,this.http.update(this.locationId,{name:this.location.name,countryCode:this.location.countryCode.id,province:this.location.province,city:this.location.city,address:this.location.address,zipCode:this.location.zipCode,phone:this.location.phone,fax:this.location.fax,note:this.location.note}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})}}};const fc=y()(vc,[["render",Oc]]);var yc=fc;const Cc={class:"orangehrm-background-container"},Vc={class:"orangehrm-paper-container"},xc={class:"orangehrm-header-container"},wc={class:"orangehrm-container"},Nc={class:"orangehrm-bottom-container"};function _c(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cc,[Object(a["createElementVNode"])("div",Vc,[Object(a["createElementVNode"])("div",xc,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.pay_grades")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",wc,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",Nc,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}const kc=e=>e.map(e=>{const t=e.currencies.map(e=>e.name);return{id:e.id,name:e.name,currency:t.join(",")}});var Sc={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e,{normalizer:kc});return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"40%"}},{name:"currency",title:this.$t("general.currency"),style:{"flex-basis":"40%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/payGrade")},onClickEdit(e){Y("/admin/payGrade/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Dc=y()(Sc,[["render",_c]]);var $c=Dc;const Ec={class:"orangehrm-background-container"},Tc={class:"orangehrm-card-container"};function Bc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ec,[Object(a["createElementVNode"])("div",Tc,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_pay_grade")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.grade.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.grade.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Ic={setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[io,co(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());return-1===o||this.$t("general.already_exists")}),this.isLoading=!1}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.grade.name}).then(e=>{const{data:t}=e.data;this.$toast.saveSuccess(),Y("/admin/payGrade/{id}",{id:t.id})})},onCancel(){Y("/admin/viewPayGrades")}}};const Lc=y()(Ic,[["render",Bc]]);var Uc=Lc;const Ac={class:"orangehrm-background-container"},Pc={class:"orangehrm-card-container"};function qc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form"),g=Object(a["resolveComponent"])("pay-grade-currency");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",Ac,[Object(a["createElementVNode"])("div",Pc,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_pay_grade")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.grade.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.grade.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])]),Object(a["createVNode"])(g,{"pay-grade-id":o.payGradeId},null,8,["pay-grade-id"])],64)}const Mc={class:"orangehrm-background-container"},Fc={class:"orangehrm-paper-container"},zc={class:"orangehrm-header-container"},Rc={class:"orangehrm-container"},Gc={class:"orangehrm-bottom-container"};function Qc(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-pay-currency"),d=Object(a["resolveComponent"])("edit-pay-currency"),s=Object(a["resolveComponent"])("inline-action-button"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,"pay-grade-id":o.payGradeId,onClose:r.onSaveModalClose},null,8,["pay-grade-id","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,data:n.editModalState,"pay-grade-id":o.payGradeId,onClose:r.onEditModalClose},null,8,["data","pay-grade-id","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Mc,[Object(a["createElementVNode"])("div",Fc,[Object(a["createElementVNode"])("div",zc,[Object(a["createVNode"])(s,{"display-type":"secondary",onClick:r.onclickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.currencies")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Rc,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:r.selectable,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(a["createElementVNode"])("div",Gc,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])])],64)}const Hc={class:"orangehrm-action-header"};function Wc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Hc,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)]),_:3}),Object(a["createVNode"])(c,Object(a["mergeProps"])({label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])])}var Jc={name:"InlineActionButton",inheritAttrs:!1};o("39f7");const Yc=y()(Jc,[["render",Wc],["__scopeId","data-v-6526a07f"]]);var Xc=Yc;const Kc={class:"orangehrm-card-container"};function Zc(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Kc,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_currency")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.currencyId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.payCurrency.currencyId=e),type:"select",label:e.$t("general.currency"),options:n.currencies,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=e=>n.payCurrency.minSalary=e),label:e.$t("admin.minimum_salary"),rules:n.rules.minSalary},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=e=>n.payCurrency.maxSalary=e),label:e.$t("admin.maximum_salary"),rules:n.rules.maxSalary},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const ed={currencyId:null,minSalary:"",maxSalary:""};var td={name:"SavePayCurrency",props:{payGradeId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/pay-grades/${e.payGradeId}/currencies`);return{http:t}},data(){return{isLoading:!1,payCurrency:{...ed},currencies:[],rules:{currencyId:[io],minSalary:[$o(1e9),po],maxSalary:[$o(1e9),po,Bo(()=>this.payCurrency.minSalary,this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:`api/v2/admin/pay-grades/${this.payGradeId}/currencies/allowed`,params:{limit:0}}).then(e=>{const{data:t}=e.data;this.currencies=t.map(e=>({id:e.id,label:e.id+" - "+e.name}))}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({...this.payCurrency,currencyId:this.payCurrency.currencyId.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const od=y()(td,[["render",Zc]]);var ad=od;const ld={class:"orangehrm-card-container"};function nd(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ld,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_currency")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.payCurrency.name=e),label:e.$t("general.currency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=e=>n.payCurrency.minSalary=e),label:e.$t("admin.minimum_salary"),rules:n.rules.minSalary},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=e=>n.payCurrency.maxSalary=e),label:e.$t("admin.maximum_salary"),rules:n.rules.maxSalary},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const rd={currencyId:null,minSalary:"",maxSalary:""};var id={name:"EditPayCurrency",props:{payGradeId:{type:Number,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/pay-grades/${e.payGradeId}/currencies`);return{http:t}},data(){return{isLoading:!1,payCurrency:{...rd},rules:{currencyId:[io],minSalary:[$o(1e9),po],maxSalary:[$o(1e9),po,Bo(()=>this.payCurrency.minSalary,this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.payCurrency.name=t.currencyType.name,this.payCurrency.minSalary=t.minSalary?t.minSalary:"0",this.payCurrency.maxSalary=t.maxSalary?t.maxSalary:"0"}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{minSalary:this.payCurrency.minSalary,maxSalary:this.payCurrency.maxSalary}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const cd=y()(id,[["render",nd]]);var dd=cd;const sd=e=>e.map(e=>({id:e.currencyType.id,name:e.currencyType.name,maxSalary:e.maxSalary?parseFloat(e.maxSalary).toFixed(2):"0.00",minSalary:e.minSalary?parseFloat(e.minSalary).toFixed(2):"0.00"}));var md={name:"PayGradeCurrency",components:{"inline-action-button":Xc,"save-pay-currency":ad,"edit-pay-currency":dd,"delete-confirmation":Yt},props:{payGradeId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/pay-grades/${e.payGradeId}/currencies`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:c,execQuery:d}=zt(t,{normalizer:sd});return{http:t,showPaginator:o,currentPage:a,isLoading:c,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.currency"),style:{flex:2}},{name:"minSalary",title:this.$t("admin.minimum_salary"),style:{flex:1}},{name:"maxSalary",title:this.$t("admin.maximum_salary"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{selectable(){return!(this.showSaveModal||this.showEditModal)}},methods:{onclickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickDelete(e){this.selectable&&this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},onClickDeleteSelected(){if(!this.selectable)return;const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ud=y()(md,[["render",Qc]]);var bd=ud,pd={components:{"pay-grade-currency":bd},props:{payGradeId:{type:String,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[io,co(50)]},errors:[]}},created(){this.isLoading=!0,this.http.get(this.payGradeId).then(e=>{const{data:t}=e.data;return this.grade.id=t.id,this.grade.name=t.name,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());if(o>-1){const{id:e}=t[o];return e==this.grade.id||this.$t("general.already_exists")}return!0}),this.isLoading=!1}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.payGradeId,{name:this.grade.name}).then(()=>this.$toast.updateSuccess()).then(()=>{X()})},onCancel(){Y("/admin/viewPayGrades")}}};const hd=y()(pd,[["render",qc]]);var jd=hd;const Od={class:"orangehrm-background-container"},gd={class:"orangehrm-card-container"},vd={class:"orangehrm-module-field-row"},fd={class:"orangehrm-module-field-row"},yd={class:"orangehrm-module-field-row"},Cd={class:"orangehrm-module-field-row"},Vd={class:"orangehrm-module-field-row"},xd={class:"orangehrm-module-field-row"},wd={class:"orangehrm-module-field-row"},Nd={class:"orangehrm-module-field-row"},_d={class:"orangehrm-module-field-row"};function kd(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-switch-input"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("submit-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Od,[Object(a["createElementVNode"])("div",gd,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.module_configuration")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",vd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.admin_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.admin,"onUpdate:modelValue":t[0]||(t[0]=e=>n.modules.admin=e),disabled:!0},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",fd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.pim_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.pim,"onUpdate:modelValue":t[1]||(t[1]=e=>n.modules.pim=e),disabled:!0},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",yd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.leave_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.leave,"onUpdate:modelValue":t[2]||(t[2]=e=>n.modules.leave=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",Cd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.time_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.time,"onUpdate:modelValue":t[3]||(t[3]=e=>n.modules.time=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",Vd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.recruitment_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.recruitment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.modules.recruitment=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",xd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.performance_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.performance,"onUpdate:modelValue":t[5]||(t[5]=e=>n.modules.performance=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",wd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.directory_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.directory,"onUpdate:modelValue":t[6]||(t[6]=e=>n.modules.directory=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",Nd,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.maintenance_module")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.modules.maintenance,"onUpdate:modelValue":t[7]||(t[7]=e=>n.modules.maintenance=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",_d,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.mobile")),1)]),_:1}),Object(a["createVNode"])(d,{disabled:""})])]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Sd={admin:!1,pim:!1,leave:!1,time:!1,recruitment:!1,performance:!1,maintenance:!1,mobile:!1,directory:!1};var Dd={components:{"oxd-switch-input":Sl["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/modules");return{http:e}},data(){return{modules:{...Sd},isLoading:!1}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.modules.admin=t.admin,this.modules.pim=t.pim,this.modules.leave=t.leave,this.modules.time=t.time,this.modules.recruitment=t.recruitment,this.modules.performance=t.performance,this.modules.maintenance=t.maintenance,this.modules.mobile=t.mobile,this.modules.directory=t.directory}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0;const e={admin:!0,pim:!0,leave:this.modules.leave,time:this.modules.time,recruitment:this.modules.recruitment,performance:this.modules.performance,maintenance:this.modules.maintenance,mobile:this.modules.mobile,directory:this.modules.directory};this.http.request({method:"PUT",data:e}).then(e=>{const{data:t}=e.data;return this.modules=t,this.$toast.saveSuccess()}).finally(()=>{this.isLoading=!1,X()})}}};o("0eb8");const $d=y()(Dd,[["render",kd],["__scopeId","data-v-2048016c"]]);var Ed=$d;const Td={class:"orangehrm-background-container"},Bd={class:"orangehrm-paper-container"},Id={class:"orangehrm-header-container"},Ld={class:"orangehrm-container"},Ud={class:"orangehrm-bottom-container"};function Ad(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Td,[Object(a["createElementVNode"])("div",Bd,[Object(a["createElementVNode"])("div",Id,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.work_shifts")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Ld,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",Ud,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}const Pd=e=>e.map(e=>({id:e.id,name:e.name,startTime:e.startTime,endTime:e.endTime,hoursPerDay:parseFloat(e.hoursPerDay).toFixed(2)}));var qd={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e,{normalizer:Pd});return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"startTime",title:this.$t("general.from"),style:{flex:1}},{name:"endTime",title:this.$t("general.to"),style:{flex:1}},{name:"hoursPerDay",title:this.$t("admin.hours_per_day"),style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveWorkShifts")},onClickEdit(e){Y("/admin/saveWorkShifts/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Md=y()(qd,[["render",Ad]]);var Fd=Md;const zd={class:"orangehrm-background-container"},Rd={class:"orangehrm-card-container"};function Gd(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("time-input"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("work-shift-employee-autocomplete"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zd,[Object(a["createElementVNode"])("div",Rd,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_work_shift")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workShift.name=e),label:e.$t("admin.shift_name"),rules:n.rules.name},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.working_hours"))+" *",1)]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workShift.startTime=e),rules:n.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workShift.endTime=e),rules:n.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.selectedTimeDuration),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workShift.empNumbers=e),rules:n.rules.empNumbers},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}function Qd(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{label:e.$t("admin.assigned_employees"),multiple:!0,clear:!1,"create-options":r.loadEmployees},null,8,["label","create-options"])}var Hd={name:"WorkShiftEmployeeAutocomplete",components:{"employee-autocomplete":Fa},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/work-shifts/employees");return{http:e}},methods:{async loadEmployees(e){return new Promise(t=>{e.trim()?this.http.getAll({nameOrId:e.trim()}).then(({data:e})=>{t(e.data.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})))}):t([])})}}};const Wd=y()(Hd,[["render",Qd]]);var Jd=Wd;const Yd={id:"",name:"",hoursPerDay:"",startTime:"",endTime:"",empNumbers:[]};var Xd={components:{"work-shift-employee-autocomplete":Jd},props:{workShiftConfig:{type:Object,required:!0,default:()=>({})}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data(){return{isLoading:!1,workShift:{...Yd},rules:{name:[io,co(50)],fromTime:[io,uo],endTime:[io,uo,wo(()=>this.workShift.startTime,this.$t("general.to_time_should_be_after_from_time"))],empNumbers:[Fo]}}},computed:{selectedTimeDuration(){return parseFloat(Ee(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.workShift.startTime=this.workShiftConfig.startTime,this.workShift.endTime=this.workShiftConfig.endTime,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0;const e={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map(e=>e.id)};this.http.create(e).then(()=>this.$toast.saveSuccess()).then(()=>{this.workShift={...Yd},this.onCancel()})},onCancel(){Y("/admin/workShift")}}};o("df2d");const Kd=y()(Xd,[["render",Gd],["__scopeId","data-v-b93f1440"]]);var Zd=Kd;const es={class:"orangehrm-background-container"},ts={class:"orangehrm-card-container"};function os(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("time-input"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("work-shift-employee-autocomplete"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",es,[Object(a["createElementVNode"])("div",ts,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_work_shift")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workShift.name=e),label:e.$t("admin.shift_name"),rules:n.rules.name},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Working Hours*")]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workShift.startTime=e),rules:n.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workShift.endTime=e),rules:n.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.selectedTimeDuration),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workShift.empNumbers=e),rules:n.rules.empNumbers},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const as={id:"",name:"",hoursPerDay:"",startTime:null,endTime:null,empNumbers:[]};var ls={components:{"work-shift-employee-autocomplete":Jd},props:{workShiftId:{type:Number,required:!0,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data(){return{isLoading:!1,workShift:{...as},rules:{name:[io,co(50)],fromTime:[uo],endTime:[uo,wo(()=>this.workShift.startTime,"To time should be after from time")],empNumbers:[Fo]}}},computed:{selectedTimeDuration(){return parseFloat(Ee(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.http.get(this.workShiftId).then(e=>{const{data:t}=e.data;return this.workShift.id=t.id,this.workShift.name=t.name,this.workShift.hoursPerDay=t.hoursPerDay,this.workShift.startTime=t.startTime,this.workShift.endTime=t.endTime,this.workShift.empNumbers=t.employees.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})),this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.workShift.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0;const e={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map(e=>e.id)};this.http.update(this.workShiftId,e).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/admin/workShift")}}};o("c77e");const ns=y()(ls,[["render",os],["__scopeId","data-v-5654dcf1"]]);var rs=ns;const is={class:"orangehrm-background-container"},cs={class:"orangehrm-paper-container"},ds={class:"orangehrm-header-container"},ss={class:"orangehrm-container"},ms=Object(a["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1);function us(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",is,[Object(a["createElementVNode"])("div",cs,[Object(a["createElementVNode"])("div",ds,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.email_subscriptions")),1)]),_:1})]),Object(a["createVNode"])(d,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",ss,[Object(a["createVNode"])(s,{loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["loading","headers","items"])]),ms])])}var bs={setup(){const{$t:e}=Ge(),t=t=>t.map(t=>{const o=Array.isArray(t.subscribers)?t.subscribers.slice(0,10):[];let a=t.name;switch(a){case"Leave Applications":a=e("admin.leave_applications");break;case"Leave Approvals":a=e("admin.leave_approvals");break;case"Leave Assignments":a=e("admin.leave_assignments");break;case"Leave Cancellations":a=e("admin.leave_cancellation");break;case"Leave Rejections":a=e("admin.leave_rejections");break}return{id:t.id,type:a,subscribers:o.map(e=>`${e.name} <${e.email}>`).join(", "),enabled:t.isEnabled,_loading:!1}}),o=new K(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions"),{total:a,response:l,isLoading:n}=zt(o,{normalizer:t});return{http:o,isLoading:n,total:a,items:l}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("admin.notification_type"),style:{flex:"20%"}},{name:"subscribers",title:this.$t("admin.subscribers"),style:{flex:"65%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},methods:{cellRenderer(...e){const[t,,,o]=e,a={component:"oxd-icon-button",props:{name:"person-plus-fill",onClick:()=>{Y("/admin/saveSubscriber/{id}",{id:o.id})}}},l={component:Sl["a"],props:{modelValue:o.enabled,"onUpdate:modelValue":e=>{this.items.data[t]._loading=!0,this.http.update(o.id,{enabled:e}).then(e=>{const{data:o}=e.data;this.items.data[t].enabled=o.isEnabled,this.$toast.updateSuccess()}).finally(()=>{this.items.data[t]._loading=!1})},style:{"margin-left":"1rem","text-align":"left"}}},n={component:Z["a"],props:{withContainer:!1}};return{props:{header:{cellConfig:{...o._loading?{loader:n}:{addSubscriber:a,switchSubscription:l}}}}}}}};const ps=y()(bs,[["render",us]]);var hs=ps;const js={class:"orangehrm-background-container"},Os={class:"orangehrm-paper-container"},gs={class:"orangehrm-header-container"},vs={class:"orangehrm-container"},fs={class:"orangehrm-bottom-container"};function ys(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("save-subscriber"),h=Object(a["resolveComponent"])("edit-subscriber");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",js,[Object(a["createElementVNode"])("div",Os,[Object(a["createElementVNode"])("div",gs,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.subscribers"))+": "+Object(a["toDisplayString"])(r.title),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",vs,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",fs,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512),n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,data:{subscriptionId:o.subscriptionId},onClose:r.onSaveModalClose},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:1,data:n.editModalState,onClose:r.onEditModalClose},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0)])}const Cs={class:"orangehrm-modal-header"};function Vs(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Cs,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_subscriber")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.subscriber.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.subscriber.email=e),label:e.$t("general.email"),rules:n.rules.email,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const xs={name:"",email:""};var ws={name:"SaveSubscriber",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/email-subscriptions/${e.data.subscriptionId}/subscribers`);return{http:t}},data(){return{isLoading:!1,subscriber:{...xs},rules:{name:[io,co(100)],email:[io,ko,co(100)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;t&&this.rules.email.push(e=>{const o=t.findIndex(t=>t.email==e);return!(o>-1)||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({...this.subscriber}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.subscriber={...xs},this.$emit("close",!0)}}};o("66a9");const Ns=y()(ws,[["render",Vs],["__scopeId","data-v-307685fc"]]);var _s=Ns;const ks={class:"orangehrm-modal-header"};function Ss(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ks,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.edit_subscriber")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.subscriber.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.subscriber.email=e),label:e.$t("general.email"),rules:n.rules.email,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const Ds={name:"",email:""};var $s={name:"EditSubscriber",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/email-subscriptions/${e.data.subscriptionId}/subscribers`);return{http:t}},data(){return{isLoading:!1,subscriber:{...Ds},rules:{name:[io,co(100)],email:[io,ko,co(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;return this.subscriber.name=t.name,this.subscriber.email=t.email,this.http.getAll()}).then(e=>{const{data:t}=e.data;t&&this.rules.email.push(e=>{const o=t.findIndex(t=>t.email==e);if(o>-1){const{id:e}=t[o];return e==this.data.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.subscriber}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.subscriber={...Ds},this.$emit("close",!0)}}};o("6534");const Es=y()($s,[["render",Ss],["__scopeId","data-v-2923b725"]]);var Ts=Es,Bs={components:{"save-subscriber":_s,"edit-subscriber":Ts,"delete-confirmation":Yt},props:{subscriptionId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/admin/email-subscriptions/${e.subscriptionId}/subscribers`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:c,execQuery:d}=zt(t);return{http:t,showPaginator:o,currentPage:a,isLoading:c,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"30%"}},{name:"email",title:this.$t("general.email"),style:{flex:"55%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{title(){var e;return this.items.meta?null===(e=this.items.meta)||void 0===e?void 0:e.name:""}},methods:{onClickAdd(){this.showSaveModal=!0},onClickEdit(e){this.editModalState={...e,subscriptionId:this.subscriptionId},this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.editModalState=null,this.showEditModal=!1,this.resetDataTable()},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Is=y()(Bs,[["render",ys]]);var Ls=Is;const Us={class:"orangehrm-background-container"},As={class:"orangehrm-card-container"};function Ps(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Us,[Object(a["createElementVNode"])("div",As,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.localization")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.configuration.language,"onUpdate:modelValue":t[0]||(t[0]=e=>n.configuration.language=e),label:e.$t("general.language"),type:"select","show-empty-selector":!1,options:o.languageList},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.configuration.dateFormat,"onUpdate:modelValue":t[1]||(t[1]=e=>n.configuration.dateFormat=e),label:e.$t("admin.date_format"),type:"select","show-empty-selector":!1,options:o.dateFormatList},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var qs={props:{dateFormatList:{type:Array,required:!0},languageList:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/localization");return{http:e}},data(){return{isLoading:!1,configuration:{language:null,dateFormat:null}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.configuration.language=this.languageList.find(e=>e.id===t.language),this.configuration.dateFormat=this.dateFormatList.find(e=>e.id===t.dateFormat)}).finally(()=>this.isLoading=!1)},methods:{onSave(){var e,t;this.isLoading=!0,this.http.http.put("api/v2/admin/localization",{language:null===(e=this.configuration.language)||void 0===e?void 0:e.id,dateFormat:null===(t=this.configuration.dateFormat)||void 0===t?void 0:t.id}).then(()=>this.$toast.updateSuccess()).then(()=>X())}}};const Ms=y()(qs,[["render",Ps]]);var Fs=Ms;const zs=e=>(Object(a["pushScopeId"])("data-v-93cdb0aa"),e=e(),Object(a["popScopeId"])(),e),Rs={class:"orangehrm-background-container"},Gs={class:"orangehrm-card-container"},Qs=zs(()=>Object(a["createElementVNode"])("br",null,null,-1)),Hs=zs(()=>Object(a["createElementVNode"])("br",null,null,-1)),Ws={class:"orangehrm-sm-field"},Js={class:"orangehrm-actions-group"};function Ys(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("inline-color-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("file-upload-input"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Rs,[Object(a["createElementVNode"])("div",Gs,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.corporate_branding")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{ref:"formRef",loading:e.isLoading,onSubmitValid:l.onFormSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.primaryColor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.colors.primaryColor=t),rules:l.rules.color,label:e.$t("admin.primary_color"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-column-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.secondaryColor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.colors.secondaryColor=t),rules:l.rules.color,label:e.$t("admin.secondary_color"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.primaryFontColor,"onUpdate:modelValue":t[2]||(t[2]=t=>e.colors.primaryFontColor=t),rules:l.rules.color,label:e.$t("admin.primary_font_color"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2 --offset-column-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.secondaryFontColor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.colors.secondaryFontColor=t),rules:l.rules.color,label:e.$t("admin.secondary_font_color"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.primaryGradientStartColor,"onUpdate:modelValue":t[4]||(t[4]=t=>e.colors.primaryGradientStartColor=t),rules:l.rules.color,label:e.$t("admin.primary_gradient_color_one"),type:"color",required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-3 --offset-column-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.colors.primaryGradientEndColor,"onUpdate:modelValue":t[5]||(t[5]=t=>e.colors.primaryGradientEndColor=t),rules:l.rules.color,label:e.$t("admin.primary_gradient_color_two"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Qs,Object(a["createVNode"])(c),Hs,Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{newFile:e.clientLogo.newAttachment,"onUpdate:newFile":t[6]||(t[6]=t=>e.clientLogo.newAttachment=t),method:e.clientLogo.method,"onUpdate:method":t[7]||(t[7]=t=>e.clientLogo.method=t),label:e.$t("admin.client_logo"),"button-label":e.$t("general.browse"),file:e.clientLogo.oldAttachment,rules:l.rules.clientLogo,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:50,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{newFile:e.clientBanner.newAttachment,"onUpdate:newFile":t[8]||(t[8]=t=>e.clientBanner.newAttachment=t),method:e.clientBanner.method,"onUpdate:method":t[9]||(t[9]=t=>e.clientBanner.method=t),label:e.$t("admin.client_banner"),"button-label":e.$t("general.browse"),file:e.clientBanner.oldAttachment,rules:l.rules.clientBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:182,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{newFile:e.loginBanner.newAttachment,"onUpdate:newFile":t[10]||(t[10]=t=>e.loginBanner.newAttachment=t),method:e.loginBanner.method,"onUpdate:method":t[11]||(t[11]=t=>e.loginBanner.method=t),label:e.$t("admin.login_banner"),"button-label":e.$t("general.browse"),file:e.loginBanner.oldAttachment,rules:l.rules.loginBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:340,height:65}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Ws,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.social_media_images")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:e.showSocialMediaImages,"onUpdate:modelValue":t[12]||(t[12]=t=>e.showSocialMediaImages=t)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createElementVNode"])("div",Js,[Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.reset_to_default"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.preview"),onClick:l.onClickPreview},null,8,["label","onClick"]),Object(a["createVNode"])(j,{type:"submit","display-type":"secondary",label:e.$t("general.publish")},null,8,["label"])])]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}function Xs({refName:e="formRef"}={}){const t=Object(a["ref"])(),o=()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.onSubmit(new Event("submit"))},l=()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.onReset()},n=()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.validate()},r=Object(a["computed"])(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.isFromInvalid}),i=Object(a["computed"])(()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.errorbag});return{reset:l,submit:o,validate:n,[e]:t,errorbag:i,invalid:r}}function Ks(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-label"),c=Object(a["resolveComponent"])("oxd-color-input"),d=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{class:"oxd-input-field-bottom-space",message:l.message,classes:l.classes},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:o.label,class:Object(a["normalizeClass"])(l.classes.label)},null,8,["label","class"]),Object(a["createVNode"])(c,Object(a["mergeProps"])(e.$attrs,{disabled:o.disabled,"has-error":l.hasError,"model-value":o.modelValue,"dropdown-position":"left","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))}),null,16,["disabled","has-error","model-value"])]),_:1},8,["message","classes"])}var Zs=o("0556"),em=o("a83c"),tm=o("17a7"),om={name:"InlineColorInput",components:{"oxd-label":em["a"],"oxd-color-input":tm["a"]},inheritAttrs:!1,props:{label:{type:String,default:null,required:!1},rules:{type:Array,default:()=>[],required:!1},required:{type:Boolean,default:!1,required:!1},modelValue:{type:String,default:null,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(e,t){var o;const l=Object(a["toRef"])(e,"disabled"),n=Object(a["toRef"])(e,"modelValue"),r=n.value,i=async()=>{t.emit("update:modelValue",r),await Object(a["nextTick"])()},{hasError:c,message:d}=Object(Zs["a"])({fieldLabel:null!==(o=e.label)&&void 0!==o?o:"",rules:e.rules,modelValue:n,onReset:i,disabled:l}),s=Object(a["computed"])(()=>({label:{"oxd-input-field-required":e.required},message:{"oxd-input-field-error-message":c},wrapper:{"orangehrm-color-input-wrapper":!0}}));return{classes:s,message:d,hasError:c}}};o("a7b3");const am=y()(om,[["render",Ks],["__scopeId","data-v-6a6d6b60"]]);var lm=am;const nm={primaryColor:null,primaryFontColor:null,secondaryColor:null,secondaryFontColor:null,primaryGradientStartColor:null,primaryGradientEndColor:null},rm={oldAttachment:null,newAttachment:null,method:"keepCurrent"};var im={components:{"oxd-switch-input":Sl["a"],"file-upload-input":Ko,"inline-color-input":lm},props:{allowedImageTypes:{type:Array,required:!0},aspectRatios:{type:Object,required:!0},aspectRatioTolerance:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,"api/v2/admin/theme"),{saveSuccess:o}=At(),{formRef:l,invalid:n,validate:r}=Xs(),i=Object(a["reactive"])({isLoading:!1,colors:{...nm},clientLogo:{...rm},clientBanner:{...rm},loginBanner:{...rm},showSocialMediaImages:!0}),c={color:[io,Uo],clientLogo:[e=>"replaceCurrent"!==i.clientLogo.method||io(e),No(1048576),Ao(e.aspectRatios.clientLogo,e.aspectRatioTolerance),_o(e.allowedImageTypes)],clientBanner:[e=>"replaceCurrent"!==i.clientBanner.method||io(e),No(1048576),Ao(e.aspectRatios.clientBanner,e.aspectRatioTolerance),_o(e.allowedImageTypes)],loginBanner:[e=>"replaceCurrent"!==i.loginBanner.method||io(e),No(1048576),Ao(e.aspectRatios.loginBanner,e.aspectRatioTolerance),_o(e.allowedImageTypes)]},d=()=>{const e=e=>{if(null===e.method||"replaceCurrent"===e.method)return e.newAttachment};i.isLoading=!0,t.request({method:"PUT",url:"/api/v2/admin/theme",data:{variables:i.colors,showSocialMediaImages:i.showSocialMediaImages,currentClientLogo:i.clientLogo.method,clientLogo:e(i.clientLogo),currentClientBanner:i.clientBanner.method,clientBanner:e(i.clientBanner),currentLoginBanner:i.loginBanner.method,loginBanner:e(i.loginBanner)}}).then(()=>o()).then(()=>X())},s=()=>{i.isLoading=!0,t.request({method:"DELETE",url:"/api/v2/admin/theme"}).then(()=>X())},m=()=>{r().then(()=>{!0!==n.value&&(i.isLoading=!0,t.request({method:"POST",url:"/api/v2/admin/theme/preview",data:{...i.colors}}).then(e=>{const{data:t}=e.data;for(const o in t){const e=t[o];document.documentElement.style.setProperty(o,e)}}).finally(()=>i.isLoading=!1))})};return Object(a["onBeforeMount"])(()=>{i.isLoading=!0,t.getAll().then(e=>{const{data:t}=e.data,{clientLogo:o,clientBanner:a,loginBanner:l,showSocialMediaImages:n,variables:r}=t;i.colors=r,null===o?i.clientLogo.method=null:(i.clientLogo.oldAttachment=o,i.clientLogo.oldAttachment.id="clientLogo"),null===a?i.clientBanner.method=null:(i.clientBanner.oldAttachment=a,i.clientBanner.oldAttachment.id="clientBanner"),null===l?i.loginBanner.method=null:(i.loginBanner.oldAttachment=l,i.loginBanner.oldAttachment.id="loginBanner"),i.showSocialMediaImages=n}).finally(()=>i.isLoading=!1)}),{rules:c,formRef:l,onFormSubmit:d,onClickReset:s,onClickPreview:m,...Object(a["toRefs"])(i)}}};o("2c58");const cm=y()(im,[["render",Ys],["__scopeId","data-v-93cdb0aa"]]);var dm=cm;const sm={class:"orangehrm-background-container"},mm={class:"orangehrm-paper-container"},um={class:"orangehrm-header-container"},bm={class:"orangehrm-container"},pm={class:"orangehrm-bottom-container"};function hm(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("add-language-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sm,[Object(a["createElementVNode"])("div",mm,[Object(a["createElementVNode"])("div",um,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.language_packages")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAddLanguage},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{loading:l.isLoading,total:l.total,selected:0},null,8,["loading","total"]),Object(a["createElementVNode"])("div",bm,[Object(a["createVNode"])(m,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(a["createElementVNode"])("div",pm,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),n.showAddLanguageModal?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,onClose:r.onAddLanguageModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)])}const jm={class:"orangehrm-modal-header"},Om={class:"addlanguage-note"},gm={class:"addlanguage-note-text"};function vm(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("languages-dropdown"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form"),h=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",jm,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.add_language_package")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language=e),rules:n.rules.language},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Om,[Object(a["createElementVNode"])("div",gm,[Object(a["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.note")),1)]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.translate_text_manually")),1)]),_:1})])])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,{class:"orangehrm-form-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(u,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}function fm(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("general.name"),options:l.options,required:""},null,8,["label","options"])}var ym={name:"LanguagesDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages");return Object(a["onBeforeMount"])(()=>{t.getAll({activeOnly:!1,limit:0}).then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.name}))})}),{options:e}}};const Cm=y()(ym,[["render",fm]]);var Vm=Cm,xm={name:"AddLanguageModal",components:{"oxd-dialog":ee["a"],"languages-dropdown":Vm},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages");return{http:e}},data(){return{isLoading:!1,language:null,rules:{language:[io]}}},methods:{onSave(){this.http.update(this.language.id,null).then(e=>{if(e)return this.$toast.saveSuccess()}).then(()=>{this.isLoading=!1,this.$emit("close")})},onCancel(){this.$emit("close")}}};o("90b2");const wm=y()(xm,[["render",vm],["__scopeId","data-v-743bc56c"]]);var Nm=wm;const _m={languageName:""},km={languageName:"ASC"};var Sm={name:"LanguagePackageList",components:{"add-language-modal":Nm},setup(){const e=Object(a["ref"])({..._m}),{sortDefinition:t,sortOrder:o,onSort:l}=Xt({sortDefinition:km}),n=Object(a["computed"])(()=>({sortOrder:o.value,activeOnly:!0})),r=new K(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages"),{showPaginator:i,currentPage:c,total:d,pages:s,pageSize:m,response:u,isLoading:b,execQuery:p}=zt(r,{query:n});return l(p),{http:r,showPaginator:i,currentPage:c,isLoading:b,total:d,pages:s,pageSize:m,execQuery:p,items:u,filters:e,sortDefinition:t}},data(){return{showAddLanguageModal:!1,headers:[{name:"name",slot:"title",title:this.$t("general.language_packages"),sortField:"languageName",style:{flex:"70%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",style:{flex:"30%"},cellConfig:{translate:{component:"oxd-button",onClick:this.onClickTranslate,props:{label:this.$t("admin.translate"),style:"Text",displayType:"text"}},export:{component:"oxd-button",props:{label:this.$t("admin.export"),displayType:"text",size:"medium"},onClick:this.onClickExport}}}]}},methods:{onClickAddLanguage(){this.showAddLanguageModal=!0},onAddLanguageModalClose(){this.showAddLanguageModal=!1,this.reloadLanguages()},onCancel(){Y("/admin/languagePackage")},async reloadLanguages(){await this.execQuery()},onClickTranslate(e){Y("/admin/languageCustomization/{id}",{id:e.id})},onClickExport(e){const t=J("/admin/viewLanguagePackage/languageId/{languageId}",{languageId:e.id});window.open(t,"_blank")}}};o("921b");const Dm=y()(Sm,[["render",hm],["__scopeId","data-v-745f4367"]]);var $m=Dm;const Em=e=>(Object(a["pushScopeId"])("data-v-0b39a3b5"),e=e(),Object(a["popScopeId"])(),e),Tm={class:"orangehrm-background-container"},Bm=Em(()=>Object(a["createElementVNode"])("br",null,null,-1)),Im={class:"orangehrm-paper-container"},Lm={class:"orangehrm-header-container"},Um={class:"orangehrm-bottom-container"};function Am(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("language-group-list-dropdown"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("oxd-pagination"),g=Object(a["resolveComponent"])("table-header"),v=Object(a["resolveComponent"])("edit-translations");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Tm,[Object(a["createVNode"])(j,{"filter-title":e.$t("admin.translate_language_package")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:l.onSubmit,onReset:l.onReset},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{value:o.languagePackage,label:e.$t("admin.language_package"),disabled:""},null,8,["value","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{value:o.sourceLanguage,label:e.$t("admin.source_language"),disabled:""},null,8,["value","label"])]),_:1})]),_:1}),Object(a["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.groupId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.groupId=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.sourceText,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.sourceText=e),label:e.$t("admin.source_text")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.translatedText,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.translatedText=e),label:e.$t("admin.translated_text")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.onlyTranslated,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.onlyTranslated=e),type:"select",label:e.$t("admin.show"),options:l.translationOptions},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.sortOrder,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.sortOrder=e),type:"select",label:e.$t("admin.order"),options:l.sortOptions},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),Bm,Object(a["createElementVNode"])("div",Im,[l.total>0?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,loading:l.isLoading,onSubmitValid:l.onSubmitLangString,onReset:l.onReset},{default:Object(a["withCtx"])(()=>{var o;return[Object(a["createElementVNode"])("div",Lm,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:l.currentPage,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(g,{loading:l.isLoading,total:l.total,selected:0},null,8,["loading","total"]),null!==(o=l.items)&&void 0!==o&&o.data?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,langstrings:l.items.data,"onUpdate:langstrings":t[6]||(t[6]=e=>l.items.data=e)},null,8,["langstrings"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Um,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])])]),_:1})]}),_:1},8,["loading","onSubmitValid","onReset"])):Object(a["createCommentVNode"])("",!0)])])}const Pm={class:"orangehrm-translation-container"};function qm(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-divider"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-grid");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pm,[Object(a["createVNode"])(i),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-translation-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.source_text")),1)]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.source_note")),1)]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.translated_text")),1)]),_:1})]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.langstrings,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:o},[Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-text"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.source_text")),1)]),_:1}),Object(a["createVNode"])(c,{title:t.source},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.source),1)]),_:2},1032,["title"])]),_:2},1024),Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-text"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-translation-grid-langstring-header-note",type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.source_note")),1)]),_:1}),Object(a["createVNode"])(c,{title:t.note,class:"orangehrm-translation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.note),1)]),_:2},1032,["title"])]),_:2},1024),Object(a["createVNode"])(d,{class:"orangehrm-translation-grid-text"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.translated_text")),1)]),_:1}),Object(a["createVNode"])(s,{type:"input",placeholder:t.target,"model-value":t.target,rules:l.rules.langString,"onUpdate:modelValue":e=>l.onUpdateTranslation(e,o)},null,8,["placeholder","model-value","rules","onUpdate:modelValue"]),Object(a["createVNode"])(i,{class:"orangehrm-translation-grid-langstring-header"})]),_:2},1024)],64))),128))]),_:1}),Object(a["createVNode"])(i)])}var Mm={props:{langstrings:{type:Array,required:!0}},emits:["update:langstrings"],setup(e,t){const o=(o,a)=>{t.emit("update:langstrings",e.langstrings.map((e,t)=>t===a?{...e,target:o,modified:!0}:e))};return{onUpdateTranslation:o,rules:{langString:[Mo]}}}};o("3162");const Fm=y()(Mm,[["render",qm],["__scopeId","data-v-101823a2"]]);var zm=Fm;function Rm(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("admin.module"),options:l.options},null,8,["label","options"])}var Gm={name:"GroupListDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"/api/v2/admin/i18n/groups");return Object(a["onBeforeMount"])(()=>{t.getAll().then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.title}))})}),{options:e}}};const Qm=y()(Gm,[["render",Rm]]);var Hm=Qm;const Wm={sourceText:null,translatedText:null,groupId:null,sortOrder:null,onlyTranslated:null};var Jm={name:"LanguageTranslationList",components:{"language-group-list-dropdown":Hm,"edit-translations":zm},props:{languageId:{type:Number,required:!0},languagePackage:{type:String,required:!0},sourceLanguage:{type:String,required:!0}},setup(e){const{$t:t}=Ge(),{saveSuccess:o}=At(),l=Object(a["ref"])([{id:1,label:t("admin.all"),value:null},{id:2,label:t("admin.translated"),value:!0},{id:3,label:t("admin.not_translated"),value:!1}]),n=Object(a["ref"])([{id:"ASC",label:t("general.ascending")},{id:"DESC",label:t("general.descending")}]),r=Object(a["ref"])({...Wm,sortOrder:n.value[0],onlyTranslated:l.value[0]}),i=Object(a["computed"])(()=>{var e,t,o;return{sourceText:r.value.sourceText,translatedText:r.value.translatedText,groupId:null===(e=r.value.groupId)||void 0===e?void 0:e.id,sortOrder:null===(t=r.value.sortOrder)||void 0===t?void 0:t.id,onlyTranslated:null===(o=r.value.onlyTranslated)||void 0===o?void 0:o.value}}),c=new K(window.appGlobal.baseUrl,`/api/v2/admin/i18n/languages/${e.languageId}/translations`),{showPaginator:d,currentPage:s,total:m,pages:u,response:b,isLoading:p,execQuery:h}=zt(c,{query:i}),j=()=>{s.value=1,r.value={...Wm,sortOrder:n.value[0]},h()},O=()=>{s.value=1,h()},g=()=>{p.value=!0,c.request({method:"PUT",url:`/api/v2/admin/i18n/languages/${e.languageId}/translations/bulk`,data:{data:b.value.data.filter(e=>null!==e.target&&1==e.modified).map(e=>({langStringId:e.langStringId,translatedValue:e.target}))}}).then(()=>o()).then(()=>X())};return{showPaginator:d,currentPage:s,isLoading:p,total:m,pages:u,items:b,filters:r,translationOptions:l,sortOptions:n,onReset:j,onSubmit:O,onSubmitLangString:g}}};o("4a14");const Ym=y()(Jm,[["render",Am],["__scopeId","data-v-0b39a3b5"]]);var Xm=Ym;const Km=e=>(Object(a["pushScopeId"])("data-v-0fd04af0"),e=e(),Object(a["popScopeId"])(),e),Zm={class:"orangehrm-background-container"},eu={class:"orangehrm-card-container"},tu={class:"orangehrm-header-container"},ou=Km(()=>Object(a["createElementVNode"])("br",null,null,-1));function au(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-switch-input"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-icon"),h=Object(a["resolveComponent"])("oxd-alert"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("ldap-test-connection-modal"),f=Object(a["resolveComponent"])("ldap-sync-connection");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Zm,[Object(a["createElementVNode"])("div",eu,[Object(a["createElementVNode"])("div",tu,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.ldap_configuration")),1)]),_:1}),Object(a["createVNode"])(c,{modelValue:n.configuration.enable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.configuration.enable=e),"label-position":"left","option-label":e.$t("general.enable")},null,8,["modelValue","option-label"])]),Object(a["createVNode"])(d),Object(a["createVNode"])(g,{ref:"formRef",loading:n.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.server_settings")),1)]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.hostname,"onUpdate:modelValue":t[1]||(t[1]=e=>n.configuration.hostname=e),label:e.$t("admin.host"),rules:n.rules.hostname,required:""},null,8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.ldap_host_input_hint")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-column-half"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.port,"onUpdate:modelValue":t[2]||(t[2]=e=>n.configuration.port=e),label:e.$t("admin.port"),rules:n.rules.port,required:""},null,8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.port_input_hint")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.encryption,"onUpdate:modelValue":t[3]||(t[3]=e=>n.configuration.encryption=e),type:"select",options:n.encryptionOptions,label:e.$t("admin.encryption")},null,8,["modelValue","options","label"])]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.ldapImplementation,"onUpdate:modelValue":t[4]||(t[4]=e=>n.configuration.ldapImplementation=e),type:"select","show-empty-selector":!1,options:n.ldapImplementationOptions,label:e.$t("admin.ldap_implementation")},null,8,["modelValue","options","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-form-divider"}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.bind_settings")),1)]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-ldap-switch"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.bind_anonymously")),1)]),_:1}),Object(a["createVNode"])(c,{modelValue:n.configuration.bindAnonymously,"onUpdate:modelValue":t[5]||(t[5]=e=>n.configuration.bindAnonymously=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n.configuration.bindAnonymously?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.bindUserDN,"onUpdate:modelValue":t[6]||(t[6]=e=>n.configuration.bindUserDN=e),label:e.$t("admin.distinguished_name"),rules:n.rules.bindUserDN,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.bindUserPassword,"onUpdate:modelValue":t[7]||(t[7]=e=>n.configuration.bindUserPassword=e),type:"password",label:e.$t("general.password"),placeholder:r.passwordPlaceHolder,rules:n.rules.bindUserPassword,required:!n.configuration.hasBindUserPassword},null,8,["modelValue","label","placeholder","rules","required"])]),_:1})]),_:1})]),_:1})),Object(a["createVNode"])(d,{class:"orangehrm-form-divider"}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.user_lookup_settings")),1)]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.baseDistinguishedName,"onUpdate:modelValue":t[8]||(t[8]=e=>n.configuration.baseDistinguishedName=e),label:e.$t("admin.base_distinguished_name"),rules:n.rules.baseDistinguishedName,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.searchScope,"onUpdate:modelValue":t[9]||(t[9]=e=>n.configuration.searchScope=e),type:"select","show-empty-selector":!1,options:n.searchScopeOptions,label:e.$t("admin.search_scope")},null,8,["modelValue","options","label"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.search_scope_input_hint")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.userNameAttribute,"onUpdate:modelValue":t[10]||(t[10]=e=>n.configuration.userNameAttribute=e),label:e.$t("admin.user_name_attribute"),rules:n.rules.userNameAttribute,required:""},null,8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.user_name_input_hint")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-4"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.userSearchFilter,"onUpdate:modelValue":t[11]||(t[11]=e=>n.configuration.userSearchFilter=e),label:e.$t("admin.user_search_filter"),rules:n.rules.userSearchFilter,required:""},null,8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.user_search_filter_input_hint")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-5"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.userUniqueIdAttribute,"onUpdate:modelValue":t[12]||(t[12]=e=>n.configuration.userUniqueIdAttribute=e),label:e.$t("admin.user_unique_id_attribute"),rules:n.rules.userUniqueIdAttribute},null,8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.user_unique_attribute_input_hint")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-form-divider"}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.data_mapping")),1)]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-ldap-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.field_in_orangehrm")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.field_in_ldap_directory")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.use_this_field_as_the_employee_user_mapping_field")),1)]),_:1})]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"oxd-input-field-required"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.first_name")),1)]),_:1}),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.dataMapping.firstName,"onUpdate:modelValue":t[13]||(t[13]=e=>n.configuration.dataMapping.firstName=e),rules:n.rules.firstNameAttribute,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.middle_name")),1)]),_:1}),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.dataMapping.middleName,"onUpdate:modelValue":t[14]||(t[14]=e=>n.configuration.dataMapping.middleName=e),rules:n.rules.middleNameAttribute},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"oxd-input-field-required"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.last_name")),1)]),_:1}),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.dataMapping.lastName,"onUpdate:modelValue":t[15]||(t[15]=e=>n.configuration.dataMapping.lastName=e),rules:n.rules.lastNameAttribute},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.user_status")),1)]),_:1}),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.dataMapping.userStatus,"onUpdate:modelValue":t[16]||(t[16]=e=>n.configuration.dataMapping.userStatus=e),rules:n.rules.userStatusAttribute},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:Object(a["normalizeClass"])(r.workEmailLabelClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.work_email")),1)]),_:1},8,["class"]),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:n.configuration.employeeSelectorMapping,modelValue:n.configuration.dataMapping.workEmail,"onUpdate:modelValue":t[17]||(t[17]=e=>n.configuration.dataMapping.workEmail=e),rules:n.rules.workEmailAttribute},null,8,["modelValue","rules"]))]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:n.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[18]||(t[18]=e=>n.configuration.employeeSelectorMapping=e),"true-value":"workEmail"},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-ldap-grid-content"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:Object(a["normalizeClass"])(r.employeeIdLabelClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.employee_id")),1)]),_:1},8,["class"]),Object(a["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:n.configuration.employeeSelectorMapping,modelValue:n.configuration.dataMapping.employeeId,"onUpdate:modelValue":t[19]||(t[19]=e=>n.configuration.dataMapping.employeeId=e),rules:n.rules.employeeIdAttribute},null,8,["modelValue","rules"]))]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:n.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[20]||(t[20]=e=>n.configuration.employeeSelectorMapping=e),"true-value":"employeeId"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-form-divider"}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.additional_settings")),1)]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-ldap-switch --offset-row-1"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.merge_ldap_users_with_existing_system_users")),1)]),_:1}),Object(a["createVNode"])(c,{modelValue:n.configuration.mergeLDAPUsersWithExistingSystemUsers,"onUpdate:modelValue":t[21]||(t[21]=e=>n.configuration.mergeLDAPUsersWithExistingSystemUsers=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(m,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.configuration.syncInterval,"onUpdate:modelValue":t[22]||(t[22]=e=>n.configuration.syncInterval=e),label:e.$t("admin.sync_interval"),rules:n.rules.syncInterval,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h,{type:"warn",show:!0,message:e.$t("admin.ldap_configuration_warning_message")},null,8,["message"]),Object(a["createVNode"])(d),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("admin.test_connection"),onClick:r.onClickTest},null,8,["label","onClick"]),Object(a["createVNode"])(j,{type:"button",class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),onClick:r.onClickSave},null,8,["label","onClick"])]),_:1})]),_:1},8,["loading"])]),n.testModalState?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,data:n.testModalState,onClose:r.onCloseTestModal},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0),ou,o.showSync?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:1})):Object(a["createCommentVNode"])("",!0)])}const lu={class:"orangehrm-paper-container"},nu={class:"orangehrm-header-container"},ru={class:"orangehrm-ldap-sync"};function iu(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-loading-spinner"),d=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lu,[Object(a["createElementVNode"])("div",nu,[Object(a["createElementVNode"])("div",ru,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.sync_connection")),1)]),_:1}),Object(a["withDirectives"])(Object(a["createVNode"])(i,{type:"card-body",class:"orangehrm-ldap-sync-time"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" ("+Object(a["toDisplayString"])(r.lastSync)+") ",1)]),_:1},512),[[a["vShow"],r.lastSync]])]),n.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"orangehrm-ldap-sync-loader"})):(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,"display-type":"secondary",class:"orangehrm-ldap-sync-button",label:e.$t("admin.sync_now"),onClick:r.onClickSync},null,8,["label","onClick"]))])])}var cu={name:"LdapSyncConnection",components:{"oxd-loading-spinner":Z["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/ldap/user-sync"),{jsDateFormat:t}=ie();return{http:e,jsDateFormat:t}},data(){return{isLoading:!1,lastSyncDate:null,lastSyncTime:null,lastSyncStatus:null}},computed:{lastSync(){if(2===this.lastSyncStatus)return null;if(this.lastSyncDate&&this.lastSyncTime){const e=xe(`${this.lastSyncDate} ${this.lastSyncTime} +00:00`,"yyyy-MM-dd HH:mm xxx");return this.$t(1===this.lastSyncStatus?"admin.last_synced_on_datetime":"admin.last_sync_failed_on_datetime",{datetime:we(e,"hh:mm a "+this.jsDateFormat)})}return null}},beforeMount(){this.getLastSyncStatus()},methods:{getLastSyncStatus(){this.isLoading=!0,this.http.getAll().then(e=>{var t,o,a,l;const{data:n}=e.data;this.lastSyncStatus=n.syncStatus,this.lastSyncDate=(null===(t=n.syncFinishedAt)||void 0===t?void 0:t.date)||(null===(o=n.syncStartedAt)||void 0===o?void 0:o.date),this.lastSyncTime=(null===(a=n.syncFinishedAt)||void 0===a?void 0:a.time)||(null===(l=n.syncStartedAt)||void 0===l?void 0:l.time)}).finally(()=>{this.isLoading=!1})},onClickSync(){this.isLoading=!0,this.http.create().then(e=>{var t,o,a,l;const{data:n}=e.data;this.lastSyncStatus=n.syncStatus,this.lastSyncDate=(null===(t=n.syncFinishedAt)||void 0===t?void 0:t.date)||(null===(o=n.syncStartedAt)||void 0===o?void 0:o.date),this.lastSyncTime=(null===(a=n.syncFinishedAt)||void 0===a?void 0:a.time)||(null===(l=n.syncStartedAt)||void 0===l?void 0:l.time),this.$toast.success({title:this.$t("general.success"),message:this.$t("admin.synchronization_successful")})}).catch(()=>{this.getLastSyncStatus(),this.$toast.error({title:this.$t("general.error"),message:this.$t("admin.synchronization_failed")})}).finally(()=>{this.isLoading=!1})}}};o("ab83");const du=y()(cu,[["render",iu],["__scopeId","data-v-96867eca"]]);var su=du;const mu={class:"orangehrm-modal-header"};function uu(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",mu,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.connection_status")),1)]),_:1})]),Object(a["createVNode"])(c),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.data,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"orangehrm-ldap-test"},[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-ldap-test-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.category),1)]),_:2},1024),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.checks,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"orangehrm-ldap-test-row"},[Object(a["createVNode"])(i,{class:"orangehrm-ldap-test-content"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]),_:2},1024),Object(a["createVNode"])(i,{class:Object(a["normalizeClass"])(r.getClass(e.value.status))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.value.message),1)]),_:2},1032,["class"])]))),128))]))),128))]),_:1},8,["onUpdate:show"])}var bu={name:"LdapTestConnectionModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Array,default:()=>[]}},emits:["close"],methods:{getClass(e){return 1===e?"orangehrm-ldap-test-value --success":"orangehrm-ldap-test-value --error"},onCancel(){this.$emit("close")}}};o("e710");const pu=y()(bu,[["render",uu],["__scopeId","data-v-ae942d86"]]);var hu=pu;const ju={enable:!1,hostname:"localhost",port:389,encryption:null,ldapImplementation:null,bindAnonymously:!0,bindUserDN:null,bindUserPassword:null,baseDistinguishedName:null,searchScope:null,userNameAttribute:"cn",userSearchFilter:"objectClass=person",userUniqueIdAttribute:null,mergeLDAPUsersWithExistingSystemUsers:!1,syncInterval:1,employeeSelectorMapping:"",hasBindUserPassword:!1},Ou={firstName:"givenName",lastName:"sn",middleName:null,userStatus:null,workEmail:null,employeeId:null};var gu={components:{"oxd-icon":Jo["a"],"oxd-alert":at["a"],"oxd-switch-input":Sl["a"],"ldap-sync-connection":su,"ldap-test-connection-modal":hu},props:{showSync:{type:Boolean,default:!1}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/ldap-config"),{formRef:t,invalid:o,validate:a}=Xs();return{http:e,formRef:t,invalid:o,validate:a}},data(){return{isLoading:!1,configuration:{...ju,dataMapping:{...Ou}},encryptionOptions:[{id:"tls",label:this.$t("admin.tls")},{id:"ssl",label:this.$t("admin.ssl")}],searchScopeOptions:[{id:"sub",label:this.$t("admin.subtree")},{id:"one",label:this.$t("admin.one_level")}],ldapImplementationOptions:[{id:"OpenLDAP",label:this.$t("admin.open_ldap_v3")},{id:"ActiveDirectory",label:this.$t("admin.ms_active_directory")}],rules:{hostname:[io,zo,co(255)],port:[io,Ro(5,0,65535)],bindUserDN:[io,co(255)],bindUserPassword:[e=>this.configuration.hasBindUserPassword||io(e),co(255)],baseDistinguishedName:[io,co(255)],userNameAttribute:[io,co(100)],userSearchFilter:[io,co(100)],userUniqueIdAttribute:[co(100)],firstNameAttribute:[io,co(100)],lastNameAttribute:[io,co(100)],syncInterval:[io,po,Lo(1,23)],middleNameAttribute:[co(100)],userStatusAttribute:[co(100)],workEmailAttribute:[e=>"workEmail"!==this.configuration.employeeSelectorMapping||io(e),co(100)],employeeIdAttribute:[e=>"employeeId"!==this.configuration.employeeSelectorMapping||io(e),co(100)]},testModalState:null}},computed:{passwordPlaceHolder(){return this.configuration.hasBindUserPassword?"********":null},workEmailLabelClasses(){return{"oxd-input-field-required":"workEmail"===this.configuration.employeeSelectorMapping}},employeeIdLabelClasses(){return{"oxd-input-field-required":"employeeId"===this.configuration.employeeSelectorMapping}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data,{userLookupSettings:o}=t,a=o[0];this.configuration.enable=t.enable,this.configuration.hostname=t.hostname,this.configuration.port=t.port,this.configuration.encryption=this.encryptionOptions.find(e=>e.id===t.encryption),this.configuration.ldapImplementation=this.ldapImplementationOptions.find(e=>e.id===t.ldapImplementation)||this.ldapImplementationOptions[0],this.configuration.bindAnonymously=t.bindAnonymously,this.configuration.bindUserDN=t.bindUserDN,this.configuration.hasBindUserPassword=t.hasBindUserPassword,a&&(this.configuration.baseDistinguishedName=null===a||void 0===a?void 0:a.baseDN,this.configuration.userNameAttribute=null===a||void 0===a?void 0:a.userNameAttribute,this.configuration.userSearchFilter=null===a||void 0===a?void 0:a.userSearchFilter,this.configuration.userUniqueIdAttribute=null===a||void 0===a?void 0:a.userUniqueIdAttribute,Array.isArray(null===a||void 0===a?void 0:a.employeeSelectorMapping)&&(0===a.employeeSelectorMapping.length?this.configuration.employeeSelectorMapping="":this.configuration.employeeSelectorMapping=a.employeeSelectorMapping[0]["field"])),this.configuration.searchScope=this.searchScopeOptions.find(e=>e.id===(null===a||void 0===a?void 0:a.searchScope))||this.searchScopeOptions[0],this.configuration.dataMapping=t.dataMapping,this.configuration.mergeLDAPUsersWithExistingSystemUsers=t.mergeLDAPUsersWithExistingSystemUsers,this.configuration.syncInterval=t.syncInterval}).finally(()=>{this.isLoading=!1})},methods:{onClickTest(){this.validate().then(()=>{if(!0===this.invalid)return;this.isLoading=!0;const e=this.getRequestBody();delete e.enable,delete e.syncInterval,this.http.request({method:"POST",url:"api/v2/admin/ldap-test-connection",data:e}).then(e=>{const{data:t}=e.data;this.testModalState=t}).finally(()=>this.isLoading=!1)})},getRequestBody(){var e,t,o;let a;return this.configuration.employeeSelectorMapping&&(a=[{field:this.configuration.employeeSelectorMapping,attributeName:this.configuration.dataMapping[this.configuration.employeeSelectorMapping]}]),{enable:this.configuration.enable,hostname:this.configuration.hostname,port:parseInt(this.configuration.port),encryption:(null===(e=this.configuration.encryption)||void 0===e?void 0:e.id)||"none",ldapImplementation:null===(t=this.configuration.ldapImplementation)||void 0===t?void 0:t.id,bindAnonymously:this.configuration.bindAnonymously,bindUserDN:this.configuration.bindUserDN,bindUserPassword:this.configuration.bindUserPassword,userLookupSettings:[{baseDN:this.configuration.baseDistinguishedName,searchScope:null===(o=this.configuration.searchScope)||void 0===o?void 0:o.id,userNameAttribute:this.configuration.userNameAttribute,userSearchFilter:this.configuration.userSearchFilter,userUniqueIdAttribute:this.configuration.userUniqueIdAttribute,employeeSelectorMapping:a||[]}],dataMapping:this.configuration.dataMapping,mergeLDAPUsersWithExistingSystemUsers:this.configuration.mergeLDAPUsersWithExistingSystemUsers,syncInterval:parseInt(this.configuration.syncInterval)}},onClickSave(){this.validate().then(()=>{!0!==this.invalid&&(this.isLoading=!0,this.http.request({method:"PUT",data:this.getRequestBody()}).then(()=>this.$toast.updateSuccess()).finally(()=>X()))})},onCloseTestModal(){this.testModalState=null}}};o("4872");const vu=y()(gu,[["render",au],["__scopeId","data-v-0fd04af0"]]);var fu=vu,yu={"job-title-list":oo,"job-title-edit":oa,"job-title-save":da,"job-category-list":ga,"job-category-edit":xa,"job-category-save":Da,"qualification-education-list":yn,"qualification-education-edit":_n,"qualification-education-save":Tn,"system-user-list":Wa,"system-user-edit":Ol,"system-user-save":sl,"organization-structure":Rl,"employment-status-list":nn,"employment-status-save":un,"employment-status-edit":Yl,"qualification-skill-list":Fn,"qualification-skill-edit":Jn,"qualification-skill-save":or,"license-list":Vr,"license-save":pr,"license-edit":cr,"module-configuration-edit":Ed,"qualification-language-list":Rr,"qualification-language-edit":Sr,"qualification-language-save":Ir,"qualification-membership-list":Zr,"qualification-membership-edit":ni,"qualification-membership-save":mi,"organization-general-information-view":gi,"nationality-list":_i,"nationality-edit":Ti,"nationality-save":Pi,"location-list":ic,"location-save":pc,"location-edit":yc,"email-configuration-view":Wi,"pay-grade-list":$c,"pay-grade-add":Uc,"pay-grade-edit":jd,"work-shift-list":Fd,"work-shift-save":Zd,"work-shift-edit":rs,"email-subscription-list":hs,"email-subscription-edit":Ls,"localization-configuration":Fs,"corporate-branding":dm,"language-package-list":$m,"language-translation-edit":Xm,"ldap-configuration":fu};const Cu={class:"orangehrm-background-container"},Vu={class:"orangehrm-card-container"},xu={class:"orangehrm-employee-container"},wu={class:"orangehrm-employee-image"},Nu={class:"orangehrm-employee-form"};function _u(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("profile-image-input"),s=Object(a["resolveComponent"])("full-name-input"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-input-field"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("oxd-switch-input"),j=Object(a["resolveComponent"])("oxd-input-group"),O=Object(a["resolveComponent"])("password-input"),g=Object(a["resolveComponent"])("required-text"),v=Object(a["resolveComponent"])("oxd-button"),f=Object(a["resolveComponent"])("submit-button"),y=Object(a["resolveComponent"])("oxd-form-actions"),C=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cu,[Object(a["createElementVNode"])("div",Vu,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_employee")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",xu,[Object(a["createElementVNode"])("div",wu,[Object(a["createVNode"])(d,{modelValue:l.employee.empPicture,"onUpdate:modelValue":t[0]||(t[0]=e=>l.employee.empPicture=e),rules:n.rules.empPicture,"img-src":r.profilePicUrl},null,8,["modelValue","rules","img-src"])]),Object(a["createElementVNode"])("div",Nu,[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{firstName:l.employee.firstName,"onUpdate:firstName":t[1]||(t[1]=e=>l.employee.firstName=e),middleName:l.employee.middleName,"onUpdate:middleName":t[2]||(t[2]=e=>l.employee.middleName=e),lastName:l.employee.lastName,"onUpdate:lastName":t[3]||(t[3]=e=>l.employee.lastName=e),rules:n.rules},null,8,["firstName","middleName","lastName","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=e=>l.employee.employeeId=e),label:e.$t("general.employee_id"),rules:n.rules.employeeId},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{class:"user-form-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"user-form-header-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.create_login_details")),1)]),_:1}),Object(a["createVNode"])(h,{modelValue:n.createLogin,"onUpdate:modelValue":t[5]||(t[5]=e=>n.createLogin=e)},null,8,["modelValue"])]),_:1}),n.createLogin?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.user.username,"onUpdate:modelValue":t[6]||(t[6]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{label:e.$t("general.status"),classes:{wrapper:"--status-grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.user.status,"onUpdate:modelValue":t[7]||(t[7]=e=>n.user.status=e),type:"radio","option-label":e.$t("general.enabled"),value:"1"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(b,{modelValue:n.user.status,"onUpdate:modelValue":t[8]||(t[8]=e=>n.user.status=e),type:"radio","option-label":e.$t("general.disabled"),value:"2"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,{password:n.user.password,"onUpdate:password":t[9]||(t[9]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[10]||(t[10]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"])],64)):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(c),Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g),Object(a["createVNode"])(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(f)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const ku={class:"employee-image-wrapper"},Su=["src"];function Du(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,Object(a["mergeProps"])({ref:"fileInput"},e.$attrs,{type:"file"}),{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ku,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:o.imgSrc},null,8,Su)]),Object(a["createVNode"])(i,{class:"employee-image-action",name:"plus",role:"none"})]),_:1},16),Object(a["createVNode"])(d,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accept_jpg_png_upto_1mb_recomended_dimentions_200px_x_200px")),1)]),_:1})],64)}var $u={name:"ProfileImageInput",inheritAttrs:!1,props:{imgSrc:{type:String,required:!0}}};o("1f4d");const Eu=y()($u,[["render",Du],["__scopeId","data-v-449ec876"]]);var Tu=Eu;function Bu(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{label:r.localizedLabel,classes:r.classes},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-firstname",name:"firstName",placeholder:e.$t("general.first_name"),"model-value":o.firstName,rules:o.rules.firstName,disabled:o.disabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:firstName",t))},null,8,["placeholder","model-value","rules","disabled"]),Object(a["createVNode"])(i,{class:"orangehrm-middlename",name:"middleName","model-value":o.middleName,rules:o.rules.middleName,disabled:o.disabled,placeholder:o.showMiddleNamePlaceholder?e.$t("general.middle_name"):"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:middleName",t))},null,8,["model-value","rules","disabled","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-lastname",name:"lastName",placeholder:e.$t("general.last_name"),"model-value":o.lastName,rules:o.rules.lastName,disabled:o.disabled,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:lastName",t))},null,8,["placeholder","model-value","rules","disabled"])]),_:1},8,["label","classes"])}var Iu={name:"FullNameInput",inheritAttrs:!1,props:{firstName:{type:String,required:!0},middleName:{type:String,required:!0},lastName:{type:String,required:!0},rules:{type:Object,required:!0},disabled:{type:Boolean,default:!1},showMiddleNamePlaceholder:{type:Boolean,default:!0},label:{type:String,default:null}},emits:["update:firstName","update:middleName","update:lastName"],computed:{classes(){return{label:{"oxd-input-field-required":!0},wrapper:{"--name-grouped-field":!0}}},localizedLabel(){return this.label?this.label:this.$t("general.employee_full_name")}}};o("2823");const Lu=y()(Iu,[["render",Bu],["__scopeId","data-v-428506ce"]]);var Uu=Lu;const Au=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png",Pu={firstName:"",middleName:"",lastName:"",empPicture:null,employeeId:""},qu={username:"",userRoleId:2,empNumber:0,status:"1",password:"",passwordConfirm:""};var Mu={components:{"oxd-switch-input":Sl["a"],"profile-image-input":Tu,"full-name-input":Uu,"password-input":nl},props:{empId:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup(e){const t=Object(a["ref"])({...Pu,employeeId:e.empId?e.empId:""}),o=new K(window.appGlobal.baseUrl,"api/v2/pim/employees");return{http:o,employee:t}},data(){return{isLoading:!1,createLogin:!1,user:{...qu},empNumber:null,rules:{firstName:[io,co(30)],middleName:[co(30)],lastName:[io,co(30)],employeeId:[co(10)],empPicture:[No(1048576),_o(this.allowedImageTypes)],username:[io,To(5),co(40)],status:[io]}}},computed:{profilePicUrl(){if(this.employee.empPicture){const e=this.employee.empPicture.base64,t=this.employee.empPicture.type,o=this.allowedImageTypes.findIndex(e=>e===t);return o>-1?`data:${t};base64,${e}`:Au}return Au}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;return this.rules.employeeId.push(e=>{const o=t.findIndex(t=>{var o;return(null===(o=t.employeeId)||void 0===o?void 0:o.trim())&&String(t.employeeId).toLowerCase()==String(e).toLowerCase()});return!(o>-1)||this.$t("pim.employee_id_exists")}),this.http.http.get("api/v2/admin/users")}).then(e=>{const{data:t}=e.data;this.rules.username.push(e=>{const o=t.findIndex(t=>String(t.userName).toLowerCase()==String(e).toLowerCase());return!(o>-1)||this.$t("pim.username_already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/pim/viewEmployeeList")},onSave(){this.isLoading=!0,this.http.create({...this.employee}).then(e=>{const{data:t}=e;return null!==t&&void 0!==t&&t.data&&(this.empNumber=t.data.empNumber),this.createLogin&&null!==t&&void 0!==t&&t.data?this.http.http.post("api/v2/admin/users",{username:this.user.username,password:this.user.password,status:"1"==this.user.status,userRoleId:this.user.userRoleId,empNumber:t.data.empNumber}):void 0}).then(()=>this.$toast.saveSuccess()).then(()=>{this.employee={...Pu},this.user={...qu},this.empNumber?Y("/pim/viewPersonalDetails/empNumber/"+this.empNumber):this.onCancel()})}}};o("e746");const Fu=y()(Mu,[["render",_u],["__scopeId","data-v-4e1a259a"]]);var zu=Fu;const Ru=e=>(Object(a["pushScopeId"])("data-v-402ceab4"),e=e(),Object(a["popScopeId"])(),e),Gu={class:"orangehrm-background-container"},Qu=Ru(()=>Object(a["createElementVNode"])("br",null,null,-1)),Hu={class:"orangehrm-paper-container"},Wu={key:0,class:"orangehrm-header-container"},Ju={class:"orangehrm-container"},Yu={class:"orangehrm-bottom-container"};function Xu(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("employment-status-dropdown"),u=Object(a["resolveComponent"])("include-employee-dropdown"),b=Object(a["resolveComponent"])("jobtitle-dropdown"),p=Object(a["resolveComponent"])("subunit-dropdown"),h=Object(a["resolveComponent"])("oxd-grid"),j=Object(a["resolveComponent"])("oxd-form-row"),O=Object(a["resolveComponent"])("oxd-divider"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("oxd-table-filter"),C=Object(a["resolveComponent"])("table-header"),V=Object(a["resolveComponent"])("oxd-card-table"),x=Object(a["resolveComponent"])("oxd-pagination"),w=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gu,[Object(a["createVNode"])(y,{"filter-title":e.$t("pim.employee_information")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>{var e;return[Object(a["createVNode"])(c,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:null===(e=l.filters.includeEmployees)||void 0===e?void 0:e.param}},null,8,["modelValue","rules","params"])]}),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.employeeId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.employeeId=e),label:e.$t("general.employee_id")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.empStatusId,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.empStatusId=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.supervisor,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.supervisor=e),rules:n.rules.supervisor,label:e.$t("pim.supervisor_name")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:l.filters.subunitId,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.subunitId=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),Qu,Object(a["createElementVNode"])("div",Hu,[e.$can.create("employee_list")?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Wu,[Object(a["createVNode"])(g,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(C,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Ju,[Object(a["createVNode"])(V,{ref:"cardTable",selected:n.checkedItems,"onUpdate:selected":t[7]||(t[7]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[8]||(t[8]=e=>l.sortDefinition=e),headers:r.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("employee_list"),clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:r.onClickEdit},null,8,["selected","order","headers","items","selectable","loading","onClick"])]),Object(a["createElementVNode"])("div",Yu,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:0,current:l.currentPage,"onUpdate:current":t[9]||(t[9]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(w,{ref:"deleteDialog"},null,512)])}function Ku(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("general.job_title"),options:l.options},null,8,["label","options"])}var Zu={name:"JobtitleDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return Object(a["onBeforeMount"])(()=>{t.getAll({limit:0}).then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.title}))})}),{options:e}}};const eb=y()(Zu,[["render",Ku]]);var tb=eb;function ob(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("general.sub_unit"),options:l.options},null,8,["label","options"])}var ab={name:"SubunitDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"api/v2/admin/subunits");return Object(a["onBeforeMount"])(()=>{t.getAll().then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.name,_indent:e.level?e.level+1:1}))})}),{options:e}}};const lb=y()(ab,[["render",ob]]);var nb=lb;function rb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("general.employment_status"),options:l.options},null,8,["label","options"])}var ib={name:"EmploymentStatusDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"api/v2/admin/employment-statuses");return Object(a["onBeforeMount"])(()=>{t.getAll({limit:0}).then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.name}))})}),{options:e}}};const cb=y()(ib,[["render",rb]]);var db=cb;function sb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["label","options"])}var mb={name:"IncludeEmployeeDropdown",data(){return{includeOpts:[{id:1,param:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,param:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,param:"onlyPast",label:this.$t("general.past_employees_only")}]}}};const ub=y()(mb,[["render",sb]]);var bb=ub;const pb={"employee.employeeId":"DEFAULT","employee.firstName":"ASC","employee.lastName":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","empStatus.name":"DEFAULT","subunit.name":"DEFAULT","supervisor.firstName":"DEFAULT"};var hb={components:{"delete-confirmation":Yt,"employee-autocomplete":Fa,"jobtitle-dropdown":tb,"subunit-dropdown":nb,"employment-status-dropdown":db,"include-employee-dropdown":bb},props:{unselectableEmpNumbers:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ge(),o=o=>o.map(o=>{var a,l,n,r;const i=e.unselectableEmpNumbers.findIndex(e=>e==o.empNumber);return{id:o.empNumber,employeeId:o.employeeId,firstAndMiddleName:`${o.firstName} ${o.middleName}`,lastName:o.lastName+(o.terminationId?" "+t("general.past_employee"):""),jobTitle:null!==(a=o.jobTitle)&&void 0!==a&&a.isDeleted?o.jobTitle.title+t("general.deleted"):null===(l=o.jobTitle)||void 0===l?void 0:l.title,empStatus:null===(n=o.empStatus)||void 0===n?void 0:n.name,subunit:null===(r=o.subunit)||void 0===r?void 0:r.name,supervisor:o.supervisors?o.supervisors.map(e=>`${e.firstName} ${e.lastName}`).join(","):"",isSelectable:-1===i}}),l=Object(a["ref"])({employee:null,employeeId:"",empStatusId:null,supervisor:null,jobTitleId:null,subunitId:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}}),{sortDefinition:n,sortField:r,sortOrder:i,onSort:c}=Xt({sortDefinition:pb}),d=Object(a["computed"])(()=>{var e,t,o,a,n;return{model:"detailed",nameOrId:"string"===typeof l.value.employee?l.value.employee:void 0,empNumber:null===(e=l.value.employee)||void 0===e?void 0:e.id,employeeId:l.value.employeeId,empStatusId:null===(t=l.value.empStatusId)||void 0===t?void 0:t.id,includeEmployees:null===(o=l.value.includeEmployees)||void 0===o?void 0:o.param,supervisorEmpNumbers:l.value.supervisor?[l.value.supervisor.id]:void 0,jobTitleId:null===(a=l.value.jobTitleId)||void 0===a?void 0:a.id,subunitId:null===(n=l.value.subunitId)||void 0===n?void 0:n.id,sortField:r.value,sortOrder:i.value}}),s=new K(window.appGlobal.baseUrl,"api/v2/pim/employees"),{showPaginator:m,currentPage:u,total:b,pages:p,pageSize:h,response:j,isLoading:O,execQuery:g}=zt(s,{query:d,normalizer:o});return c(g),{http:s,showPaginator:m,currentPage:u,isLoading:O,total:b,pages:p,pageSize:h,execQuery:g,items:j,filters:l,sortDefinition:n}},data(){return{checkedItems:[],rules:{employee:[],supervisor:[Fo]}}},computed:{headers(){return[{name:"employeeId",slot:"title",title:this.$t("general.id"),sortField:"employee.employeeId",style:{flex:1}},{name:"firstAndMiddleName",title:this.$t("pim.first_middle_name"),sortField:"employee.firstName",style:{flex:1}},{name:"lastName",title:this.$t("general.last_name"),sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:1}},{name:"empStatus",title:this.$t("general.employment_status"),sortField:"empStatus.name",style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),sortField:"subunit.name",style:{flex:1}},{name:"supervisor",title:this.$t("pim.supervisor"),sortField:"supervisor.firstName",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{...this.$can.delete("employee_list")&&{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}]}},methods:{onClickAdd(){Y("/pim/addEmployee")},onClickEdit(e){var t;const o=e.id?e.id:null===(t=e.item)||void 0===t?void 0:t.id;Y("/pim/viewPersonalDetails/empNumber/{id}",{id:o})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e,t){t.stopImmediatePropagation();const o=this.unselectableEmpNumbers.findIndex(t=>t==e.id);if(o>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};o("f6a9");const jb=y()(hb,[["render",Xu],["__scopeId","data-v-402ceab4"]]);var Ob=jb;const gb={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function vb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("full-name-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-input-field"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("oxd-input-group"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form"),f=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(f,{"employee-id":o.empNumber,screen:"personal"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",gb,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.personal_details")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{firstName:n.employee.firstName,"onUpdate:firstName":t[0]||(t[0]=e=>n.employee.firstName=e),middleName:n.employee.middleName,"onUpdate:middleName":t[1]||(t[1]=e=>n.employee.middleName=e),lastName:n.employee.lastName,"onUpdate:lastName":t[2]||(t[2]=e=>n.employee.lastName=e),rules:n.rules},null,8,["firstName","middleName","lastName","rules"])]),_:1})]),_:1}),o.showDeprecatedFields?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.nickname,"onUpdate:modelValue":t[3]||(t[3]=e=>n.employee.nickname=e),label:e.$t("pim.nickname"),rules:n.rules.nickname},null,8,["modelValue","label","rules"])]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.employee.employeeId=e),label:e.$t("general.employee_id"),rules:n.rules.employeeId,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.otherId,"onUpdate:modelValue":t[5]||(t[5]=e=>n.employee.otherId=e),label:e.$t("pim.other_id"),rules:n.rules.otherId},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.drivingLicenseNo,"onUpdate:modelValue":t[6]||(t[6]=e=>n.employee.drivingLicenseNo=e),label:e.$t("pim.driver_license_number"),rules:n.rules.drivingLicenseNo,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.employee.drivingLicenseExpiredDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.employee.drivingLicenseExpiredDate=e),rules:n.rules.drivingLicenseExpiredDate,label:e.$t("pim.license_expiry_date")},null,8,["modelValue","rules","label"])]),_:1})]),_:1}),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[o.showSsnField?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.ssnNumber,"onUpdate:modelValue":t[8]||(t[8]=e=>n.employee.ssnNumber=e),label:e.$t("pim.ssn_number"),rules:n.rules.ssnNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]),_:1})):Object(a["createCommentVNode"])("",!0),o.showSinField?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.sinNumber,"onUpdate:modelValue":t[9]||(t[9]=e=>n.employee.sinNumber=e),label:e.$t("pim.sin_number"),rules:n.rules.sinNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.nationality,"onUpdate:modelValue":t[10]||(t[10]=e=>n.employee.nationality=e),type:"select",label:e.$t("general.nationality"),clear:!1,options:o.nationalities},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.maritalStatus,"onUpdate:modelValue":t[11]||(t[11]=e=>n.employee.maritalStatus=e),type:"select",label:e.$t("pim.marital_status"),clear:!1,options:n.maritalStatuses},null,8,["modelValue","label","options"])]),_:1})]),_:1}),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.employee.birthday,"onUpdate:modelValue":t[12]||(t[12]=e=>n.employee.birthday=e),label:e.$t("pim.date_of_birth"),rules:n.rules.birthday,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{label:e.$t("pim.gender"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.gender,"onUpdate:modelValue":t[13]||(t[13]=e=>n.employee.gender=e),type:"radio","option-label":e.$t("general.male"),value:"1"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(u,{modelValue:n.employee.gender,"onUpdate:modelValue":t[14]||(t[14]=e=>n.employee.gender=e),type:"radio","option-label":e.$t("general.female"),value:"2"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),o.showDeprecatedFields?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0})):Object(a["createCommentVNode"])("",!0),o.showDeprecatedFields?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.militaryService,"onUpdate:modelValue":t[15]||(t[15]=e=>n.employee.militaryService=e),label:e.$t("pim.military_service"),rules:n.rules.militaryService},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.employee.smoker,"onUpdate:modelValue":t[16]||(t[16]=e=>n.employee.smoker=e),type:"checkbox",label:e.$t("pim.smoker"),"option-label":e.$t("general.yes")},null,8,["modelValue","label","option-label"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])]),_:1},8,["employee-id"])}const fb={class:"orangehrm-background-container"},yb={class:"orangehrm-card-container"},Cb={class:"orangehrm-edit-employee"},Vb={class:"orangehrm-edit-employee-navigation"},xb={class:"orangehrm-edit-employee-imagesection"},wb={class:"orangehrm-edit-employee-name"},Nb={class:"orangehrm-edit-employee-image-wrapper"},_b=["src"],kb={class:"orangehrm-edit-employee-content"};function Sb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("tabs-navigation"),d=Object(a["resolveComponent"])("profile-custom-fields"),s=Object(a["resolveComponent"])("profile-attachments");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fb,[Object(a["createElementVNode"])("div",yb,[Object(a["createElementVNode"])("div",Cb,[Object(a["createElementVNode"])("div",Vb,[Object(a["createElementVNode"])("div",xb,[Object(a["createElementVNode"])("div",wb,[Object(a["createVNode"])(i,{tag:"h6",class:"--strong"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeName),1)]),_:1}),l.isCurrentEmp?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.past_employee")),1)]),_:1}))]),Object(a["createElementVNode"])("div",Nb,[Object(a["createElementVNode"])("div",{class:"orangehrm-edit-employee-image",onClick:t[0]||(t[0]=(...e)=>l.onClickProfilePic&&l.onClickProfilePic(...e))},[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,_b)])])]),Object(a["createVNode"])(c,{tabs:o.tabs},null,8,["tabs"])]),Object(a["createElementVNode"])("div",kb,[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0),"default"!==o.screen?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"employee-id":o.employeeId,screen:o.screen},null,8,["employee-id","screen"])):Object(a["createCommentVNode"])("",!0),"default"!==o.screen?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1,"employee-id":o.employeeId,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,screen:o.screen},null,8,["employee-id","allowed-file-types","max-file-size","screen"])):Object(a["createCommentVNode"])("",!0)])])])])}const Db={role:"tablist",class:"orangehrm-tabs"},$b=["href"];function Eb(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Db,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.tabs,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,role:"tab",class:"orangehrm-tabs-wrapper"},[Object(a["createElementVNode"])("a",{class:Object(a["normalizeClass"])({"orangehrm-tabs-item":!0,"--active":e.active}),href:e.url},Object(a["toDisplayString"])(e.name),11,$b)]))),128))])}var Tb={name:"TabsNavigation",props:{tabs:{type:Array,required:!0}}};o("73b1");const Bb=y()(Tb,[["render",Eb],["__scopeId","data-v-0c35ff1f"]]);var Ib=Bb;const Lb={class:"orangehrm-attachment"},Ub={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ab={class:"orangehrm-container"},Pb={key:0,class:"orangehrm-bottom-container"};function qb(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("save-attachment"),s=Object(a["resolveComponent"])("edit-attachment"),m=Object(a["resolveComponent"])("profile-action-header"),u=Object(a["resolveComponent"])("table-header"),b=Object(a["resolveComponent"])("oxd-card-table"),p=Object(a["resolveComponent"])("oxd-pagination"),h=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Lb,[Object(a["createVNode"])(c),n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,http:l.http,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,onClose:r.onSaveModalClose},null,8,["http","allowed-file-types","max-file-size","onClose"])):n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1,data:n.editModalState,http:l.http,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,onClose:r.onEditModalClose},null,8,["data","http","allowed-file-types","max-file-size","onClose"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:2},[Object(a["createElementVNode"])("div",Ub,[Object(a["createVNode"])(m,{"action-button-shown":e.$can.create(o.screen+"_attachment"),onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.attachments")),1)]),_:1},8,["action-button-shown","onClick"])]),Object(a["createVNode"])(u,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Ab,[Object(a["createVNode"])(b,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete(o.screen+"_attachment"),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pb,[Object(a["createVNode"])(p,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0)],64)),Object(a["createVNode"])(h,{ref:"deleteDialog"},null,512)])}const Mb=1,Fb=1024,zb=1048576,Rb=1073741824,Gb=function(e,t,o=!0){let a,l=Mb,n="B";return a="number"===typeof e?e:parseInt(e,10),a>=Rb?(l=Rb,n="GB"):a>=zb?(l=zb,n="MB"):a>=Fb&&(l=Fb,n="kB"),(a/l).toFixed(t)+(o?" "+n:"")},Qb={class:"orangehrm-card-container"};function Hb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qb,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.description=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const Wb={attachment:null,description:""};var Jb={name:"SaveAttachment",props:{http:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data(){return{isLoading:!1,attachment:{...Wb},rules:{description:[co(200)],attachment:[io,No(this.maxFileSize),_o(this.allowedFileTypes)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then(()=>this.$toast.saveSuccess()).then(()=>{this.attachment={...Wb},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Yb=y()(Jb,[["render",Hb]]);var Xb=Yb;const Kb={class:"orangehrm-card-container"};function Zb(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-input-field"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Kb,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.current_file")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.currentFile),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.description=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const ep={attachment:null,description:""};var tp={name:"EditAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data(){return{isLoading:!1,currentFile:"",attachment:{...ep},rules:{description:[co(200)],attachment:[No(this.maxFileSize),_o(this.allowedFileTypes)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.currentFile=t.filename,this.attachment.description=t.description}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.attachment}).then(()=>this.$toast.updateSuccess()).then(()=>{this.attachment={...ep},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const op=y()(tp,[["render",Zb]]);var ap=op;const lp={class:"orangehrm-action-header"};function np(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lp,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)]),_:3}),o.actionButtonShown?(Object(a["openBlock"])(),Object(a["createBlock"])(c,Object(a["mergeProps"])({key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])):Object(a["createCommentVNode"])("",!0)])}var rp={name:"ProfileActionHeader",inheritAttrs:!1,props:{actionButtonShown:{type:Boolean,required:!1,default:!0}}};o("9d36");const ip=y()(rp,[["render",np],["__scopeId","data-v-3dab643a"]]);var cp=ip,dp={name:"ProfileAttachments",components:{"save-attachment":Xb,"edit-attachment":ap,"profile-action-header":cp,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/screen/${e.screen}/attachments`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>({...e,attachedDate:we(xe(e.attachedDate),o,{locale:a}),size:Gb(e.size,2)})),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"description",title:this.$t("general.description"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"attachedDate",title:this.$t("pim.date_added"),style:{flex:1}},{name:"attachedByName",title:this.$t("pim.added_by"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.update(this.screen+"_attachment")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),this.$can.delete(this.screen+"_attachment")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.read(this.screen+"_attachment")&&(e.cellConfig.download={onClick:this.onClickDownload,props:{name:"download"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onClickDownload(e){const t=`${window.appGlobal.baseUrl}/pim/viewAttachment/empNumber/${this.employeeId}/attachId/${e.id}`;window.open(t,"_blank")},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};o("63aa");const sp=y()(dp,[["render",qb],["__scopeId","data-v-a8aff5a0"]]);var mp=sp;const up={key:0,class:"orangehrm-custom-fields"},bp={class:"orangehrm-card-container"};function pp(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-divider"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return 0!==n.fields.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",up,[Object(a["createVNode"])(i),Object(a["createElementVNode"])("div",bp,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.custom_fields")),1)]),_:1}),Object(a["createVNode"])(i),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.fields,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:t.id},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customFieldsModel[t.model],"onUpdate:modelValue":e=>n.customFieldsModel[t.model]=e,type:t.type,label:t.label,options:t.extraData,rules:n.rules.default,disabled:!e.$can.update(o.screen+"_custom_fields")},null,8,["modelValue","onUpdate:modelValue","type","label","options","rules","disabled"])]),_:2},1024))),128))]),_:1})]),_:1}),e.$can.update(o.screen+"_custom_fields")?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(i),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b)]),_:1})],64)):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","onSubmitValid"])])])):Object(a["createCommentVNode"])("",!0)}const hp=e=>"string"===typeof e?e.split(",").map((e,t)=>({id:t,label:e})).filter(e=>""!=e.label.trim()):[];var jp={name:"ProfileCustomFields",props:{employeeId:{type:String,required:!0},screen:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/custom-fields?screen=${e.screen}`);return{http:t}},data(){return{isLoading:!1,fields:[],customFieldsModel:{},rules:{default:[co(250)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t,meta:o}=e.data;this.customFieldsModel={...t},o.fields&&o.fields.length>0&&(this.fields=o.fields.map(e=>{const o=hp(e.extraData),a="custom"+e.id;if(1==e.fieldType&&t[a]){const e=o.find(e=>e.label==t[a]);this.customFieldsModel[a]=e||null}return{id:e.id,label:e.fieldName,type:1==e.fieldType?"select":"input",model:a,extraData:o}}))}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`api/v2/pim/employees/${this.employeeId}/custom-fields`,data:{...this.customFieldsModel},transformRequest:[e=>{for(const o in e){var t;null!==(t=e[o])&&void 0!==t&&t.label&&(e[o]=e[o].label)}return JSON.stringify(e)}]}).then(()=>{this.isLoading=!1,this.$toast.saveSuccess()})}}};const Op=y()(jp,[["render",pp]]);var gp=Op;const vp=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var fp={name:"EditEmployeeLayout",components:{"tabs-navigation":Ib,"profile-attachments":mp,"profile-custom-fields":gp},props:{employeeId:{type:String,required:!0},tabs:{type:Array,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,default:"default",validator(e){return["default","personal","contact","emergency","dependents","immigration","qualifications","tax","salary","job","report-to","membership"].includes(e)}}},setup(e){const t=Object(a["ref"])(""),o=Object(a["ref"])(!0),l=new K(window.appGlobal.baseUrl,"api/v2/pim/employees");l.get(e.employeeId).then(({data:e})=>{t.value=`${e.data.firstName} ${e.data.lastName}`,o.value=!e.data.terminationId});const n=Object(a["computed"])(()=>e.employeeId?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employeeId}`:vp),r=()=>{Y("/pim/viewPhotograph/empNumber/{empNumber}",{empNumber:e.employeeId})};return{imgSrc:n,employeeName:t,isCurrentEmp:o,onClickProfilePic:r}}};o("3bd4");const yp=y()(fp,[["render",Sb],["__scopeId","data-v-09a26ef1"]]);var Cp=yp;const Vp={firstName:"",middleName:"",lastName:"",employeeId:"",otherId:"",drivingLicenseNo:"",drivingLicenseExpiredDate:"",ssnNumber:"",sinNumber:"",nationality:[],maritalStatus:[],birthday:"",gender:"",nickname:"",smoker:"",militaryService:""};var xp={components:{"edit-employee-layout":Cp,"full-name-input":Uu},props:{empNumber:{type:String,required:!0},nationalities:{type:Array,default:()=>[]},showDeprecatedFields:{type:Boolean,default:!1},showSsnField:{type:Boolean,default:!1},showSinField:{type:Boolean,default:!1}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/personal-details`),{userDateFormat:o}=ie();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,employee:{...Vp},rules:{firstName:[io,co(30)],middleName:[co(30)],lastName:[io,co(30)],employeeId:[co(10)],otherId:[co(30)],drivingLicenseNo:[co(30)],ssnNumber:[co(30)],sinNumber:[co(30)],nickname:[co(30)],militaryService:[co(30)],birthday:[so(this.userDateFormat)],drivingLicenseExpiredDate:[so(this.userDateFormat)]},maritalStatuses:[{id:"Single",label:"Single"},{id:"Married",label:"Married"},{id:"Other",label:"Other"}]}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>(this.updateModel(e),this.http.request({method:"GET",url:"api/v2/pim/employees"}))).then(e=>{const{data:t}=e.data;this.rules.employeeId.push(e=>{const o=t.findIndex(t=>{var o;return(null===(o=t.employeeId)||void 0===o?void 0:o.trim())&&String(t.employeeId).toLowerCase()==String(e).toLowerCase()});if(o>-1){const{empNumber:e}=t[o];return e==this.empNumber||this.$t("pim.employee_id_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t;this.isLoading=!0,this.http.request({method:"PUT",data:{lastName:this.employee.lastName,firstName:this.employee.firstName,middleName:this.employee.middleName,employeeId:this.employee.employeeId,otherId:this.employee.otherId,drivingLicenseNo:this.employee.drivingLicenseNo,drivingLicenseExpiredDate:this.employee.drivingLicenseExpiredDate,gender:this.employee.gender,maritalStatus:null===(e=this.employee.maritalStatus)||void 0===e?void 0:e.id,birthday:this.employee.birthday,nationalityId:null===(t=this.employee.nationality)||void 0===t?void 0:t.id,ssnNumber:this.showSsnField?this.employee.ssnNumber:void 0,sinNumber:this.showSinField?this.employee.sinNumber:void 0,nickname:this.showDeprecatedFields?this.employee.nickname:void 0,smoker:this.showDeprecatedFields?this.employee.smoker:void 0,militaryService:this.showDeprecatedFields?this.employee.militaryService:void 0}}).then(e=>(this.updateModel(e),this.$toast.updateSuccess())).then(()=>{this.isLoading=!1})},updateModel(e){const{data:t}=e.data;this.employee={...Vp,...t},this.employee.maritalStatus=this.maritalStatuses.find(e=>e.id===t.maritalStatus),this.employee.nationality=this.nationalities.find(e=>{var o;return e.id===(null===(o=t.nationality)||void 0===o?void 0:o.id)})}}};o("6eb6");const wp=y()(xp,[["render",vb],["__scopeId","data-v-00c9062b"]]);var Np=wp;const _p={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function kp(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(O,{"employee-id":o.empNumber,screen:"contact"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",_p,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.contact_details")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("admin.address")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.street1,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.street1=e),label:e.$t("pim.street1"),rules:n.rules.street1},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.street2,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.street2=e),label:e.$t("pim.street2"),rules:n.rules.street2},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.city,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.city=e),label:e.$t("general.city"),rules:n.rules.city},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.province,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.province=e),label:e.$t("general.state_province"),rules:n.rules.province},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.zipCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.countryCode,"onUpdate:modelValue":t[5]||(t[5]=e=>n.contact.countryCode=e),type:"select",label:e.$t("general.country"),options:o.countries},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.telephone")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.homeTelephone,"onUpdate:modelValue":t[6]||(t[6]=e=>n.contact.homeTelephone=e),modelModifiers:{trim:!0},label:e.$t("pim.home"),rules:n.rules.homeTelephone},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.mobile,"onUpdate:modelValue":t[7]||(t[7]=e=>n.contact.mobile=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobile},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.workTelephone,"onUpdate:modelValue":t[8]||(t[8]=e=>n.contact.workTelephone=e),modelModifiers:{trim:!0},label:e.$t("pim.work"),rules:n.rules.workTelephone},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.email")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.workEmail,"onUpdate:modelValue":t[9]||(t[9]=e=>n.contact.workEmail=e),label:e.$t("general.work_email"),rules:n.rules.workEmail},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.otherEmail,"onUpdate:modelValue":t[10]||(t[10]=e=>n.contact.otherEmail=e),label:e.$t("general.other_email"),rules:n.rules.otherEmail},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p)]),_:1})]),_:1},8,["loading","onSubmitValid"])])]),_:1},8,["employee-id"])}const Sp={street1:"",street2:"",city:"",province:"",countryCode:[],zipCode:"",homeTelephone:"",workTelephone:"",mobile:"",workEmail:"",otherEmail:""};var Dp={components:{"edit-employee-layout":Cp},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employee/${e.empNumber}/contact-details`);return t.setIgnorePath("api/v2/pim/employees/[0-9]+/contact-details/validation/(work-emails|other-emails)"),{http:t}},data(){return{isLoading:!1,contact:{...Sp},rules:{street1:[co(70)],street2:[co(70)],city:[co(70)],province:[co(70)],zipCode:[co(10)],homeTelephone:[co(25),So],mobile:[co(25),So],workTelephone:[co(25),So],workEmail:[co(50),ko,Object(rl["a"])(this.validateWorkEmail,500)],otherEmail:[co(50),ko,Object(rl["a"])(this.validateOtherEmail,500)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{this.updateModel(e)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.request({method:"PUT",data:{...this.contact,countryCode:null===(e=this.contact.countryCode)||void 0===e?void 0:e.id}}).then(e=>(this.updateModel(e),this.$toast.updateSuccess())).then(()=>{this.isLoading=!1})},validateWorkEmail(e){return new Promise(t=>{if(e){const e=this.contact.workEmail===this.contact.otherEmail;this.http.request({method:"GET",url:`api/v2/pim/employees/${this.empNumber}/contact-details/validation/work-emails`,params:{workEmail:this.contact.workEmail}}).then(o=>{const{data:a}=o.data;return!0===a.valid?t(!e||this.$t("pim.work_email_and_other_email_cannot_be_the_same")):t(this.$t("general.already_exists"))})}else t(!0)})},validateOtherEmail(e){return new Promise(t=>{if(e){const e=this.contact.otherEmail===this.contact.workEmail;this.http.request({method:"GET",url:`api/v2/pim/employees/${this.empNumber}/contact-details/validation/other-emails`,params:{otherEmail:this.contact.otherEmail}}).then(o=>{const{data:a}=o.data;return!0===a.valid?t(!e||this.$t("pim.work_email_and_other_email_cannot_be_the_same")):t(this.$t("general.already_exists"))})}else t(!0)})},validateEmailDifferent(e){return t=>{const o=e();return null===o||""===o||(t!==o||this.$t("pim.work_email_and_other_email_cannot_be_the_same"))}},updateModel(e){const{data:t}=e.data;this.contact={...Sp,...t},this.contact.countryCode=this.countries.find(e=>e.id===t.countryCode)}}};const $p=y()(Dp,[["render",kp]]);var Ep=$p;const Tp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Bp={class:"orangehrm-container"},Ip={class:"orangehrm-bottom-container"};function Lp(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("save-emergency-contact"),c=Object(a["resolveComponent"])("edit-emergency-contact"),d=Object(a["resolveComponent"])("profile-action-header"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"emergency"},{default:Object(a["withCtx"])(()=>{var o;return[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Tp,[Object(a["createVNode"])(d,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_emergency_contacts")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Bp,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(o=l.items)||void 0===o?void 0:o.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(a["createElementVNode"])("div",Ip,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)]}),_:1},8,["employee-id"])}const Up={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Ap(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",Up,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.save_emergency_contact")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.relationship=e),label:e.$t("pim.relationship"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.homePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:n.rules.homePhone},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.mobilePhone=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobilePhone},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.officePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:n.rules.officePhone},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Pp={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""};var qp={name:"SaveEmergencyContact",props:{http:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,contact:{...Pp},rules:{name:[io,co(100)],relationship:[io,co(100)],homePhone:[So,co(30),e=>""!==e||""!==this.contact.mobilePhone||""!==this.contact.officePhone||this.$t("pim.at_least_one_phone_number_is_required")],mobilePhone:[So,co(30)],officePhone:[So,co(30)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.contact}).then(()=>this.$toast.saveSuccess()).then(()=>{this.contact={...Pp},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Mp=y()(qp,[["render",Ap]]);var Fp=Mp;const zp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Rp(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",zp,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_emergency_contact")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.relationship=e),label:e.$t("pim.relationship"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.homePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:n.rules.homePhone},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.mobilePhone=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobilePhone},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.officePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:n.rules.officePhone},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Gp={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""};var Qp={name:"EditEmergencyContact",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,contact:{...Gp},rules:{name:[io,co(100)],relationship:[io,co(100)],homePhone:[So,co(30),e=>""!==e||""!==this.contact.mobilePhone||""!==this.contact.officePhone||this.$t("pim.at_least_one_phone_number_is_required")],mobilePhone:[So,co(30)],officePhone:[So,co(30)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.contact={...Gp,...t}}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.contact}).then(()=>this.$toast.updateSuccess()).then(()=>{this.contact={...Gp},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Hp=y()(Qp,[["render",Rp]]);var Wp=Hp,Jp={components:{"profile-action-header":cp,"edit-employee-layout":Cp,"save-emergency-contact":Fp,"edit-emergency-contact":Wp,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/emergency-contacts`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:c,execQuery:d}=zt(t,{toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:c,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"homePhone",title:this.$t("pim.home_telephone"),style:{flex:1}},{name:"mobilePhone",title:this.$t("general.mobile"),style:{flex:1}},{name:"officePhone",title:this.$t("pim.work_telephone"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};o("188d");const Yp=y()(Jp,[["render",Lp],["__scopeId","data-v-65539289"]]);var Xp=Yp;const Kp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Zp={class:"orangehrm-container"},eh={class:"orangehrm-bottom-container"};function th(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("save-dependent"),c=Object(a["resolveComponent"])("edit-dependent"),d=Object(a["resolveComponent"])("profile-action-header"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"dependents"},{default:Object(a["withCtx"])(()=>{var o;return[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Kp,[Object(a["createVNode"])(d,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_dependents")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Zp,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(o=l.items)||void 0===o?void 0:o.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(a["createElementVNode"])("div",eh,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)]}),_:1},8,["employee-id"])}const oh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ah(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",oh,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_dependent")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.dependent.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.dependent.relationshipType=e),type:"select",label:e.$t("pim.relationship"),rules:n.rules.relationshipType,options:n.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),r.showRelationship?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=e=>n.dependent.relationship=e),label:e.$t("pim.please_specify"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=e=>n.dependent.dateOfBirth=e),label:e.$t("pim.date_of_birth"),rules:n.rules.dateOfBirth},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const lh={name:"",relationshipType:null,relationship:"",dateOfBirth:""};var nh={name:"SaveDependent",props:{http:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,dependent:{...lh},rules:{name:[io,co(100)],relationshipType:[io],relationship:[io,co(100)],dateOfBirth:[so(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},methods:{onSave(){var e;this.isLoading=!0,this.http.create({...this.dependent,relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.dependent={...lh},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const rh=y()(nh,[["render",ah]]);var ih=rh;const ch={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function dh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",ch,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_dependent")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.dependent.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.dependent.relationshipType=e),type:"select",label:e.$t("pim.relationship"),rules:n.rules.relationshipType,options:n.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),r.showRelationship?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=e=>n.dependent.relationship=e),label:e.$t("pim.please_specify"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=e=>n.dependent.dateOfBirth=e),label:e.$t("pim.date_of_birth"),rules:n.rules.dateOfBirth},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const sh={name:"",relationshipType:null,relationship:"",dateOfBirth:""};var mh={name:"EditDependent",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,dependent:{...sh},rules:{name:[io,co(100)],relationshipType:[io],relationship:[io,co(100)],dateOfBirth:[so(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.dependent={...sh,...t},this.dependent.relationshipType=this.relationshipOptions.find(e=>e.id===t.relationshipType)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.update(this.data.id,{...this.dependent,relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id}).then(()=>this.$toast.updateSuccess()).then(()=>{this.dependent={...sh},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const uh=y()(mh,[["render",dh]]);var bh=uh,ph={components:{"profile-action-header":cp,"edit-employee-layout":Cp,"save-dependent":ih,"edit-dependent":bh,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/dependents`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>({id:e.id,name:e.name,dateOfBirth:we(xe(e.dateOfBirth),o,{locale:a}),relationship:"other"==e.relationshipType?e.relationship:"Child"})),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"dateOfBirth",title:this.$t("pim.date_of_birth"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"0.5"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const hh=y()(ph,[["render",th]]);var jh=hh;const Oh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},gh={class:"orangehrm-employee-picture"};function vh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("profile-image-input"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("submit-button"),u=Object(a["resolveComponent"])("oxd-form-actions"),b=Object(a["resolveComponent"])("oxd-form"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Oh,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.change_profile_picture")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",gh,[Object(a["createVNode"])(d,{modelValue:n.empPicture,"onUpdate:modelValue":t[0]||(t[0]=e=>n.empPicture=e),rules:n.rules.empPicture,"img-src":r.profilePicUrl},null,8,["modelValue","rules","img-src"])])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m)]),_:1})]),_:1},8,["loading","onSubmitValid"])])]),_:1},8,["employee-id"])}const fh=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var yh={components:{"profile-image-input":Tu,"edit-employee-layout":Cp},props:{empNumber:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/picture`);return{http:t}},data(){return{isLoading:!1,empPicture:null,rules:{empPicture:[io,No(1048576),_o(this.allowedImageTypes)]}}},computed:{profilePicUrl(){if(this.empPicture){const e=this.empPicture.base64,t=this.empPicture.type,o=this.allowedImageTypes.findIndex(e=>e===t);return o>-1?`data:${t};base64,${e}`:fh}return fh}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{empPicture:this.empPicture}}).then(()=>this.$toast.updateSuccess()).then(()=>{location.reload()})}}};o("f9c0");const Ch=y()(yh,[["render",vh],["__scopeId","data-v-6b5ff2de"]]);var Vh=Ch;const xh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},wh={class:"orangehrm-container"},Nh={class:"orangehrm-bottom-container"};function _h(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("save-salary-component"),c=Object(a["resolveComponent"])("edit-salary-component"),d=Object(a["resolveComponent"])("profile-action-header"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"salary"},{default:Object(a["withCtx"])(()=>{var p;return[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,http:l.http,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,"account-types":o.accountTypes,onClose:r.onSaveModalClose},null,8,["http","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,http:l.http,data:n.editModalState,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,"account-types":o.accountTypes,onClose:r.onEditModalClose},null,8,["http","data","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",xh,[Object(a["createVNode"])(d,{"action-button-shown":e.$can.update("salary_details"),onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_salary_components")),1)]),_:1},8,["action-button-shown","onClick"])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",wh,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:null===(p=l.items)||void 0===p?void 0:p.data,selectable:e.$can.delete("salary_details"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),Object(a["createElementVNode"])("div",Nh,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)]}),_:1},8,["employee-id"])}const kh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Sh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-switch-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",kh,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Add Salary Component ")]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>{var e,t;return[Object(a["createTextVNode"])(" Min: "+Object(a["toDisplayString"])(null!==(e=r.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(a["toDisplayString"])(null!==(t=r.maxAmount)&&void 0!==t?t:0),1)]}),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>n.salaryComponent.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,{class:"directdeposit-form-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]),_:1}),Object(a["createVNode"])(b,{modelValue:n.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=e=>n.includeDirectDeposit=e)},null,8,["modelValue"])]),_:1}),n.includeDirectDeposit?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=e=>n.directDeposit.directDepositAccount=e),label:e.$t("pim.account_number"),rules:n.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=e=>n.directDeposit.directDepositAccountType=e),type:"select",label:e.$t("pim.account_type"),rules:n.rules.directDepositAccountType,options:o.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),r.showOptionalAccountType?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.accountType,"onUpdate:modelValue":t[9]||(t[9]=e=>n.accountType=e),label:e.$t("pim.please_specify"),rules:n.rules.accountType,required:""},null,8,["modelValue","label","rules"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>n.directDeposit.directDepositRoutingNumber=e),label:e.$t("pim.routing_number"),rules:n.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=e=>n.directDeposit.directDepositAmount=e),label:e.$t("pim.amount"),rules:n.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Dh={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},$h={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""};var Eh={name:"SaveSalaryComponent",components:{"oxd-switch-input":Sl["a"]},props:{http:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...Dh},directDeposit:{...$h},accountType:"",usableCurrencies:[],rules:{name:[io,co(100)],salaryAmount:[io,jo,$o(1e9)],comment:[co(250)],currencyId:[io],directDepositAccount:[io,co(100)],directDepositAccountType:[io],accountType:[io,co(20)],directDepositRoutingNumber:[io,co(9),jo],directDepositAmount:[io,jo,$o(1e9)]}}},computed:{showOptionalAccountType(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts(){var e;const t=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return t?t&&this.usableCurrencies.length>0?this.currencies.filter(e=>this.usableCurrencies.findIndex(t=>t.id===e.id)>-1):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find(e=>{var t;return e.id===(null===(t=this.salaryComponent.currencyId)||void 0===t?void 0:t.id)})}},watch:{"salaryComponent.payGradeId":function(e){null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then(e=>{const{data:t}=e.data;this.usableCurrencies=t.map(e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex(e=>e.id===(null===o||void 0===o?void 0:o.id));this.salaryComponent.currencyId=-1===a?null:this.salaryComponent.currencyId}).then(()=>{this.isLoading=!1})):this.usableCurrencies=[]}},mounted(){this.$nextTick(()=>{this.rules.salaryAmount.push(e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")}),this.rules.salaryAmount.push(e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")})})},methods:{onSave(){var e,t,o,a;this.isLoading=!0;const l=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.create({salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(o=this.salaryComponent.currencyId)||void 0===o?void 0:o.id,payFrequencyId:null===(a=this.salaryComponent.payFrequencyId)||void 0===a?void 0:a.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?l:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};o("04e3");const Th=y()(Eh,[["render",Sh],["__scopeId","data-v-46c0d24a"]]);var Bh=Th;const Ih={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Lh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-switch-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",Ih,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_salary_component")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>{var e,t;return[Object(a["createTextVNode"])(" Min: "+Object(a["toDisplayString"])(null!==(e=r.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(a["toDisplayString"])(null!==(t=r.maxAmount)&&void 0!==t?t:0),1)]}),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>n.salaryComponent.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,{class:"directdeposit-form-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]),_:1}),Object(a["createVNode"])(b,{modelValue:n.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=e=>n.includeDirectDeposit=e)},null,8,["modelValue"])]),_:1}),n.includeDirectDeposit?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=e=>n.directDeposit.directDepositAccount=e),label:e.$t("pim.account_number"),rules:n.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=e=>n.directDeposit.directDepositAccountType=e),type:"select",label:e.$t("pim.account_type"),rules:n.rules.directDepositAccountType,options:o.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),r.showOptionalAccountType?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.accountType,"onUpdate:modelValue":t[9]||(t[9]=e=>n.accountType=e),label:e.$t("pim.please_specify"),rules:n.rules.accountType,required:""},null,8,["modelValue","label","rules"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>n.directDeposit.directDepositRoutingNumber=e),label:e.$t("pim.routing_number"),rules:n.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=e=>n.directDeposit.directDepositAmount=e),label:e.$t("pim.amount"),rules:n.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Uh={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Ah={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""};var Ph={name:"EditSalaryComponent",components:{"oxd-switch-input":Sl["a"]},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...Uh},directDeposit:{...Ah},accountType:"",usableCurrencies:[],rules:{name:[io,co(100)],salaryAmount:[io,jo,$o(1e9)],comment:[co(250)],currencyId:[io],directDepositAccount:[io,co(100)],directDepositAccountType:[io],accountType:[io,co(20)],directDepositRoutingNumber:[io,co(9),jo],directDepositAmount:[io,jo,$o(1e9)]}}},computed:{showOptionalAccountType(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts(){var e;const t=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return t?t&&this.usableCurrencies.length>0?this.currencies.filter(e=>this.usableCurrencies.findIndex(t=>t.id===e.id)>-1):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find(e=>{var t;return e.id===(null===(t=this.salaryComponent.currencyId)||void 0===t?void 0:t.id)})}},watch:{"salaryComponent.payGradeId":function(e){null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then(e=>{const{data:t}=e.data;this.usableCurrencies=t.map(e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex(e=>e.id===(null===o||void 0===o?void 0:o.id));this.salaryComponent.currencyId=-1===a?[]:this.salaryComponent.currencyId}).then(()=>{this.isLoading=!1})):this.usableCurrencies=[]}},mounted(){this.$nextTick(()=>{this.rules.salaryAmount.push(e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")}),this.rules.salaryAmount.push(e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")})})},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;if(this.salaryComponent.name=t.salaryName,this.salaryComponent.salaryAmount=t.amount,this.salaryComponent.comment=t.comment?t.comment:"",this.salaryComponent.payGradeId=this.paygrades.find(e=>{var o;return e.id===(null===(o=t.payGrade)||void 0===o?void 0:o.id)}),this.salaryComponent.payFrequencyId=this.payFrequencies.find(e=>{var o;return e.id===(null===(o=t.payPeriod)||void 0===o?void 0:o.id)}),this.salaryComponent.currencyId=this.currencies.find(e=>{var o;return e.id===(null===(o=t.currencyType)||void 0===o?void 0:o.id)}),null!==t.directDebit.id){this.includeDirectDeposit=!0,this.directDeposit.directDepositAccount=t.directDebit.account;const e=this.accountTypes.find(e=>e.id===t.directDebit.accountType);this.directDeposit.directDepositAccountType=e||{id:"OTHER",label:this.$t("pim.other")},this.accountType=0===e.length?t.directDebit.accountType:"",this.directDeposit.directDepositRoutingNumber=t.directDebit.routingNumber,this.directDeposit.directDepositAmount=t.directDebit.amount}}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t,o,a;this.isLoading=!0;const l=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.update(this.data.id,{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(o=this.salaryComponent.currencyId)||void 0===o?void 0:o.id,payFrequencyId:null===(a=this.salaryComponent.payFrequencyId)||void 0===a?void 0:a.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?l:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};o("be51");const qh=y()(Ph,[["render",Lh],["__scopeId","data-v-4e441edf"]]);var Mh=qh;const Fh=e=>e.map(e=>{var t,o,a;return{id:e.id,name:e.salaryName,amount:e.amount,currency:null===(t=e.currencyType)||void 0===t?void 0:t.name,frequency:null===(o=e.payPeriod)||void 0===o?void 0:o.name,depositAmount:null===(a=e.directDebit)||void 0===a?void 0:a.amount}});var zh={components:{"profile-action-header":cp,"edit-employee-layout":Cp,"save-salary-component":Bh,"edit-salary-component":Mh,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/salary-components`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:c,execQuery:d}=zt(t,{normalizer:Fh,toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:c,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.salary_component"),style:{flex:1}},{name:"amount",title:this.$t("pim.amount"),style:{flex:1}},{name:"currency",title:this.$t("general.currency"),style:{flex:1}},{name:"frequency",title:this.$t("pim.pay_frequency"),style:{flex:1}},{name:"depositAmount",title:this.$t("pim.direct_deposit_amount"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("salary_details")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("salary_details")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Rh=y()(zh,[["render",_h]]);var Gh=Rh;const Qh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Hh={key:1,class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Wh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("date-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("job-spec-download"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("oxd-switch-input"),j=Object(a["resolveComponent"])("file-upload-input"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form"),f=Object(a["resolveComponent"])("profile-action-header"),y=Object(a["resolveComponent"])("terminate-modal"),C=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(C,{screen:"job","employee-id":o.empNumber,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Qh,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.job_details")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.job.joinedDate,"onUpdate:modelValue":t[0]||(t[0]=e=>n.job.joinedDate=e),label:e.$t("general.joined_date"),rules:n.rules.joinedDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.job.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.job.jobTitleId=e),type:"select",label:e.$t("general.job_title"),options:r.normalizedJobTitles,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:"jobspec-"+r.selectedJobTitleId,"resource-id":r.selectedJobTitleId},null,8,["resource-id"]))]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.job.jobCategoryId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.job.jobCategoryId=e),type:"select",label:e.$t("general.job_category"),options:o.jobCategories,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.job.subunitId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.job.subunitId=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.job.locationId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.job.locationId=e),type:"select",label:e.$t("general.location"),options:o.locations,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.job.empStatusId,"onUpdate:modelValue":t[5]||(t[5]=e=>n.job.empStatusId=e),type:"select",label:e.$t("general.employment_status"),options:o.employmentStatuses,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{class:"user-form-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"user-form-header-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.include_employment_contract_details")),1)]),_:1}),Object(a["createVNode"])(h,{modelValue:n.showContractDetails,"onUpdate:modelValue":t[6]||(t[6]=e=>n.showContractDetails=e)},null,8,["modelValue"])]),_:1}),n.showContractDetails?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contract.startDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.contract.startDate=e),label:e.$t("pim.contract_start_date"),rules:n.rules.startDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.contract.endDate,"onUpdate:modelValue":t[8]||(t[8]=e=>n.contract.endDate=e),label:e.$t("pim.contract_end_date"),rules:n.rules.endDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{newFile:n.contract.newAttachment,"onUpdate:newFile":t[9]||(t[9]=e=>n.contract.newAttachment=e),method:n.contract.method,"onUpdate:method":t[10]||(t[10]=e=>n.contract.method=e),label:e.$t("pim.contract_details"),"button-label":e.$t("general.browse"),file:n.contract.oldAttachment,rules:n.rules.contractAttachment,url:`pim/viewAttachment/empNumber/${o.empNumber}/attachId`,hint:"Accepts up to 1MB",disabled:!r.hasUpdatePermissions},null,8,["newFile","method","label","button-label","file","rules","url","disabled"])]),_:1})]),_:1})]),_:1})],64)):Object(a["createCommentVNode"])("",!0),r.hasUpdatePermissions?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O)]),_:1})],64)):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","onSubmitValid"])]),r.hasUpdatePermissions?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0})):Object(a["createCommentVNode"])("",!0),r.hasUpdatePermissions?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Hh,[Object(a["createVNode"])(f,{"icon-name":"","display-type":r.terminationActionType,label:r.terminationActionLabel,class:"--termination-button",onClick:r.onClickTerminate},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.employee_termination_activation")),1)]),_:1},8,["display-type","label","onClick"]),n.termination&&n.termination.id?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,tag:"p",class:"orangehrm-terminate-date",onClick:r.openTerminateModal},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.terminated_on"))+": "+Object(a["toDisplayString"])(r.terminationDate),1)]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),n.showTerminateModal?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:2,"employee-id":o.empNumber,"termination-reasons":o.terminationReasons,"termination-id":n.termination.id,onClose:r.closeTerminateModal},null,8,["employee-id","termination-reasons","termination-id","onClose"])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["employee-id","max-file-size","allowed-file-types"])}function Jh(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon-button"),d=Object(a["resolveComponent"])("oxd-loading-spinner"),s=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{label:e.$t("general.job_specification")},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({"input-container":!0,"--disabled":!e.file.id})},[Object(a["createVNode"])(i,{class:"input-container-filename",tag:"p",title:e.file.filename,onClick:l.downloadFile},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.file.id?e.file.filename:"Not Defined"),1)]),_:1},8,["title","onClick"]),!e.isLoading&&e.file.id?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"input-container-icon",name:"download",onClick:l.downloadFile},null,8,["onClick"])):Object(a["createCommentVNode"])("",!0),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,class:"input-container-loader","with-container":!1})):Object(a["createCommentVNode"])("",!0)],2)]),_:1},8,["label"])}var Yh={name:"JobSpecDownload",components:{"oxd-loading-spinner":Z["a"]},props:{resourceId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/admin/job-titles/${e.resourceId}/specification`),o=Object(a["reactive"])({isLoading:!1,file:{id:"",filename:"",fileType:"",fileSize:0}}),l=async()=>{o.isLoading=!0,t.request({method:"GET",validateStatus:e=>e>=200&&e<300||404==e}).then(({data:e})=>{o.file={...e.data}}).finally(()=>{o.isLoading=!1})},n=()=>{if(!o.file.id)return;const e=`${window.appGlobal.baseUrl}/admin/viewJobSpecification/attachId/${o.file.id}`;window.open(e,"_blank")};return e.resourceId&&Object(a["onBeforeMount"])(l),{...Object(a["toRefs"])(o),downloadFile:n}}};o("eb83");const Xh=y()(Yh,[["render",Jh],["__scopeId","data-v-d8a08d64"]]);var Kh=Xh;const Zh={class:"orangehrm-modal-header"};function ej(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("date-input"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("required-text"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(O,{class:"orangehrm-dialog-modal","onUpdate:show":t[4]||(t[4]=e=>r.onCancel(!1))},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Zh,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.terminate_employment")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.termination.date,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.date=e),label:e.$t("pim.termination_date"),rules:n.rules.date,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.termination.terminationReason,"onUpdate:modelValue":t[1]||(t[1]=e=>n.termination.terminationReason=e),type:"select",label:e.$t("pim.termination_reason"),rules:n.rules.terminationReason,options:o.terminationReasons,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.termination.note,"onUpdate:modelValue":t[2]||(t[2]=e=>n.termination.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.type_here"),rules:n.rules.note},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:t[3]||(t[3]=e=>r.onCancel(!1))},null,8,["label"]),Object(a["createVNode"])(p)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1})}const tj={terminationReason:null,date:"",note:null};var oj={name:"TerminateModal",components:{"oxd-dialog":ee["a"]},props:{employeeId:{type:String,required:!0},terminationReasons:{type:Array,required:!0},terminationId:{type:Number,required:!1,default:null}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/terminations`),{userDateFormat:o}=ie();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,termination:{...tj},rules:{terminationReason:[io],date:[io,so(this.userDateFormat)],note:[co(250)]}}},beforeMount(){this.terminationId&&(this.isLoading=!0,this.http.get(this.terminationId).then(e=>{const{data:t}=e.data;this.termination.terminationReason=this.terminationReasons.find(e=>{var o;return e.id===(null===(o=t.terminationReason)||void 0===o?void 0:o.id)}),this.termination.date=t.date,this.termination.note=t.note}).finally(()=>{this.isLoading=!1}))},methods:{onSave(){var e;this.isLoading=!0;const t={date:this.termination.date,note:this.termination.note,terminationReasonId:null===(e=this.termination.terminationReason)||void 0===e?void 0:e.id};this.submitData(t,this.terminationId).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel(!0)})},async submitData(e,t){return t?this.http.update(t,e):this.http.create(e)},onCancel(e){this.$emit("close",e)}}};const aj=y()(oj,[["render",ej]]);var lj=aj;const nj={joinedDate:"",jobTitleId:[],empStatusId:[],jobCategoryId:[],subunitId:[],locationId:[]},rj={startDate:"",endDate:"",oldAttachment:null,newAttachment:null,method:"keepCurrent"};var ij={components:{"edit-employee-layout":Cp,"oxd-switch-input":Sl["a"],"job-spec-download":Kh,"file-upload-input":Ko,"profile-action-header":cp,"terminate-modal":lj},props:{empNumber:{type:String,required:!0},locations:{type:Array,default:()=>[]},jobTitles:{type:Array,default:()=>[]},jobCategories:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},employmentStatuses:{type:Array,default:()=>[]},terminationReasons:{type:Array,default:()=>[]},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/job-details`),{jsDateFormat:o,userDateFormat:a}=ie(),{locale:l}=He();return{http:t,locale:l,jsDateFormat:o,userDateFormat:a}},data(){return{isLoading:!1,showContractDetails:!1,job:{...nj},contract:{...rj},termination:null,showTerminateModal:!1,rules:{joinedDate:[so(this.userDateFormat)],startDate:[so(this.userDateFormat)],endDate:[so(this.userDateFormat),yo(()=>this.contract.startDate)],contractAttachment:[e=>"replaceCurrent"!=this.contract.method||io(e),_o(this.allowedFileTypes),No(this.maxFileSize)]}}},computed:{selectedJobTitleId(){var e;const t=null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id;return t||0},terminationActionLabel(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?this.$t("pim.activate_employment"):this.$t("pim.terminate_employment")},terminationActionType(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?"ghost-success":"label-danger"},hasUpdatePermissions(){return this.$can.update("job_details")},normalizedJobTitles(){return this.jobTitles.map(e=>({id:e.id,label:null!==e&&void 0!==e&&e.deleted?e.label+this.$t("general.deleted"):e.label}))},terminationDate(){var e;return null!==(e=this.termination)&&void 0!==e&&e.date?we(xe(this.termination.date),this.jsDateFormat,{locale:this.locale}):null}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{this.updateJobModel(e)}).then(()=>this.http.request({method:"GET",url:`api/v2/pim/employees/${this.empNumber}/employment-contract`})).then(e=>{this.updateContractModel(e)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t,o,a,l;this.isLoading=!0,this.http.request({method:"PUT",data:{...this.job,jobTitleId:null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id,jobCategoryId:null===(t=this.job.jobCategoryId)||void 0===t?void 0:t.id,subunitId:null===(o=this.job.subunitId)||void 0===o?void 0:o.id,empStatusId:null===(a=this.job.empStatusId)||void 0===a?void 0:a.id,locationId:null===(l=this.job.locationId)||void 0===l?void 0:l.id}}).then(e=>(this.updateJobModel(e),this.http.request({method:"PUT",url:`api/v2/pim/employees/${this.empNumber}/employment-contract`,data:{startDate:this.contract.startDate,endDate:this.contract.endDate,currentContractAttachment:this.contract.oldAttachment?this.contract.method:void 0,contractAttachment:this.contract.newAttachment?this.contract.newAttachment:void 0}}))).then(e=>(e&&this.updateContractModel(e),this.$toast.updateSuccess())).then(()=>{this.isLoading=!1})},onClickTerminate(){var e;null!==(e=this.termination)&&void 0!==e&&e.id?(this.$loader.startLoading(),this.http.request({method:"DELETE",url:`api/v2/pim/employees/${this.empNumber}/terminations`}).then(()=>this.$toast.updateSuccess()).then(()=>{this.$loader.endLoading(),location.reload()})):this.openTerminateModal()},openTerminateModal(){this.showTerminateModal=!0},closeTerminateModal(e){this.showTerminateModal=!1,e&&location.reload()},updateContractModel(e){var t,o;const{data:a}=e.data;this.contract.startDate=a.startDate,this.contract.endDate=a.endDate,this.contract.oldAttachment=null!==(t=a.contractAttachment)&&void 0!==t&&t.id?a.contractAttachment:null,this.contract.newAttachment=null,this.contract.method="keepCurrent",a.startDate||a.endDate||null!==(o=a.contractAttachment)&&void 0!==o&&o.id?this.showContractDetails=!0:this.showContractDetails=!1},updateJobModel(e){const{data:t}=e.data;this.job.joinedDate=t.joinedDate,this.job.jobTitleId=this.normalizedJobTitles.find(e=>{var o;return e.id===(null===(o=t.jobTitle)||void 0===o?void 0:o.id)}),this.job.jobCategoryId=this.jobCategories.find(e=>{var o;return e.id===(null===(o=t.jobCategory)||void 0===o?void 0:o.id)}),this.job.subunitId=this.subunits.find(e=>{var o;return e.id===(null===(o=t.subunit)||void 0===o?void 0:o.id)}),this.job.empStatusId=this.employmentStatuses.find(e=>{var o;return e.id===(null===(o=t.empStatus)||void 0===o?void 0:o.id)}),this.job.locationId=this.locations.find(e=>{var o;return e.id===(null===(o=t.location)||void 0===o?void 0:o.id)}),this.termination=t.employeeTerminationRecord}}};o("046c");const cj=y()(ij,[["render",Wh],["__scopeId","data-v-09003a95"]]);var dj=cj;const sj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function mj(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-work-experience"),s=Object(a["resolveComponent"])("employee-education"),m=Object(a["resolveComponent"])("employee-skills"),u=Object(a["resolveComponent"])("employee-languages"),b=Object(a["resolveComponent"])("employee-license"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"qualifications"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",sj,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.qualifications")),1)]),_:1}),Object(a["createVNode"])(c)]),Object(a["createVNode"])(d,{"employee-id":o.empNumber},null,8,["employee-id"]),Object(a["createVNode"])(s,{"employee-id":o.empNumber},null,8,["employee-id"]),Object(a["createVNode"])(m,{"employee-id":o.empNumber},null,8,["employee-id"]),Object(a["createVNode"])(u,{"employee-id":o.empNumber,fluencies:o.fluencies,competencies:o.competencies},null,8,["employee-id","fluencies","competencies"]),Object(a["createVNode"])(b,{"employee-id":o.empNumber},null,8,["employee-id"])]),_:1},8,["employee-id"])}const uj={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},bj={class:"orangehrm-container"},pj={key:2,class:"orangehrm-bottom-container"};function hj(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-skill"),d=Object(a["resolveComponent"])("edit-skill"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,api:l.skillsEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",uj,[Object(a["createVNode"])(s,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.skills")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",bj,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",pj,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const jj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Oj(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("qualification-dropdown"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jj,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_skill")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.skillId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.skillId=e),label:e.$t("pim.skill"),rules:n.rules.skillId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.yearsOfExperience=e),label:e.$t("pim.years_of_experience"),rules:n.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=e=>n.skill.comments=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comments},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}function gj(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",options:l.options},null,8,["options"])}var vj={name:"QualificationDropdown",props:{api:{type:String,required:!0}},setup(e){const t=Object(a["ref"])([]),o=new K(window.appGlobal.baseUrl,e.api);return Object(a["onBeforeMount"])(()=>{o.getAll({limit:0}).then(({data:e})=>{t.value=e.data.map(e=>({id:e.id,label:e.name}))})}),{options:t}}};const fj=y()(vj,[["render",gj]]);var yj=fj;const Cj={yearsOfExperience:"",comments:"",skillId:null};var Vj={name:"SaveSkill",components:{"qualification-dropdown":yj},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data(){return{isLoading:!1,skill:{...Cj},rules:{skillId:[io],yearsOfExperience:[po,bo(100)],comments:[co(100)]}}},methods:{onSave(){var e;this.isLoading=!0,this.http.create({skillId:null===(e=this.skill.skillId)||void 0===e?void 0:e.id,yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const xj=y()(Vj,[["render",Oj]]);var wj=xj;const Nj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function _j(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Nj,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_skill")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("pim.skill"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.yearsOfExperience=e),label:e.$t("pim.years_of_experience"),rules:n.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=e=>n.skill.comments=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comments},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const kj={yearsOfExperience:0,comments:"",name:""};var Sj={name:"EditSkill",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,skill:{...kj},rules:{yearsOfExperience:[po,bo(100)],comments:[co(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.skill.name=t.skill.name,this.skill.comments=t.comments,this.skill.yearsOfExperience=t.yearsOfExperience}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Dj=y()(Sj,[["render",_j]]);var $j=Dj;const Ej=e=>e.map(e=>({id:e.skill.id,name:e.skill.name,yearsOfExperience:e.yearsOfExperience,comments:e.comments}));var Tj={name:"EmployeeSkills",components:{"profile-action-header":cp,"save-skill":wj,"edit-skill":$j,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/skills`),o=`api/v2/pim/employees/${e.employeeId}/skills/allowed`,{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(t,{normalizer:Ej,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c,skillsEndpoint:o}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.skill"),style:{flex:1}},{name:"yearsOfExperience",title:this.$t("pim.years_of_experience"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Bj=y()(Tj,[["render",hj]]);var Ij=Bj;const Lj={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Uj={class:"orangehrm-container"},Aj={key:2,class:"orangehrm-bottom-container"};function Pj(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-education"),d=Object(a["resolveComponent"])("edit-education"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,api:l.educationEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Lj,[Object(a["createVNode"])(s,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.education")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Uj,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Aj,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const qj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Mj(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("qualification-dropdown"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qj,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_education")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.educationId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.education.educationId=e),label:e.$t("general.level"),rules:n.rules.educationId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.education.institute,"onUpdate:modelValue":t[1]||(t[1]=e=>n.education.institute=e),label:e.$t("pim.institute"),rules:n.rules.institute},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.education.major,"onUpdate:modelValue":t[2]||(t[2]=e=>n.education.major=e),label:e.$t("pim.major_specialization"),rules:n.rules.major},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.education.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.education.year=e),label:e.$t("general.year"),rules:n.rules.year},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.education.score,"onUpdate:modelValue":t[4]||(t[4]=e=>n.education.score=e),label:e.$t("pim.gpa_score"),rules:n.rules.score},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.education.startDate=e),label:e.$t("general.start_date"),rules:n.rules.startDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=e=>n.education.endDate=e),label:e.$t("general.end_date"),rules:n.rules.endDate},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const Fj={educationId:null,institute:"",major:"",year:"",score:"",startDate:"",endDate:""};var zj={name:"SaveEducation",components:{"qualification-dropdown":yj},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,education:{...Fj},rules:{educationId:[io],institute:[co(100)],major:[co(100)],score:[co(25)],year:[co(4),po],startDate:[so(this.userDateFormat)],endDate:[so(this.userDateFormat),yo(()=>this.education.startDate)]}}},methods:{onSave(){var e;this.isLoading=!0,this.http.create({...this.education,educationId:null===(e=this.education.educationId)||void 0===e?void 0:e.id,year:parseInt(this.education.year)}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Rj=y()(zj,[["render",Mj]]);var Gj=Rj;const Qj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Hj(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qj,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_education")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.education.name=e),label:e.$t("general.level"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.institute,"onUpdate:modelValue":t[1]||(t[1]=e=>n.education.institute=e),label:e.$t("pim.institute"),rules:n.rules.institute},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.major,"onUpdate:modelValue":t[2]||(t[2]=e=>n.education.major=e),label:e.$t("pim.major_specialization"),rules:n.rules.major},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.education.year=e),label:e.$t("general.year"),rules:n.rules.year},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.education.score,"onUpdate:modelValue":t[4]||(t[4]=e=>n.education.score=e),label:e.$t("pim.gpa_score"),rules:n.rules.score},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.education.startDate=e),label:e.$t("general.start_date"),rules:n.rules.startDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=e=>n.education.endDate=e),label:e.$t("general.end_date"),rules:n.rules.endDate},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const Wj={name:"",institute:"",major:"",year:"",score:"",startDate:"",endDate:""};var Jj={name:"EditEducation",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,education:{...Wj},rules:{institute:[co(100)],major:[co(100)],score:[co(25)],year:[co(4),po],startDate:[so(this.userDateFormat)],endDate:[so(this.userDateFormat),yo(()=>this.education.startDate)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.education.name=t.education.name,this.education.institute=t.institute,this.education.major=t.major,this.education.year=t.year?t.year:"",this.education.score=t.score,this.education.startDate=t.startDate?t.startDate:"",this.education.endDate=t.endDate?t.endDate:""}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{institute:this.education.institute,major:this.education.major,year:parseInt(this.education.year),score:this.education.score,startDate:this.education.startDate,endDate:this.education.endDate}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Yj=y()(Jj,[["render",Hj]]);var Xj=Yj;const Kj=e=>e.map(e=>({id:e.id,level:e.education.name,year:e.year,score:e.score}));var Zj={name:"EmployeeEducation",components:{"profile-action-header":cp,"save-education":Gj,"edit-education":Xj,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/educations`),o="api/v2/admin/educations",{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(t,{normalizer:Kj,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c,educationEndpoint:o}},data(){return{headers:[{name:"level",slot:"title",title:this.$t("general.level"),style:{flex:1}},{name:"year",title:this.$t("general.year"),style:{flex:1}},{name:"score",title:this.$t("pim.gpa_score"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const eO=y()(Zj,[["render",Pj]]);var tO=eO;const oO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},aO={class:"orangehrm-container"},lO={key:2,class:"orangehrm-bottom-container"};function nO(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-language"),d=Object(a["resolveComponent"])("edit-language"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,api:l.languagesEndpoint,fluencies:o.fluencies,competencies:o.competencies,onClose:r.onSaveModalClose},null,8,["http","api","fluencies","competencies","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,"employee-id":o.employeeId,competencies:o.competencies,onClose:r.onEditModalClose},null,8,["http","data","employee-id","competencies","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",oO,[Object(a["createVNode"])(s,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.languages")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",aO,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,disabled:r.isDisabled,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lO,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const rO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function iO(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_language")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:r.allowedLanguages,modelValue:n.language.languageId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.languageId=e),type:"select",label:e.$t("general.language"),options:r.allowedLanguages,rules:n.rules.languageId,clear:!1,required:""},null,8,["modelValue","label","options","rules"]))]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:r.allowedFluencies,modelValue:n.language.fluencyId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.language.fluencyId=e),type:"select",label:e.$t("pim.fluency"),options:r.allowedFluencies,rules:n.rules.fluencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"]))]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.language.competencyId=e),type:"select",label:e.$t("pim.competency"),options:o.competencies,rules:n.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.comment,"onUpdate:modelValue":t[3]||(t[3]=e=>n.language.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const cO={languageId:null,fluencyId:null,competencyId:null,comment:""};var dO={name:"SaveLanguage",props:{http:{type:Object,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0},api:{type:String,required:!0}},emits:["close"],data(){return{isLoading:!1,language:{...cO},languages:[],rules:{languageId:[io],fluencyId:[io],competencyId:[io],comment:[co(100)]}}},computed:{allowedLanguages(){return this.languages},allowedFluencies(){const e=this.languages.findIndex(e=>{var t;return e.id===(null===(t=this.language.languageId)||void 0===t?void 0:t.id)});if(e>-1){const t=this.languages[e];return this.fluencies.filter(e=>t.allowedFluencyIds.includes(e.id))}return[]}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:this.api,params:{limit:0}}).then(e=>{const{data:t}=e.data;Array.isArray(t)&&(this.languages=t.map(e=>({id:e.id,label:e.name,allowedFluencyIds:e.allowedFluencyIds?e.allowedFluencyIds:[]})))}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t,o;this.isLoading=!0,this.http.create({languageId:null===(e=this.language.languageId)||void 0===e?void 0:e.id,fluencyId:null===(t=this.language.fluencyId)||void 0===t?void 0:t.id,competencyId:null===(o=this.language.competencyId)||void 0===o?void 0:o.id,comment:this.language.comment}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const sO=y()(dO,[["render",iO]]);var mO=sO;const uO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function bO(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",uO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_language")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.language"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.fluency,"onUpdate:modelValue":t[1]||(t[1]=e=>n.language.fluency=e),label:e.$t("pim.fluency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.language.competencyId=e),type:"select",label:e.$t("pim.competency"),options:o.competencies,rules:n.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.language.comment,"onUpdate:modelValue":t[3]||(t[3]=e=>n.language.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const pO={name:"",fluency:"",competencyId:null,comment:""};var hO={name:"EditLanguage",props:{http:{type:Object,required:!0},employeeId:{type:String,required:!0},data:{type:Object,required:!0},competencies:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,language:{...pO},rules:{competencyId:[io],comment:[co(100)]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:`api/v2/pim/employees/${this.employeeId}/languages/${this.data.languageId}/fluencies/${this.data.fluencyId}`}).then(e=>{const{data:t}=e.data;this.language.name=t.language.name,this.language.fluency=t.fluency.name,this.language.comment=t.comment?t.comment:"",this.language.competencyId=this.competencies.find(e=>{var o;return e.id===(null===(o=t.competency)||void 0===o?void 0:o.id)})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`api/v2/pim/employees/${this.employeeId}/languages/${this.data.languageId}/fluencies/${this.data.fluencyId}`,data:{competencyId:this.language.competencyId.id,comment:this.language.comment}}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const jO=y()(hO,[["render",bO]]);var OO=jO;const gO=e=>e.map(e=>({language:e.language.name,languageId:e.language.id,fluency:e.fluency.name,fluencyId:e.fluency.id,competency:e.competency.name,comments:e.comment}));var vO={name:"EmployeeLanguages",components:{"profile-action-header":cp,"save-language":mO,"edit-language":OO,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/languages`),o=`api/v2/pim/employees/${e.employeeId}/languages/allowed`,{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(t,{normalizer:gO,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c,languagesEndpoint:o}},data(){return{headers:[{name:"language",slot:"title",title:this.$t("general.language"),style:{flex:1}},{name:"fluency",title:this.$t("pim.fluency"),style:{flex:1}},{name:"competency",title:this.$t("pim.competency"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t,o;return{languageId:null===(t=this.items)||void 0===t?void 0:t.data[e].languageId,fluencyId:null===(o=this.items)||void 0===o?void 0:o.data[e].fluencyId}});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([{languageId:e.languageId,fluencyId:e.fluencyId}])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const fO=y()(vO,[["render",nO]]);var yO=fO;const CO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},VO={class:"orangehrm-container"},xO={key:2,class:"orangehrm-bottom-container"};function wO(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-work-experience"),d=Object(a["resolveComponent"])("edit-work-experience"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",CO,[Object(a["createVNode"])(s,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.work_experience")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",VO,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xO,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const NO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function _O(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",NO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_work_experience")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workExperience.company=e),label:e.$t("pim.company"),rules:n.rules.company,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workExperience.jobTitle=e),label:e.$t("general.job_title"),rules:n.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workExperience.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workExperience.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workExperience.comment=e),type:"textarea",label:e.$t("general.comment"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const kO={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""};var SO={name:"SaveWorkExperience",props:{http:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,workExperience:{...kO},rules:{company:[io,co(100)],jobTitle:[io,co(100)],fromDate:[so(this.userDateFormat)],toDate:[so(this.userDateFormat),yo(()=>this.workExperience.fromDate,this.$t("general.to_date_should_be_after_from_date"))],comment:[co(200)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.workExperience}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const DO=y()(SO,[["render",_O]]);var $O=DO;const EO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function TO(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",EO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Edit Work Experience ")]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workExperience.company=e),label:e.$t("pim.company"),rules:n.rules.company,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workExperience.jobTitle=e),label:e.$t("general.job_title"),rules:n.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workExperience.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workExperience.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workExperience.comment=e),type:"textarea",label:e.$t("general.comment"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const BO={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""};var IO={name:"EditWorkExperience",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,workExperience:{...BO},rules:{company:[io,co(100)],jobTitle:[io,co(100)],fromDate:[so(this.userDateFormat)],toDate:[so(this.userDateFormat),yo(()=>this.workExperience.fromDate,this.$t("general.to_date_should_be_after_from_date"))],comment:[co(200)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.workExperience={...t}}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.workExperience}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const LO=y()(IO,[["render",TO]]);var UO=LO,AO={name:"EmployeeWorkExperience",components:{"profile-action-header":cp,"save-work-experience":$O,"edit-work-experience":UO,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/work-experiences`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>({...e,fromDate:we(xe(e.fromDate),o,{locale:a}),toDate:we(xe(e.toDate),o,{locale:a})})),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{toastNoRecords:!1,normalizer:l});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"company",slot:"title",title:this.$t("pim.company"),style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"fromDate",title:this.$t("general.from"),style:{flex:1}},{name:"toDate",title:this.$t("general.to"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const PO=y()(AO,[["render",wO]]);var qO=PO;const MO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},FO={class:"orangehrm-container"},zO={key:2,class:"orangehrm-bottom-container"};function RO(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-license"),d=Object(a["resolveComponent"])("edit-license"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,api:l.licenceEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",MO,[Object(a["createVNode"])(s,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.license")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",FO,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zO,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const GO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function QO(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("qualification-dropdown"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",GO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_license")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.license.licenseId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.licenseId=e),label:e.$t("pim.license_type"),rules:n.rules.licenseId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=e=>n.license.licenseNo=e),label:e.$t("pim.license_number"),rules:n.rules.licenseNo},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.license.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.license.expiryDate=e),label:e.$t("general.expiry_date"),rules:n.rules.expiryDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const HO=function(e=100,t=(new Date).getFullYear()){const o=new Array(e);for(let a=0;a<o.length;a++)o[a]=t-Math.floor(e/2)+a;return o},WO={licenseId:null,licenseNo:"",issuedDate:"",expiryDate:""};var JO={name:"SaveLicense",components:{"qualification-dropdown":yj},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,license:{...WO},yearArray:[...HO()],rules:{licenseId:[io],licenseNo:[co(50)],issuedDate:[so(this.userDateFormat)],expiryDate:[so(this.userDateFormat),yo(()=>this.license.issuedDate,this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},methods:{onSave(){var e;this.isLoading=!0,this.http.create({...this.license,licenseId:null===(e=this.license.licenseId)||void 0===e?void 0:e.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const YO=y()(JO,[["render",QO]]);var XO=YO;const KO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function ZO(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",KO,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_license")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("pim.license_type"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=e=>n.license.licenseNo=e),label:e.$t("pim.license_number"),rules:n.rules.licenseNo},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.license.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.license.expiryDate=e),label:e.$t("general.expiry_date"),rules:n.rules.expiryDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const eg={name:"",licenseNo:"",issuedDate:"",expiryDate:""};var tg={name:"EditLicense",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,license:{...eg},yearArray:[...HO()],rules:{licenseNo:[co(50)],issuedDate:[so(this.userDateFormat)],expiryDate:[so(this.userDateFormat),yo(()=>this.license.issuedDate,this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.license.name=t.license.name,this.license.licenseNo=t.licenseNo?t.licenseNo:"",this.license.issuedDate=t.issuedDate,this.license.expiryDate=t.expiryDate}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{licenseNo:this.license.licenseNo,issuedDate:this.license.issuedDate,expiryDate:this.license.expiryDate}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const og=y()(tg,[["render",ZO]]);var ag=og,lg={name:"EmployeeLicense",components:{"profile-action-header":cp,"save-license":XO,"edit-license":ag,"delete-confirmation":Yt},props:{employeeId:{type:String,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.employeeId}/licenses`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=`api/v2/pim/employees/${e.employeeId}/licenses/allowed`,n=e=>e.map(e=>({id:e.license.id,type:e.license.name,licenseNo:e.licenseNo,issuedDate:we(xe(e.issuedDate),o,{locale:a}),expiryDate:we(xe(e.expiryDate),o,{locale:a})})),{showPaginator:r,currentPage:i,total:c,pages:d,pageSize:s,response:m,isLoading:u,execQuery:b}=zt(t,{normalizer:n,toastNoRecords:!1});return{http:t,showPaginator:r,currentPage:i,isLoading:u,total:c,pages:d,pageSize:s,execQuery:b,items:m,licenceEndpoint:l}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.license_type"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ng=y()(lg,[["render",RO]]);var rg=ng,ig={components:{"edit-employee-layout":Cp,"employee-skills":Ij,"employee-education":tO,"employee-languages":yO,"employee-work-experience":qO,"employee-license":rg},props:{empNumber:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}}};const cg=y()(ig,[["render",mj]]);var dg=cg;const sg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},mg={class:"orangehrm-container"},ug={class:"orangehrm-bottom-container"};function bg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("save-immigration"),c=Object(a["resolveComponent"])("edit-immigration"),d=Object(a["resolveComponent"])("profile-action-header"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"immigration"},{default:Object(a["withCtx"])(()=>{var p;return[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,http:l.http,countries:o.countries,onClose:r.onSaveModalClose},null,8,["http","countries","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,http:l.http,countries:o.countries,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","countries","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",sg,[Object(a["createVNode"])(d,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_immigration_records")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",mg,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(p=l.items)||void 0===p?void 0:p.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(a["createElementVNode"])("div",ug,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)]}),_:1},8,["employee-id"])}const pg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function hg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-input-group"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",pg,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_immigration")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{label:e.$t("pim.document"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=e=>n.immigration.number=e),label:e.$t("pim.number"),rules:n.rules.number,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.immigration.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.immigration.expiryDate=e),label:e.$t("general.expiry_date"),years:n.yearArray,rules:n.rules.expiryDate},null,8,["modelValue","label","years","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.immigration.status=e),label:e.$t("pim.eligible_status"),rules:n.rules.status},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=e=>n.immigration.countryCode=e),type:"select",label:e.$t("pim.issued_by"),options:o.countries},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.immigration.reviewDate=e),label:e.$t("pim.eligible_review_date"),rules:n.rules.reviewDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=e=>n.immigration.comment=e),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const jg={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""};var Og={name:"SaveImmigration",props:{http:{type:Object,required:!0},countries:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,immigration:{...jg},yearArray:[...HO()],rules:{number:[io,co(30)],expiryDate:[so(this.userDateFormat),yo(()=>this.immigration.issuedDate,this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[co(30)],issuedDate:[so(this.userDateFormat)],reviewDate:[so(this.userDateFormat)],comment:[co(250)]}}},methods:{onSave(){var e;this.isLoading=!0,this.http.create({...this.immigration,countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.immigration={...jg},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const gg=y()(Og,[["render",hg]]);var vg=gg;const fg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function yg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-input-group"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",fg,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_immigration")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{label:"Document",classes:n.immigrationTypeClasses},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]),_:1},8,["classes"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=e=>n.immigration.number=e),label:e.$t("pim.number"),rules:n.rules.number,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.immigration.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.immigration.expiryDate=e),label:e.$t("general.expiry_date"),years:n.yearArray,rules:n.rules.expiryDate},null,8,["modelValue","label","years","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.immigration.status=e),label:e.$t("pim.eligible_status"),rules:n.rules.status},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=e=>n.immigration.countryCode=e),type:"select",label:e.$t("pim.issued_by"),options:o.countries},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.immigration.reviewDate=e),label:e.$t("pim.eligible_review_date"),rules:n.rules.reviewDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=e=>n.immigration.comment=e),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Cg={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""};var Vg={name:"EditImmigration",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},countries:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,immigration:{...Cg},yearArray:[...HO()],rules:{number:[io,co(30)],expiryDate:[so(this.userDateFormat),yo(()=>this.immigration.issuedDate,this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[co(30)],issuedDate:[so(this.userDateFormat)],reviewDate:[so(this.userDateFormat)],comment:[co(250)]},immigrationTypeClasses:{wrapper:"--gender-grouped-field",label:{"oxd-input-field-required":!0}}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.immigration={...Cg,...t},this.immigration.countryCode=this.countries.find(e=>{var o;return e.id===(null===(o=t.country)||void 0===o?void 0:o.code)})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.update(this.data.id,{number:this.immigration.number,issuedDate:this.immigration.issuedDate,expiryDate:this.immigration.expiryDate,type:this.immigration.type,status:this.immigration.status,reviewDate:this.immigration.reviewDate,comment:this.immigration.comment,countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id}).then(()=>this.$toast.updateSuccess()).then(()=>{this.immigration={...Cg},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const xg=y()(Vg,[["render",yg]]);var wg=xg,Ng={components:{"profile-action-header":cp,"edit-employee-layout":Cp,"save-immigration":vg,"edit-immigration":wg,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/immigrations`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>({id:e.id,type:1==e.type?"Passport":"VISA",number:e.number,countryCode:e.country.code,countryName:e.country.name,issuedDate:we(xe(e.issuedDate),o,{locale:a}),expiryDate:we(xe(e.expiryDate),o,{locale:a})})),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.document"),style:{flex:1}},{name:"number",title:this.$t("pim.number"),style:{flex:1}},{name:"countryName",title:this.$t("pim.issued_by"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};o("d3dd");const _g=y()(Ng,[["render",bg],["__scopeId","data-v-86f003b2"]]);var kg=_g;const Sg={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Dg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-supervisors"),s=Object(a["resolveComponent"])("employee-subordinates"),m=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(m,{"employee-id":o.empNumber,screen:"report-to"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Sg,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.report_to")),1)]),_:1}),Object(a["createVNode"])(c)]),Object(a["createVNode"])(d,{"emp-number":o.empNumber,"reporting-methods":o.reportingMethods},null,8,["emp-number","reporting-methods"]),Object(a["createVNode"])(s,{"emp-number":o.empNumber,"reporting-methods":o.reportingMethods},null,8,["emp-number","reporting-methods"])]),_:1},8,["employee-id"])}const $g={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Eg={class:"orangehrm-container"},Tg={key:2,class:"orangehrm-bottom-container"};function Bg(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-employee-report-to"),d=Object(a["resolveComponent"])("edit-employee-report-to"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,"reporting-methods":o.reportingMethods,type:"Supervisor","emp-number":o.empNumber,onClose:r.onSaveModalClose},null,8,["http","reporting-methods","emp-number","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,"emp-number":o.empNumber,data:n.editModalState,type:"Supervisor",api:l.supervisorEndpoint,"reporting-methods":o.reportingMethods,onClose:r.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",$g,[Object(a["createVNode"])(s,{"action-button-shown":e.$can.create("supervisor"),onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_supervisors")),1)]),_:1},8,["action-button-shown","onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Eg,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("supervisor"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Tg,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}const Ig={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Lg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("report-to-employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ig,["Supervisor"===o.type?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_supervisor")),1)]),_:1})):Object(a["createCommentVNode"])("",!0),"Subordinate"===o.type?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_subordinate")),1)]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportTo.employee=e),rules:n.rules.employee,api:l.api,required:""},null,8,["modelValue","rules","api"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=e=>n.reportTo.reportingMethod=e),type:"select",label:e.$t("pim.reporting_method"),rules:n.rules.reportingMethod,options:o.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:"Cancel",onClick:r.onCancel},null,8,["onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const Ug={key:0,class:"past-employee-tag"};function Ag(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",label:e.$t("general.name"),clear:!1,"create-options":r.loadEmployees},{afterSelected:Object(a["withCtx"])(({data:t})=>[t.isPastEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.past_employee")),1)],64)):Object(a["createCommentVNode"])("",!0)]),option:Object(a["withCtx"])(({data:t})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.label),1),t.isPastEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ug,Object(a["toDisplayString"])(e.$t("general.past_employee")),1)):Object(a["createCommentVNode"])("",!0)]),_:1},8,["label","create-options"])}var Pg={name:"ReportToEmployeeAutocomplete",props:{api:{type:String,required:!0},params:{type:Object,default:()=>({})}},setup(e){const t=new K(window.appGlobal.baseUrl,e.api);return{http:t}},methods:{async loadEmployees(e){return new Promise(t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),...this.params}).then(({data:e})=>{t(e.data.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})))}):t([])})}}};const qg=y()(Pg,[["render",Ag]]);var Mg=qg;const Fg={employee:null,reportingMethod:null};var zg={name:"SaveEmployeeReportTo",components:{"report-to-employee-autocomplete":Mg},props:{http:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0}},emits:["close"],setup(e){const t=`api/v2/pim/employees/${e.empNumber}/report-to/allowed`;return{api:t}},data(){return{isLoading:!1,reportTo:{...Fg},rules:{employee:[io,Fo],reportingMethod:[io]}}},methods:{onSave(){var e,t;this.isLoading=!0,this.http.create({empNumber:null===(e=this.reportTo.employee)||void 0===e?void 0:e.id,reportingMethodId:null===(t=this.reportTo.reportingMethod)||void 0===t?void 0:t.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Rg=y()(zg,[["render",Lg]]);var Gg=Rg;const Qg={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Hg(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("report-to-employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qg,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit"))+" "+Object(a["toDisplayString"])(o.type),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportTo.employee=e),required:"",disabled:"",api:l.allowedEmployeesApi,rules:n.rules.employee,clear:!1},null,8,["modelValue","api","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=e=>n.reportTo.reportingMethod=e),type:"select",label:e.$t("pim.reporting_method"),rules:n.rules.reportingMethod,options:o.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"]),Object(a["createVNode"])(c)])}const Wg={employee:null,reportingMethod:null};var Jg={name:"EditEmployeeReportTo",components:{"report-to-employee-autocomplete":Mg},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0},api:{type:String,required:!0}},emits:["close"],setup(e){const t=`api/v2/pim/employees/${e.empNumber}/report-to/allowed`;return{allowedEmployeesApi:t}},data(){return{isLoading:!1,reportTo:{...Wg},rules:{employee:[io,Fo],reportingMethod:[io]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"Supervisor"===this.type?`${this.api}${this.data.supervisorEmpNumber}`:`${this.api}${this.data.subordinateEmpNumber}`}).then(e=>{const{data:t}=e.data;this.reportTo.employee={id:"Supervisor"===this.type?t.supervisor.empNumber:t.subordinate.empNumber,label:"Supervisor"===this.type?`${t.supervisor.firstName} ${t.supervisor.middleName} ${t.supervisor.lastName}`:`${t.subordinate.firstName} ${t.subordinate.middleName} ${t.subordinate.lastName}`,isPastEmployee:"Supervisor"===this.type?t.supervisor.terminationId:t.subordinate.terminationId},this.reportTo.reportingMethod=this.reportingMethods.find(e=>e.id===t.reportingMethod.id)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0;const t="Supervisor"===this.type?this.data.supervisorEmpNumber:this.data.subordinateEmpNumber;this.http.update(t,{reportingMethodId:null===(e=this.reportTo.reportingMethod)||void 0===e?void 0:e.id}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const Yg=y()(Jg,[["render",Hg]]);var Xg=Yg,Kg={name:"EmployeeSupervisors",components:{"edit-employee-report-to":Xg,"profile-action-header":cp,"save-employee-report-to":Gg,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/supervisors`),{$t:o}=Ge(),a=e=>e.map(e=>{var t,a;return{name:`${null===(t=e.supervisor)||void 0===t?void 0:t.firstName} ${null===(a=e.supervisor)||void 0===a?void 0:a.lastName} ${e.supervisor.terminationId?o("general.past_employee"):""}`,reportingMethod:e.reportingMethod.name,supervisorEmpNumber:e.supervisor.empNumber}}),l=`api/v2/pim/employees/${e.empNumber}/supervisors/`,{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:a,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s,supervisorEndpoint:l}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:"Actions",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("supervisor")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("supervisor")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].supervisorEmpNumber});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.supervisorEmpNumber])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Zg=y()(Kg,[["render",Bg]]);var ev=Zg;const tv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},ov={class:"orangehrm-container"},av={key:2,class:"orangehrm-bottom-container"};function lv(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-employee-report-to"),d=Object(a["resolveComponent"])("edit-employee-report-to"),s=Object(a["resolveComponent"])("profile-action-header"),m=Object(a["resolveComponent"])("table-header"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-pagination"),p=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,type:"Subordinate","emp-number":o.empNumber,"reporting-methods":o.reportingMethods,onClose:r.onSaveModalClose},null,8,["http","emp-number","reporting-methods","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,"emp-number":o.empNumber,data:n.editModalState,type:"Subordinate",api:l.subordinateEndpoint,"reporting-methods":o.reportingMethods,onClose:r.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",tv,[Object(a["createVNode"])(s,{"action-button-shown":e.$can.create("subordinates"),onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_subordinates")),1)]),_:1},8,["action-button-shown","onClick"])]),Object(a["createVNode"])(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",ov,[Object(a["createVNode"])(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("subordinates"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",av,[Object(a["createVNode"])(b,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var nv={name:"EmployeeSubordinates",components:{"edit-employee-report-to":Xg,"save-employee-report-to":Gg,"profile-action-header":cp,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/subordinates`),{$t:o}=Ge(),a=e=>e.map(e=>{var t,a;return{name:`${null===(t=e.subordinate)||void 0===t?void 0:t.firstName} ${null===(a=e.subordinate)||void 0===a?void 0:a.lastName} ${e.subordinate.terminationId?o("general.past_employee"):""}`,reportingMethod:e.reportingMethod.name,subordinateEmpNumber:e.subordinate.empNumber}}),l=`api/v2/pim/employees/${e.empNumber}/subordinates/`,{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:a,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s,subordinateEndpoint:l}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("subordinates")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("subordinates")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].subordinateEmpNumber});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.subordinateEmpNumber])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const rv=y()(nv,[["render",lv]]);var iv=rv,cv={components:{"edit-employee-layout":Cp,"employee-supervisors":ev,"employee-subordinates":iv},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}}};const dv=y()(cv,[["render",Dg]]);var sv=dv;const mv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},uv={class:"orangehrm-container"},bv={class:"orangehrm-bottom-container"};function pv(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("save-membership"),c=Object(a["resolveComponent"])("edit-membership"),d=Object(a["resolveComponent"])("profile-action-header"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{"employee-id":o.empNumber,screen:"membership"},{default:Object(a["withCtx"])(()=>{var p;return[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,http:l.http,currencies:o.currencies,"paid-by":o.paidBy,memberships:o.memberships,onClose:r.onSaveModalClose},null,8,["http","currencies","paid-by","memberships","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,http:l.http,currencies:o.currencies,"paid-by":o.paidBy,memberships:o.memberships,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","currencies","paid-by","memberships","data","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",mv,[Object(a["createVNode"])(d,{onClick:r.onClickAdd},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.assigned_memberships")),1)]),_:1},8,["onClick"])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",uv,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(p=l.items)||void 0===p?void 0:p.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(a["createElementVNode"])("div",bv,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)]}),_:1},8,["employee-id"])}const hv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function jv(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",hv,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_membership")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.membership=e),type:"select",label:e.$t("pim.membership"),options:o.memberships,rules:n.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=e=>n.membership.subscriptionPaidBy=e),type:"select",label:e.$t("pim.subscription_paid_by"),options:o.paidBy},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.membership.subscriptionFee=e),label:e.$t("pim.subscription_amount"),rules:n.rules.subscriptionFee},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.membership.currencyType=e),type:"select",label:e.$t("general.currency"),options:o.currencies},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.membership.subscriptionCommenceDate=e),label:e.$t("pim.subscription_commence_date"),rules:n.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.membership.subscriptionRenewalDate=e),label:e.$t("pim.subscription_renewal_date"),years:n.yearArray,rules:n.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Ov={membershipId:[],subscriptionFee:"",subscriptionPaidBy:null,currencyTypeId:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""};var gv={name:"SaveMembership",props:{http:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,membership:{...Ov},yearArray:[...HO()],rules:{membership:[io],subscriptionCommenceDate:[so(this.userDateFormat)],subscriptionRenewalDate:[so(this.userDateFormat),yo(()=>this.membership.subscriptionCommenceDate,this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[jo,$o(1e9)]}}},methods:{onSave(){var e,t;this.isLoading=!0,this.http.create({subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.membership={...Ov},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const vv=y()(gv,[["render",jv]]);var fv=vv;const yv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Cv(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",yv,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_membership")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.membership=e),type:"select",label:e.$t("pim.membership"),options:o.memberships,rules:n.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=e=>n.membership.subscriptionPaidBy=e),type:"select",label:e.$t("pim.subscription_paid_by"),options:o.paidBy},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.membership.subscriptionFee=e),label:e.$t("pim.subscription_amount"),rules:n.rules.subscriptionFee},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.membership.currencyType=e),type:"select",label:e.$t("general.currency"),options:o.currencies},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.membership.subscriptionCommenceDate=e),label:e.$t("pim.subscription_commence_date"),rules:n.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.membership.subscriptionRenewalDate=e),label:e.$t("pim.subscription_renewal_date"),years:n.yearArray,rules:n.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(c)],64)}const Vv={membership:[],subscriptionFee:"",subscriptionPaidBy:null,currencyType:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""};var xv={name:"EditMembership",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=ie();return{userDateFormat:e}},data(){return{isLoading:!1,membership:{...Vv},yearArray:[...HO()],rules:{membership:[io],subscriptionCommenceDate:[so(this.userDateFormat)],subscriptionRenewalDate:[so(this.userDateFormat),yo(()=>this.membership.subscriptionCommenceDate,this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[jo,$o(1e9)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.membership.subscriptionFee=t.subscriptionFee,this.membership.subscriptionCommenceDate=t.subscriptionCommenceDate,this.membership.subscriptionRenewalDate=t.subscriptionRenewalDate,this.membership.membership=this.memberships.find(e=>e.id===t.membership.id),this.membership.subscriptionPaidBy=this.paidBy.find(e=>e.id===t.subscriptionPaidBy),this.membership.currencyType=this.currencies.find(e=>{var o;return e.id===(null===(o=t.currencyType)||void 0===o?void 0:o.id)})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t;this.isLoading=!0,this.http.update(this.data.id,{subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then(()=>this.$toast.updateSuccess()).then(()=>{this.membership={...Vv},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const wv=y()(xv,[["render",Cv]]);var Nv=wv,_v={components:{"profile-action-header":cp,"edit-employee-layout":Cp,"save-membership":fv,"edit-membership":Nv,"delete-confirmation":Yt},props:{empNumber:{type:String,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/pim/employees/${e.empNumber}/memberships`),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>({id:e.id,membershipId:e.membership.id,membershipName:e.membership.name,subscriptionPaidBy:e.subscriptionPaidBy,subscriptionFee:e.subscriptionFee,subscriptionTypeId:e.currencyType.id,subscriptionCurrencyName:e.currencyType.name,subscriptionCommenceDate:we(xe(e.subscriptionCommenceDate),o,{locale:a}),subscriptionRenewalDate:we(xe(e.subscriptionRenewalDate),o,{locale:a})})),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"membershipName",slot:"title",title:this.$t("pim.membership"),style:{flex:1}},{name:"subscriptionPaidBy",title:this.$t("pim.subscription_paid_by"),style:{flex:1}},{name:"subscriptionFee",title:this.$t("pim.subscription_amount"),style:{flex:1}},{name:"subscriptionCurrencyName",title:this.$t("general.currency"),style:{flex:1}},{name:"subscriptionCommenceDate",title:this.$t("pim.subscription_commence_date"),style:{flex:1}},{name:"subscriptionRenewalDate",title:this.$t("pim.subscription_renewal_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};o("d876");const kv=y()(_v,[["render",pv],["__scopeId","data-v-71721782"]]);var Sv=kv;const Dv={class:"orangehrm-background-container"},$v={class:"orangehrm-paper-container"},Ev={class:"orangehrm-header-container"},Tv={class:"orangehrm-container"},Bv={class:"orangehrm-bottom-container"};function Iv(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Dv,[Object(a["createElementVNode"])("div",$v,[Object(a["createElementVNode"])("div",Ev,[Object(a["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.termination_reasons")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Tv,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",Bv,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Lv={components:{"delete-confirmation":Yt},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map(t=>{const o=e.unselectableIds.findIndex(e=>e==t.id);return{id:t.id,name:t.name,isSelectable:-1===o}}),o=new K(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons"),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(o,{normalizer:t});return{http:o,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/pim/saveTerminationReasons")},onClickEdit(e){Y("/pim/saveTerminationReasons/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.termination_reasons_in_use")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Uv=y()(Lv,[["render",Iv]]);var Av=Uv;const Pv={class:"orangehrm-background-container"},qv={class:"orangehrm-card-container"};function Mv(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pv,[Object(a["createElementVNode"])("div",qv,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_termination_reason")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.termination.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Fv={props:{terminationReasonId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.get(this.terminationReasonId).then(e=>{const{data:t}=e.data;return this.termination.id=t.id,this.termination.name=t.name,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.termination.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.terminationReasonId,{name:this.termination.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/viewTerminationReasons")}}};const zv=y()(Fv,[["render",Mv]]);var Rv=zv;const Gv={class:"orangehrm-background-container"},Qv={class:"orangehrm-card-container"};function Hv(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gv,[Object(a["createElementVNode"])("div",Qv,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_termination_reason")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.termination.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var Wv={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.termination.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/viewTerminationReasons")}}};const Jv=y()(Wv,[["render",Hv]]);var Yv=Jv;const Xv={class:"orangehrm-background-container"},Kv={class:"orangehrm-paper-container"},Zv={class:"orangehrm-header-container"},ef={class:"orangehrm-container"},tf={class:"orangehrm-bottom-container"};function of(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xv,[Object(a["createElementVNode"])("div",Kv,[Object(a["createElementVNode"])("div",Zv,[Object(a["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.reporting_methods")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",ef,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",tf,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var af={components:{"delete-confirmation":Yt},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map(t=>{const o=e.unselectableIds.findIndex(e=>e==t.id);return{id:t.id,name:t.name,isSelectable:-1===o}}),o=new K(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods"),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(o,{normalizer:t});return{http:o,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/pim/saveReportingMethod")},onClickEdit(e){Y("/pim/saveReportingMethod/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.reporting_methods_in_use")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const lf=y()(af,[["render",of]]);var nf=lf;const rf={class:"orangehrm-background-container"},cf={class:"orangehrm-card-container"};function df(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rf,[Object(a["createElementVNode"])("div",cf,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_reporting_method")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportingMethod.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var sf={props:{reportingMethodId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.get(this.reportingMethodId).then(e=>{const{data:t}=e.data;return this.reportingMethod.id=t.id,this.reportingMethod.name=t.name,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);if(o>-1){const{id:e}=t[o];return e===this.reportingMethod.id||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.reportingMethodId,{name:this.reportingMethod.name}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/viewReportingMethods")}}};const mf=y()(sf,[["render",df]]);var uf=mf;const bf={class:"orangehrm-background-container"},pf={class:"orangehrm-card-container"};function hf(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bf,[Object(a["createElementVNode"])("div",pf,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_reporting_method")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportingMethod.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var jf={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[io,co(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name===e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.reportingMethod.name}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/viewReportingMethods")}}};const Of=y()(jf,[["render",hf]]);var gf=Of;const vf={class:"orangehrm-background-container"},ff={class:"orangehrm-paper-container"},yf={class:"orangehrm-header-container"},Cf={class:"orangehrm-custom-field-title"},Vf={class:"orangehrm-container"},xf={class:"orangehrm-bottom-container"};function wf(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vf,[Object(a["createElementVNode"])("div",ff,[Object(a["createElementVNode"])("div",yf,[Object(a["createElementVNode"])("div",Cf,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.custom_fields")),1)]),_:1}),l.isLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[r.remainingFields>0?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"--infotext",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.remaining_no_of_custom_fields"))+" "+Object(a["toDisplayString"])(r.remainingFields),1)]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,class:"--infotext",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.all_custom_fields_in_use")),1)]),_:1}))],64))]),r.remainingFields>0?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Vf,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",xf,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Nf={components:{"delete-confirmation":Yt},props:{customFieldLimit:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields"),o=t=>t.map(t=>{const o=e.unselectableIds.findIndex(e=>e==t.id);return{id:t.id,fieldName:t.fieldName,screen:e.screenList.filter(e=>t.screen===e.id)[0].label,fieldType:e.fieldTypeList.filter(e=>t.fieldType===e.id)[0].label,extraData:t.extraData,isSelectable:-1===o}}),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(t,{normalizer:o});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c}},data(){return{screenWidth:screen.width,headers:[{name:"fieldName",slot:"title",title:this.$t("pim.custom_field_name"),style:{flex:2}},{name:"screen",title:this.$t("pim.screen"),style:{flex:2}},{name:"fieldType",title:this.$t("pim.field_type"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},computed:{isLoaded(){return!this.isLoading},remainingFields(){var e,t;return this.customFieldLimit-(null===(e=this.items)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)}},methods:{onClickAdd(){Y("/pim/saveCustomFields")},onClickEdit(e){Y("/pim/saveCustomFields/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.custom_fields_in_use")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};o("1670");const _f=y()(Nf,[["render",wf],["__scopeId","data-v-7752e39f"]]);var kf=_f;const Sf={class:"orangehrm-background-container"},Df={class:"orangehrm-card-container"};function $f(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Sf,[Object(a["createElementVNode"])("div",Df,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_custom_field")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customField.fieldName=e),label:e.$t("pim.field_name"),rules:n.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customField.screen=e),type:"select",label:e.$t("pim.screen"),rules:n.rules.screen,options:o.screenList,required:""},null,8,["modelValue","label","rules","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.customField.fieldType=e),type:"select",label:e.$t("general.type"),rules:n.rules.fieldType,options:o.fieldTypeList,required:"",disabled:o.fieldInUse},null,8,["modelValue","label","rules","options","disabled"])]),_:1}),r.isDropDownField?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=e=>n.customField.extraData=e),label:e.$t("pim.select_options"),rules:n.rules.extraData,required:r.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(a["createVNode"])(i,{tag:"p",class:"select-options-hint"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Ef={id:null,fieldName:"",screen:"",fieldType:"",extraData:""};var Tf={props:{customFieldId:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},fieldInUse:{type:Boolean,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data(){return{isLoading:!1,customField:{...Ef},rules:{fieldName:[io,co(250)],screen:[io,co(100)],fieldType:[io,co(15)],extraData:[io,co(250)]}}},computed:{isDropDownField(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created(){this.isLoading=!0,this.http.get(this.customFieldId).then(e=>{const{data:t}=e.data;return this.customField.fieldName=t.fieldName,""!==t.screen&&null!==t.screen&&(this.customField.screen=this.screenList.find(e=>e.id===t.screen)),""!==t.fieldType&&null!==t.fieldType&&(this.customField.fieldType=this.fieldTypeList.find(e=>e.id===t.fieldType)),this.customField.extraData=t.extraData,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.fieldName.push(e=>{const o=t.findIndex(t=>t.fieldName===e);if(o>-1){const e=t[o].id;return e==this.customFieldId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.customFieldId,{fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:this.customField.fieldType.id,extraData:this.customField.extraData}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/listCustomFields")}}};o("35f5");const Bf=y()(Tf,[["render",$f],["__scopeId","data-v-46ae9122"]]);var If=Bf;const Lf={class:"orangehrm-background-container"},Uf={class:"orangehrm-card-container"};function Af(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Lf,[Object(a["createElementVNode"])("div",Uf,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_custom_field")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customField.fieldName=e),label:e.$t("pim.field_name"),rules:n.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customField.screen=e),type:"select",label:e.$t("pim.screen"),rules:n.rules.screen,options:o.screenList,required:""},null,8,["modelValue","label","rules","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"organization-name-container"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.customField.fieldType=e),type:"select",label:e.$t("general.type"),rules:n.rules.fieldType,options:o.fieldTypeList,required:""},null,8,["modelValue","label","rules","options"])]),_:1}),r.isDropDownField?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=e=>n.customField.extraData=e),label:e.$t("pim.select_options"),rules:n.rules.extraData,required:r.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(a["createVNode"])(i,{tag:"p",class:"select-options-hint"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Pf={fieldName:"",screen:"",fieldType:"",extraData:""};var qf={props:{screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data(){return{isLoading:!1,customField:{...Pf},rules:{fieldName:[io,co(250)],screen:[io,co(100)],fieldType:[io,co(15)],extraData:[io,co(250)]}}},computed:{isDropDownField(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.fieldName.push(e=>{const o=t.findIndex(t=>t.fieldName==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0;const e=this.customField.fieldType.id;this.http.create({fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:e,extraData:1===e?this.customField.extraData:null}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/pim/listCustomFields")}}};o("38e9");const Mf=y()(qf,[["render",Af],["__scopeId","data-v-42abd14c"]]);var Ff=Mf;const zf={class:"orangehrm-background-container"},Rf={class:"orangehrm-card-container"},Gf={class:"orangehrm-optional-field-row"},Qf={class:"orangehrm-optional-field-row"},Hf={class:"orangehrm-optional-field-row"},Wf={class:"orangehrm-optional-field-row"};function Jf(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-switch-input"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("submit-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zf,[Object(a["createElementVNode"])("div",Rf,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.optional_fields")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.show_deprecated_fields")),1)]),_:1}),Object(a["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Gf,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.show_nick_name_smoker_and_military_service_in_personal_details")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.optionalField.pimShowDeprecatedFields,"onUpdate:modelValue":t[0]||(t[0]=e=>n.optionalField.pimShowDeprecatedFields=e)},null,8,["modelValue"])])]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.country_specific_information")),1)]),_:1}),Object(a["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Qf,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.show_ssn_field_in_personal_details")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.optionalField.showSSN,"onUpdate:modelValue":t[1]||(t[1]=e=>n.optionalField.showSSN=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",Hf,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.show_sin_field_in_personal_details")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.optionalField.showSIN,"onUpdate:modelValue":t[2]||(t[2]=e=>n.optionalField.showSIN=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",Wf,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.show_us_tax_exemptions_menu")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.optionalField.showTaxExemptions,"onUpdate:modelValue":t[3]||(t[3]=e=>n.optionalField.showTaxExemptions=e)},null,8,["modelValue"])])]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Yf={pimShowDeprecatedFields:!1,showSSN:!1,showSIN:!1,showTaxExemptions:!1};var Xf={components:{"oxd-switch-input":Sl["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/optional-field");return{http:e}},data(){return{isLoading:!1,optionalField:{...Yf}}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.optionalField={...t}}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.optionalField}}).then(e=>{const{data:t}=e.data;this.optionalField={...t},this.$toast.saveSuccess(),this.isLoading=!1})}}};o("1cd0");const Kf=y()(Xf,[["render",Jf],["__scopeId","data-v-435b3865"]]);var Zf=Kf;const ey={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ty(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("edit-employee-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{"employee-id":o.empNumber,screen:"tax"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ey,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.tax_exemptions")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.federal_income_tax")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.federalStatus,"onUpdate:modelValue":t[0]||(t[0]=e=>n.taxExemption.federalStatus=e),type:"select",label:e.$t("general.status"),options:o.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.federalExemptions,"onUpdate:modelValue":t[1]||(t[1]=e=>n.taxExemption.federalExemptions=e),label:e.$t("pim.exemptions"),rules:n.rules.federalExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.state_income_tax")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.taxState,"onUpdate:modelValue":t[2]||(t[2]=e=>n.taxExemption.taxState=e),type:"select",label:e.$t("general.state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.stateStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>n.taxExemption.stateStatus=e),type:"select",label:e.$t("general.status"),options:o.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.stateExemptions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.taxExemption.stateExemptions=e),label:e.$t("pim.exemptions"),rules:n.rules.stateExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.unemploymentState,"onUpdate:modelValue":t[5]||(t[5]=e=>n.taxExemption.unemploymentState=e),type:"select",label:e.$t("pim.unemployment_state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.taxExemption.workState,"onUpdate:modelValue":t[6]||(t[6]=e=>n.taxExemption.workState=e),type:"select",label:e.$t("pim.work_state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[e.$can.update("tax_exemptions")?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading","onSubmitValid"])])]),_:1},8,["employee-id"])}const oy={federalStatus:null,federalExemptions:null,taxStateCode:[],stateStatus:null,stateExemptions:null,unemploymentStateCode:[],workStateCode:[]};var ay={components:{"edit-employee-layout":Cp},props:{empNumber:{type:String,required:!0},provinces:{type:Array,default:()=>[]},statuses:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/tax-exemption`);return{http:t}},data(){return{isLoading:!1,taxExemption:{...oy},rules:{federalExemptions:[e=>null!==e.match(/^\d*\.?\d*$/)||this.$t("general.should_be_a_positive_number"),co(2)],stateExemptions:[e=>null!==e.match(/^\d*\.?\d*$/)||this.$t("general.should_be_a_positive_number"),co(2)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{this.updateModel(e)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t,o,a,l;this.isLoading=!0,this.http.request({method:"PUT",data:{federalStatus:null===(e=this.taxExemption.federalStatus)||void 0===e?void 0:e.id,federalExemptions:this.taxExemption.federalExemptions,taxStateCode:null===(t=this.taxExemption.taxState)||void 0===t?void 0:t.id,stateStatus:null===(o=this.taxExemption.stateStatus)||void 0===o?void 0:o.id,stateExemptions:this.taxExemption.stateExemptions,unemploymentStateCode:null===(a=this.taxExemption.unemploymentState)||void 0===a?void 0:a.id,workStateCode:null===(l=this.taxExemption.workState)||void 0===l?void 0:l.id}}).then(e=>(this.updateModel(e),this.$toast.updateSuccess())).then(()=>{this.isLoading=!1})},updateModel(e){const{data:t}=e.data;this.taxExemption.federalExemptions=t.federalExemptions,this.taxExemption.stateExemptions=t.stateExemptions,this.taxExemption.taxState=this.provinces.find(e=>e.id===t.taxState.code),this.taxExemption.unemploymentState=this.provinces.find(e=>e.id===t.unemploymentState.code),this.taxExemption.workState=this.provinces.find(e=>e.id===t.workState.code),this.taxExemption.federalStatus=this.statuses.find(e=>e.id===t.federalStatus),this.taxExemption.stateStatus=this.statuses.find(e=>e.id===t.stateStatus)}}};const ly=y()(ay,[["render",ty]]);var ny=ly;const ry=e=>(Object(a["pushScopeId"])("data-v-c67d9e86"),e=e(),Object(a["popScopeId"])(),e),iy={class:"orangehrm-background-container"},cy={class:"orangehrm-card-container"},dy={class:"orangehrm-information-card-container"},sy=ry(()=>Object(a["createElementVNode"])("br",null,null,-1));function my(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("employee-data-import-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",iy,[Object(a["createElementVNode"])("div",cy,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.data_import")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",dy,[Object(a["createVNode"])(i,{class:"orangehrm-sub-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.note"))+": ",1)]),_:1}),Object(a["createElementVNode"])("ul",null,[Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.column_order_should_not_be_changed")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.first_name_and_last_name_are_compulsory")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.all_date_fields_should_be_in_yyyy_mm_dd_format")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.gender_specified_value_should_be_either_m_or_f")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.each_import_file_should_be_configured_for_100_records_or_less")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.multiple_import_files_may_be_required")),1)]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(i,{class:"orangehrm-information-card-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.sample_csv_file"))+" : ",1),Object(a["createElementVNode"])("a",{href:"#",class:"download-link",onClick:t[0]||(t[0]=Object(a["withModifiers"])((...e)=>r.onClickDownload&&r.onClickDownload(...e),["prevent"]))},Object(a["toDisplayString"])(e.$t("general.download")),1)]),_:1})])])]),sy,Object(a["createVNode"])(j,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.attachment=e),type:"file",rules:n.rules.attachment,label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","rules","label","button-label","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{label:e.$t("general.upload")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),n.importModalState?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,data:n.importModalState,onClose:r.onImportModalClose},null,8,["data","onClose"])):Object(a["createCommentVNode"])("",!0)])}const uy={class:"orangehrm-modal-header"},by={class:"orangehrm-text-center-align"},py={class:"orangehrm-modal-footer"};function hy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{class:"orangehrm-dialog-popup","onUpdate:show":r.onClose},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",uy,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.import_details")),1)]),_:1})]),Object(a["createElementVNode"])("div",by,[Object(a["createVNode"])(i,{type:"card-body",class:Object(a["normalizeClass"])({"orangehrm-success-message":o.data.success>0})},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.n_records_successfully_imported",{count:o.data.success})),1)]),_:1},8,["class"]),o.data.failed>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(i,{type:"card-body",class:"orangehrm-error-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.n_records_failed_to_import",{count:o.data.failed})),1)]),_:1}),Object(a["createVNode"])(i,{type:"card-body",class:"orangehrm-error-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.failed_rows")),1)]),_:1}),Object(a["createVNode"])(i,{type:"card-body",class:"orangehrm-error-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.data.failedRows.toString()),1)]),_:1})],64)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",py,[Object(a["createVNode"])(c,{"display-type":"text",label:e.$t("general.ok"),onClick:r.onClose},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])}var jy={name:"EmployeeDataImportModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,required:!0}},emits:["close"],methods:{onClose(){this.$emit("close",!0)}}};o("4963");const Oy=y()(jy,[["render",hy],["__scopeId","data-v-40cb7196"]]);var gy=Oy;const vy={attachment:null};var fy={components:{"employee-data-import-modal":gy},props:{allowedFileTypes:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/pim/csv-import"),{formRef:t,reset:o}=Xs();return{http:e,reset:o,formRef:t}},data(){return{isLoading:!1,attachment:{...vy},rules:{attachment:[io,No(1048576),_o(this.allowedFileTypes)]},importModalState:null}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then(e=>{const{meta:t}=e.data;this.importModalState=t}).finally(()=>{this.reset(),this.isLoading=!1})},onClickDownload(){const e=window.appGlobal.baseUrl+"/pim/sampleCsvDownload";window.open(e,"_blank")},onImportModalClose(){this.importModalState=null}}};o("0a5d");const yy=y()(fy,[["render",my],["__scopeId","data-v-c67d9e86"]]);var Cy=yy;const Vy={class:"orangehrm-background-container"},xy=Object(a["createElementVNode"])("br",null,null,-1),wy={class:"orangehrm-paper-container"},Ny={class:"orangehrm-header-container"},_y={class:"orangehrm-container"},ky={class:"orangehrm-bottom-container"};function Sy(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("report-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("table-header"),g=Object(a["resolveComponent"])("oxd-card-table"),v=Object(a["resolveComponent"])("oxd-pagination"),f=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Vy,[Object(a["createVNode"])(j,{"filter-title":e.$t("general.employee_reports")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.report,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.report=e),rules:n.rules.report},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),xy,Object(a["createElementVNode"])("div",wy,[Object(a["createElementVNode"])("div",Ny,[Object(a["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(O,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",_y,[Object(a["createVNode"])(g,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",ky,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(f,{ref:"deleteDialog"},null,512)])}function Dy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",label:e.$t("general.report_name"),clear:!1,"create-options":r.loadReports},{option:Object(a["withCtx"])(({data:e})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.label),1)]),_:1},8,["label","create-options"])}var $y={name:"ReportAutocomplete",setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined");return{http:e}},methods:{async loadReports(e){return new Promise(t=>{e.trim()?this.http.getAll({name:e}).then(({data:e})=>{t(e.data.map(e=>({id:e.id,label:e.name})))}):t([])})}}};const Ey=y()($y,[["render",Dy]]);var Ty=Ey;const By={report:null},Iy={"report.name":"ASC"};var Ly={components:{"delete-confirmation":Yt,"report-autocomplete":Ty},setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=Xt({sortDefinition:Iy}),n=Object(a["ref"])({...By}),r=Object(a["computed"])(()=>{var e;return{reportId:null===(e=n.value.report)||void 0===e?void 0:e.id,sortField:t.value,sortOrder:o.value}}),i=new K(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{showPaginator:c,currentPage:d,total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h}=zt(i,{query:r});return l(h),{http:i,showPaginator:c,currentPage:d,isLoading:p,total:s,pages:m,pageSize:u,execQuery:h,items:b,filters:n,sortDefinition:e}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"85%"},sortField:"report.name"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},view:{onClick:this.onClickView,props:{name:"file-text-fill"}}}}],checkedItems:[],rules:{report:[Fo]}}},methods:{onClickAdd(){Y("/pim/definePredefinedReport")},onClickEdit(e){Y("/pim/definePredefinedReport/{id}",{id:e.id})},onClickView(e){Y("/pim/displayPredefinedReport/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...By},this.filterItems()}}};const Uy=y()(Ly,[["render",Sy]]);var Ay=Uy;const Py={class:"orangehrm-background-container"},qy={class:"orangehrm-card-container"};function My(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-icon-button"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("report-criterion"),j=Object(a["resolveComponent"])("report-display-field"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("submit-button"),f=Object(a["resolveComponent"])("oxd-form-actions"),y=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Py,[Object(a["createElementVNode"])("div",qy,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.add_report")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.report.name=e),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:n.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.selection_criteria")),1)]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=e=>l.report.criterion=e),type:"select",label:e.$t("pim.selection_criteria"),options:l.availableCriteria},null,8,["modelValue","label","options"]),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:l.addCriterion},null,8,["onClick"])]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=e=>l.report.includeEmployees=e),type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.report.criteriaSelected,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:e,operator:l.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":t=>l.report.criteriaFieldValues[e.id].operator=t,valueX:l.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":t=>l.report.criteriaFieldValues[e.id].valueX=t,valueY:l.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":t=>l.report.criteriaFieldValues[e.id].valueY=t,criterion:e,onDelete:e=>l.removeCriterion(t)},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"]))),128))]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.display_fields")),1)]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=e=>l.report.fieldGroup=e),type:"select",label:e.$t("pim.select_display_field_group"),options:l.availableFieldGroups},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=e=>l.report.displayField=e),type:"select",label:e.$t("pim.select_display_field"),options:l.availableDisplyFields},null,8,["modelValue","label","options"]),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:l.addDisplayField},null,8,["onClick"])]),_:1})]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.report.fieldGroupSelected,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:e,includeHeader:l.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":t=>l.report.displayFieldSelected[e.id].includeHeader=t,"field-group":e,"selected-fields":l.report.displayFieldSelected[e.id].fields,onDelete:e=>l.removeDisplayFieldGroup(t),onDeleteChip:e=>l.removeDisplayField(e,t)},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"]))),128))]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(v)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}function Fy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-grid-item");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,{class:"orangehrm-report-criteria --offset-column-1"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{name:"trash-fill",onClick:l.onClickDelete},null,8,["onClick"]),Object(a["createVNode"])(c,{class:"orangehrm-report-criteria-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.criterion.label),1)]),_:1})]),_:1}),(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(l.field.component),Object(a["mergeProps"])(e.$attrs,{api:l.field.api,label:l.field.name,options:l.field.options}),null,16,["api","label","options"]))],64)}function zy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item");return Object(a["openBlock"])(),Object(a["createBlock"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,Object(a["mergeProps"])(e.$attrs,{params:{includeEmployees:"currentAndPast"},rules:l.rules,"model-value":o.valueX,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:valueX",t))}),null,16,["rules","model-value"])]),_:1})}var Ry={name:"ReportCriterionAutocomplete",components:{"employee-autocomplete":Fa},inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:Object,required:!1,default:()=>null}},emits:["update:valueX","update:operator"],setup(e,t){const o=[io,Fo];return t.emit("update:operator",{id:"eq",label:"Equal"}),{rules:o}}};o("49bc");const Gy=y()(Ry,[["render",zy],["__scopeId","data-v-f5f20a1c"]]);var Qy=Gy;function Hy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item");return Object(a["openBlock"])(),Object(a["createBlock"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,Object(a["mergeProps"])(e.$attrs,{type:"select",rules:l.rules,options:l.opts,"model-value":o.valueX,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:valueX",t))}),null,16,["rules","options","model-value"])]),_:1})}var Wy={name:"ReportCriterionSelect",inheritAttrs:!1,props:{api:{type:String,required:!1,default:null},options:{type:Array,default:()=>[]},valueX:{type:Object,required:!1,default:()=>null}},emits:["update:valueX","update:operator"],setup(e,t){const o=Object(a["ref"])(e.options),l=[io];if(e.api){const t=new K(window.appGlobal.baseUrl,e.api);Object(a["onBeforeMount"])(()=>{t.getAll({..."api/v2/admin/subunits"!==e.api&&{limit:0}}).then(({data:e})=>{o.value=e.data.map(e=>({id:e.id,label:e.name?e.name:e.title,_indent:e.level?e.level+1:1}))})})}return"api/v2/admin/locations"===e.api||"api/v2/admin/subunits"===e.api?t.emit("update:operator",{id:"in",label:"Equal"}):t.emit("update:operator",{id:"eq",label:"Equal"}),{opts:o,rules:l}}};o("fe4b");const Jy=y()(Wy,[["render",Hy],["__scopeId","data-v-6bc9567a"]]);var Yy=Jy;function Xy(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"select",rules:l.rules.operator,options:l.operators,"model-value":o.operator,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:operator",t))},null,8,["rules","options","model-value"])]),_:1}),o.operator&&"between"===o.operator.id?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"orangehrm-report-range"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{rules:l.rules.valueX,"model-value":o.valueX,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value"]),Object(a["createVNode"])(d,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("to")]),_:1}),Object(a["createVNode"])(i,{rules:l.rules.valueY,"model-value":o.valueY,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:valueY",t))},null,8,["rules","model-value"])]),_:1})):o.operator?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{rules:l.rules.valueXOnly,"model-value":o.valueX,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value"])]),_:1})):Object(a["createCommentVNode"])("",!0)],64)}var Ky={name:"ReportCriterionRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup(e){const{$t:t}=Ge(),o=Object(a["ref"])([{id:"lt",label:t("general.less_than")},{id:"gt",label:t("general.greater_than")},{id:"between",label:t("general.range")}]),l={operator:[io],valueXOnly:[io,po,bo(100)],valueX:[io,po,bo(100),o=>parseInt(o)<parseInt(e.valueY)||t("general.should_be_less_than_upper_bound")],valueY:[io,po,bo(100),o=>parseInt(o)>parseInt(e.valueX)||t("general.should_be_greater_than_lower_bound")]};return{rules:l,operators:o}}};o("db37");const Zy=y()(Ky,[["render",Xy],["__scopeId","data-v-252622cf"]]);var eC=Zy;function tC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"select",rules:l.rules.operator,options:l.operators,"model-value":o.operator,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:operator",t))},null,8,["rules","options","model-value"])]),_:1}),o.operator&&"between"===o.operator.id?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"orangehrm-report-daterange --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"date",rules:l.rules.valueX,"model-value":o.valueX,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value","placeholder","display-format"]),Object(a["createVNode"])(d,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("to")]),_:1}),Object(a["createVNode"])(i,{type:"date",rules:l.rules.valueY,"model-value":o.valueY,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:valueY",t))},null,8,["rules","model-value","placeholder","display-format"])]),_:1})):o.operator?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"date",rules:l.rules.valueXOnly,"model-value":o.valueX,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value","placeholder","display-format"])]),_:1})):Object(a["createCommentVNode"])("",!0)],64)}var oC={name:"ReportCriterionDateRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup(e){const{$t:t}=Ge(),{jsDateFormat:o,userDateFormat:l}=ie(),n=Object(a["ref"])([{id:"lt",label:"Joined before"},{id:"gt",label:"Joined after"},{id:"between",label:"Joined in between"}]),r={operator:[io],valueXOnly:[io,so(l)],valueX:[io,so(l),Do(()=>e.valueY,t("general.from_date_should_be_before_to_date"))],valueY:[io,so(l),yo(()=>e.valueX,t("general.to_date_should_be_after_from_date"))]};return{rules:r,operators:n,jsDateFormat:o,userDateFormat:l}}};o("6102");const aC=y()(oC,[["render",tC],["__scopeId","data-v-036345af"]]);var lC=aC,nC={name:"ReportCriterion",components:{"report-criterion-autocomplete":Qy,"report-criterion-select":Yy,"report-criterion-range":eC,"report-criterion-date-range":lC},inheritAttrs:!1,props:{criterion:{type:Object,required:!0}},emits:["delete"],setup(e,t){const o=Object(a["ref"])(null);switch(e.criterion.key){case"employee_name":o.value={name:e.criterion.label,component:"report-criterion-autocomplete",api:null,options:[]};break;case"pay_grade":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/pay-grades",options:[]};break;case"education":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/educations",options:[]};break;case"employment_status":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/employment-statuses",options:[]};break;case"service_period":o.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"joined_date":o.value={name:e.criterion.label,component:"report-criterion-date-range",api:null,options:[]};break;case"job_title":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/job-titles",options:[]};break;case"language":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/languages",options:[]};break;case"skill":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/skills",options:[]};break;case"age_group":o.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"sub_unit":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/subunits",options:[]};break;case"location":o.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/locations",options:[]};break;default:o.value={name:e.criterion.label,component:"report-criterion-select",api:null,options:[{id:1,label:"Male"},{id:2,label:"Female"}]}}const l=e=>{t.emit("delete",e)};return{field:o,onClickDelete:l}}};o("cca9");const rC=y()(nC,[["render",Fy],["__scopeId","data-v-d58de47e"]]);var iC=rC;function cC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-mutliselect-chips"),m=Object(a["resolveComponent"])("oxd-switch-input");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,{class:"orangehrm-report-field --offset-column-1"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{name:"trash-fill",onClick:l.onClickDelete},null,8,["onClick"]),Object(a["createVNode"])(c,{class:"orangehrm-report-field-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.fieldGroup.label),1)]),_:1})]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{selected:o.selectedFields,onChipRemoved:l.onRemoveSelected},null,8,["selected","onChipRemoved"])]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-report-field"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-report-field-header",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.include_header")),1)]),_:1}),Object(a["createVNode"])(m,{"model-value":o.includeHeader,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:includeHeader",t))},null,8,["model-value"])]),_:1})],64)}var dC=o("69be"),sC={name:"ReportDisplayField",components:{"oxd-switch-input":Sl["a"],"oxd-mutliselect-chips":dC["a"]},props:{fieldGroup:{type:Object,required:!0},selectedFields:{type:Array,default:()=>[]},includeHeader:{type:Boolean,required:!0}},emits:["delete","deleteChip","update:includeHeader"],setup(e,t){const o=e=>{t.emit("delete",e)},a=e=>{t.emit("deleteChip",e)};return{onClickDelete:o,onRemoveSelected:a}}};o("73d8");const mC=y()(sC,[["render",cC],["__scopeId","data-v-471da748"]]);var uC=mC;const bC={name:"",includeEmployees:{id:1,key:"onlyCurrent",label:"Current Employees Only"},criterion:null,criteriaSelected:[],criteriaFieldValues:{},fieldGroup:null,fieldGroupSelected:[],displayField:null,displayFieldSelected:{}};function pC(e,t,o){const l=Object(a["reactive"])({report:{...bC}}),n=e=>{const o=t.find(t=>t.field_group_id===e);return o?o.fields:[]},r=e=>{const t=l.report.displayFieldSelected[e],o=t?t.fields:[];return n(e).filter(e=>!o.find(t=>t.id===e.id))},i=()=>{const e=l.report.criterion;e&&(l.report.criteriaSelected.push(e),l.report.criteriaFieldValues[e.id]={valueX:null,valueY:null,operator:null},l.report.criterion=null)},c=e=>{const t=l.report.criteriaSelected.splice(e,1);delete l.report.criteriaFieldValues[t[0].id]},d=()=>{const e=l.report.fieldGroup,t=l.report.displayField;if(e){const o=l.report.fieldGroupSelected.findIndex(t=>t.id===e.id);-1===o&&(l.report.fieldGroupSelected.push(e),l.report.displayFieldSelected[e.id]={fields:[],includeHeader:!1}),t?(l.report.displayFieldSelected[e.id].fields.push(t),l.report.displayField=null):r(e.id).forEach(t=>{l.report.displayFieldSelected[e.id].fields.push(t)}),0===r(e.id).length&&(l.report.fieldGroup=null)}},s=e=>{const t=l.report.fieldGroupSelected[e];l.report.fieldGroupSelected.splice(e,1),delete l.report.displayFieldSelected[t.id]},m=(e,t)=>{const o=l.report.fieldGroupSelected[t],a=l.report.displayFieldSelected[o.id].fields;l.report.displayFieldSelected[o.id].fields=a.filter(t=>t.id!==e.id),0===l.report.displayFieldSelected[o.id].fields.length&&s(t)},u=e=>{const t={name:e.name,include:e.includeEmployees.key,criteria:{},fieldGroup:{}};return e.fieldGroupSelected.forEach(o=>{const a=e.displayFieldSelected[o.id].fields,l=e.displayFieldSelected[o.id].includeHeader;t.fieldGroup[o.id]={fields:a.map(e=>e.id),includeHeader:l}}),e.criteriaSelected.forEach(o=>{var a,l;const n=e.criteriaFieldValues[o.id];t.criteria[o.id]={operator:n.operator?n.operator.id:"",x:"object"===typeof n.valueX?String(null===(a=n.valueX)||void 0===a?void 0:a.id):n.valueX,y:"object"===typeof n.valueY?String(null===(l=n.valueY)||void 0===l?void 0:l.id):n.valueY}}),t},b=Object(a["computed"])(()=>e.filter(e=>!l.report.criteriaSelected.find(t=>t.id===e.id))),p=Object(a["computed"])(()=>o.filter(e=>0!==r(e.id).length)),h=Object(a["computed"])(()=>{var e;const t=null===(e=l.report.fieldGroup)||void 0===e?void 0:e.id;return t?r(t):[]});return{...Object(a["toRefs"])(l),addCriterion:i,serializeBody:u,addDisplayField:d,removeCriterion:c,removeDisplayField:m,removeDisplayFieldGroup:s,availableCriteria:b,availableFieldGroups:p,availableDisplyFields:h}}var hC={components:{"report-criterion":iC,"report-display-field":uC},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:c,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}=pC(e.selectionCriteria,e.displayFields,e.displayFieldGroups);return{http:t,report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:c,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}},data(){return{isLoading:!1,rules:{name:[io,co(250)],includeEmployees:[io]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/pim/viewDefinedPredefinedReports")},onSave(){if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;let e=null;const t=this.serializeBody(this.report);this.http.create(t).then(t=>{const{data:o}=t.data;return e=o.id,this.$toast.saveSuccess()}).then(()=>{e&&Y("/pim/displayPredefinedReport/{id}",{id:e})})}}};o("9ada");const jC=y()(hC,[["render",My],["__scopeId","data-v-32f2a602"]]);var OC=jC;const gC={class:"orangehrm-card-container"},vC=Object(a["createElementVNode"])("br",null,null,-1);function fC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{module:"pim",name:"pim_defined",prefetch:!0,filters:l.filters},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",gC,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.reportName),1)]),_:1})]),vC]),_:1},8,["filters"])}const yC={class:"orangehrm-background-container"},CC={key:0,class:"orangehrm-paper-container"};function VC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-pagination"),d=Object(a["resolveComponent"])("oxd-report-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yC,[Object(a["renderSlot"])(e.$slots,"default",{generateReport:l.generateReport},void 0,!0),0!==l.headers.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",CC,[Object(a["createVNode"])(d,{items:l.items,headers:l.headers,loading:l.isLoading,"column-count":l.colCount},{pagination:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"oxd-text--count",tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_found",{count:l.total})),1)]),_:1}),l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),footer:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"oxd-text--footer",tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["renderSlot"])(e.$slots,"footer",{data:l.response},void 0,!0)]),_:3})]),_:3},8,["items","headers","loading","column-count"])])):Object(a["createCommentVNode"])("",!0)])}var xC=o("065f"),wC=o("3fc0"),NC=o("5445"),_C={name:"ReportsTable",components:{"oxd-report-table":xC["a"]},props:{name:{type:String,required:!0},module:{type:String,required:!0},prefetch:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},columnCount:{type:Number,default:null,required:!1}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/${e.module}/reports/data`),o=Object(a["ref"])([]),l=Object(a["ref"])(e.columnCount?e.columnCount:0),n=Object(a["computed"])(()=>({...e.filters,name:e.name,_dateFormattingEnabled:!0})),{total:r,pages:i,response:c,isLoading:d,currentPage:s,showPaginator:m,execQuery:u}=zt(t,{query:n,prefetch:!1}),b=Object(a["computed"])(()=>r.value?1===r.value?`(${r.value}) Record Found`:`(${r.value}) Records Found`:"No Records Found"),p=Object(a["computed"])(()=>{const e=Array.isArray(c.value.data)?c.value.data:[];return e.map(e=>{let t=0;for(const o in e){const a=e[o];Array.isArray(a)&&a.length>t&&(t=a.length)}return{...e,_rows:t}})}),h=e=>{var t;delete e["size"];const{type:o,...a}=null!==(t=e.cellProperties)&&void 0!==t?t:{},l=function({prop:e,model:t}){const o=null!==t&&void 0!==t&&t._url?null===t||void 0===t?void 0:t._url[e]:void 0;return{...a,onClick:o?()=>Y(o):void 0}};return{...e,cellProperties:l,cellTemplate:"list"===o?Object(wC["a"])(NC["a"]):void 0}},j=async()=>{var a;d.value=!0,t.request({type:"GET",url:`api/v2/${e.module}/reports`,params:{name:n.value.name,reportId:null===(a=n.value)||void 0===a?void 0:a.reportId}}).then(e=>{var t;const{data:a,meta:n}=e.data;o.value=a.headers.map(e=>null!==e&&void 0!==e&&e.children&&Array.isArray(e.children)?(e.children=e.children.map(e=>h(e)),e):h(e)),null!==(t=n.headers)&&void 0!==t&&t.columnCount&&(l.value=n.headers.columnCount),d.value=!1})},O=async()=>{0===o.value.length&&await j(),await u()};return Object(a["watch"])(()=>e.name,()=>{o.value=[]}),e.prefetch&&Object(a["onBeforeMount"])(()=>O()),{total:r,pages:i,items:p,headers:o,colCount:l,response:c,isLoading:d,currentPage:s,itemCountText:b,showPaginator:m,generateReport:O}}};o("0bd2");const kC=y()(_C,[["render",VC],["__scopeId","data-v-ca664460"]]);var SC=kC,DC={components:{"reports-table":SC},props:{reportId:{type:String,required:!0},reportName:{type:String,required:!0}},setup(e){const t=Object(a["ref"])({reportId:e.reportId});return{filters:t}}};const $C=y()(DC,[["render",fC]]);var EC=$C;const TC={class:"orangehrm-background-container"},BC={class:"orangehrm-card-container"};function IC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-icon-button"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("report-criterion"),j=Object(a["resolveComponent"])("report-display-field"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("submit-button"),f=Object(a["resolveComponent"])("oxd-form-actions"),y=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",TC,[Object(a["createElementVNode"])("div",BC,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.edit_report")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.report.name=e),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:n.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.selection_criteria")),1)]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=e=>l.report.criterion=e),type:"select",label:e.$t("pim.selection_criteria"),options:l.availableCriteria},null,8,["modelValue","label","options"]),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:l.addCriterion},null,8,["onClick"])]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=e=>l.report.includeEmployees=e),type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.report.criteriaSelected,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:e,operator:l.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":t=>l.report.criteriaFieldValues[e.id].operator=t,valueX:l.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":t=>l.report.criteriaFieldValues[e.id].valueX=t,valueY:l.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":t=>l.report.criteriaFieldValues[e.id].valueY=t,criterion:e,onDelete:e=>l.removeCriterion(t)},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"]))),128))]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.display_fields")),1)]),_:1}),Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=e=>l.report.fieldGroup=e),type:"select",label:e.$t("pim.select_display_field_group"),options:l.availableFieldGroups},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(s,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=e=>l.report.displayField=e),type:"select",label:e.$t("pim.select_display_field"),options:l.availableDisplyFields},null,8,["modelValue","label","options"]),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:l.addDisplayField},null,8,["onClick"])]),_:1})]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.report.fieldGroupSelected,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:e,includeHeader:l.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":t=>l.report.displayFieldSelected[e.id].includeHeader=t,"field-group":e,"selected-fields":l.report.displayFieldSelected[e.id].fields,onDelete:e=>l.removeDisplayFieldGroup(t),onDeleteChip:e=>l.removeDisplayField(e,t)},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"]))),128))]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(v)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var LC={components:{"report-criterion":iC,"report-display-field":uC},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0},reportId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:c,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}=pC(e.selectionCriteria,e.displayFields,e.displayFieldGroups);return{http:t,report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:c,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}},data(){return{isLoading:!1,rules:{name:[io,co(250)],includeEmployees:[io]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount(){this.isLoading=!0,this.http.get(this.reportId).then(e=>{const{data:t}=e.data;this.report.name=t.name,this.report.includeEmployees=this.includeOpts.find(e=>e.key===t.include);const o=[{id:"eq",label:"Equal"},{id:"lt",label:"Less Than"},{id:"gt",label:"Greater Than"},{id:"between",label:"Range"}];for(const a in t.fieldGroup){const e=this.displayFields.find(e=>e.field_group_id==a);this.report.fieldGroupSelected.push(this.displayFieldGroups.find(e=>e.id==a)),this.report.displayFieldSelected[a]={fields:t.fieldGroup[a].fields.map(t=>e.fields.find(e=>e.id===t)),includeHeader:t.fieldGroup[a].includeHeader}}for(const a in t.criteria){const e=this.selectionCriteria.find(e=>e.id==a);this.report.criteriaSelected.push(e),this.report.criteriaFieldValues[a]={valueX:t.criteria[a].x,valueY:"undefined"===t.criteria[a].y?null:t.criteria[a].y,operator:o.find(e=>e.id===t.criteria[a].operator)}}return this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.reportId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/pim/viewDefinedPredefinedReports")},onSave(){if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;const e=this.serializeBody(this.report);this.http.update(this.reportId,e).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/pim/displayPredefinedReport/{id}",{id:this.reportId})})}}};o("4f02");const UC=y()(LC,[["render",IC],["__scopeId","data-v-77eb50cc"]]);var AC=UC;const PC={class:"orangehrm-background-container"},qC={class:"orangehrm-card-container"};function MC(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("password-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",PC,[Object(a["createElementVNode"])("div",qC,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.update_password")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.username")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-user-name",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.userName),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.user.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.currentPassword=e),type:"password",label:e.$t("pim.current_password"),rules:n.rules.currentPassword,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,{password:n.user.password,"onUpdate:password":t[1]||(t[1]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[2]||(t[2]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"]),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const FC={currentPassword:"",password:"",passwordConfirm:""};var zC={components:{"password-input":nl},props:{userName:{type:String,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/core/update-password"),{formRef:t,reset:o}=Xs();return{http:e,formRef:t,reset:o}},data(){return{isLoading:!1,user:{...FC},rules:{currentPassword:[io,co(64)]}}},methods:{onCancel(){window.history.back()},onSave(){this.isLoading=!0,this.http.http.put("api/v2/pim/update-password",{currentPassword:this.user.currentPassword,newPassword:this.user.password}).then(e=>{if(200!==e.status)return this.isLoading=!1,this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.current_password_is_incorrect")}),Promise.reject();this.$toast.saveSuccess()}).then(()=>{this.isLoading=!1,this.reset()})}}};o("33e9");const RC=y()(zC,[["render",MC],["__scopeId","data-v-c7c2326e"]]);var GC=RC,QC={"employee-save":zu,"employee-list":Ob,"employee-personal-details":Np,"employee-contact-details":Ep,"employee-emergency-contacts":Xp,"employee-dependents":jh,"employee-profile-picture":Vh,"employee-salary":Gh,"employee-job":dj,"employee-qualifications":dg,"employee-immigration":kg,"employee-membership":Sv,"termination-reason-list":Av,"termination-reason-edit":Rv,"termination-reason-save":Yv,"reporting-method-list":nf,"reporting-method-edit":uf,"reporting-method-save":gf,"employee-report-to":sv,"custom-field-list":kf,"custom-field-edit":If,"custom-field-save":Ff,"optional-field-list":Zf,"employee-tax-exemption":ny,"employee-data-import":Cy,"employee-report-list":Ay,"employee-report-save":OC,"employee-report-view":EC,"employee-report-edit":AC,"update-password":GC};const HC=e=>(Object(a["pushScopeId"])("data-v-209e18fa"),e=e(),Object(a["popScopeId"])(),e),WC={class:"orangehrm-background-container"},JC={class:"orangehrm-card-container"},YC=HC(()=>Object(a["createElementVNode"])("br",null,null,-1)),XC={class:"orangehrm-support"},KC=["src"],ZC=HC(()=>Object(a["createElementVNode"])("a",{class:"orangehrm-support-link",href:"mailto:ossupport@orangehrm.com"}," ossupport@orangehrm.com ",-1));function eV(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",WC,[Object(a["createElementVNode"])("div",JC,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("help.getting_started_with_orangehrm")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_1")),1)]),_:1}),YC,Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_2")),1)]),_:1}),Object(a["createElementVNode"])("div",XC,[Object(a["createVNode"])(s,{cols:2,class:"orangehrm-support-channel --mail"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("img",{src:n.helpImgSrc,alt:"help image"},null,8,KC)]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-sub-title",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("help.customer_support")),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-support-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("help.contact_us_on_message"))+" ",1),ZC,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("help.we_will_be_delighted_to_help")),1)]),_:1})]),_:1})]),_:1})])])])}var tV={data(){return{helpImgSrc:window.appGlobal.baseUrl+"/../images/help.png"}}};o("c984");const oV=y()(tV,[["render",eV],["__scopeId","data-v-209e18fa"]]);var aV=oV,lV={"view-support":aV};const nV={class:"orangehrm-background-container"},rV={class:"orangehrm-card-container"};function iV(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nV,[Object(a["createElementVNode"])("div",rV,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.timesheet_period_config")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.timeSheetPeriod.startDay,"onUpdate:modelValue":t[0]||(t[0]=e=>n.timeSheetPeriod.startDay=e),type:"select",label:e.$t("time.add_timesheet_period_config"),options:r.days,rules:n.rules.startDay,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const cV={startDay:null};var dV={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/time/time-sheet-period"),{locale:t}=He();return{http:e,locale:t}},data(){return{isLoading:!1,timeSheetPeriod:{...cV},rules:{startDay:[io]}}},computed:{days(){return Array(7).fill("").map((...[,e])=>({id:0===e?7:e,label:this.locale.localize.day(e,{width:"wide"})}))}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then(e=>{const{data:t}=e.data;this.updateTimeSheetPeriodModel(parseInt(t.startDay))}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e;this.isLoading=!0,this.http.request({method:"PUT",data:{startDay:null===(e=this.timeSheetPeriod.startDay)||void 0===e?void 0:e.id}}).then(()=>this.$toast.saveSuccess()).then(()=>{Y("/time/viewEmployeeTimesheet")})},updateTimeSheetPeriodModel(e){this.timeSheetPeriod.startDay=this.days.find(t=>t.id===e)}}};const sV=y()(dV,[["render",iV]]);var mV=sV;const uV={class:"orangehrm-background-container"},bV={class:"orangehrm-paper-container"},pV={class:"orangehrm-header-container"},hV={class:"orangehrm-container"},jV={class:"orangehrm-bottom-container"};function OV(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",uV,[Object(a["createElementVNode"])("div",bV,[Object(a["createElementVNode"])("div",pV,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.customers")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",hV,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","loading","headers","items"])]),Object(a["createElementVNode"])("div",jV,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}const gV={"customer.name":"ASC"};var vV={components:{"delete-confirmation":Yt},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map(t=>{const o=e.unselectableIds.findIndex(e=>e==t.id);return{id:t.id,name:t.name,description:t.description,isSelectable:-1===o}}),{sortDefinition:o,sortField:l,sortOrder:n,onSort:r}=Xt({sortDefinition:gV}),i=Object(a["computed"])(()=>({sortField:l.value,sortOrder:n.value})),c=new K(window.appGlobal.baseUrl,"/api/v2/time/customers"),{showPaginator:d,currentPage:s,total:m,pages:u,pageSize:b,response:p,isLoading:h,execQuery:j}=zt(c,{query:i,normalizer:t});return r(j),{http:c,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:u,pageSize:b,execQuery:j,items:p,sortDefinition:o}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),sortField:"customer.name",style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/time/addCustomer")},onClickEdit(e){Y("/time/addCustomer/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_customer_who_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const fV=y()(vV,[["render",OV]]);var yV=fV;const CV={class:"orangehrm-background-container"},VV={class:"orangehrm-card-container"};function xV(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",CV,[Object(a["createElementVNode"])("div",VV,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.add_customer")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:n.rules.description},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const wV={id:"",name:"",description:""};var NV={setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...wV},rules:{name:[io,co(50),Object(rl["a"])(this.validateCustomerName,500)],description:[co(255)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/time/viewCustomers")},validateCustomerName(e){return new Promise(t=>{e?this.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim()}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const _V=y()(NV,[["render",xV]]);var kV=_V;const SV={class:"orangehrm-background-container"},DV={class:"orangehrm-card-container"};function $V(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",SV,[Object(a["createElementVNode"])("div",DV,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.edit_customer")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const EV={id:"",name:"",description:""};var TV={props:{customerId:{type:String,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...EV},rules:{name:[io,co(50),Object(rl["a"])(this.validateCustomerName,500)],description:[co(255)]}}},created(){this.isLoading=!0,this.http.get(this.customerId).then(e=>{const{data:t}=e.data;this.customer.id=t.id,this.customer.name=t.name,this.customer.description=t.description}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.customerId,{name:this.customer.name,description:this.customer.description}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/time/viewCustomers")},validateCustomerName(e){return new Promise(t=>{e?this.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim(),customerId:this.customerId}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const BV=y()(TV,[["render",$V]]);var IV=BV;const LV={class:"orangehrm-background-container"},UV=Object(a["createElementVNode"])("br",null,null,-1);function AV(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("timesheet-period"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("timesheet"),m=Object(a["resolveComponent"])("timesheet-actions");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",LV,[Object(a["createVNode"])(s,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.my_timesheet")),1)]),_:1})]),"header-options":Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date=t),value:l.timesheetPeriod,onPrevious:l.onClickPrevious,onNext:l.onClickNext},null,8,["modelValue","value","onPrevious","onNext"])]),"footer-title":Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.status"))+": "+Object(a["toDisplayString"])(r.myTimesheetStatus),1)]),_:1},512),[[a["vShow"],e.timesheetStatus]])]),"footer-options":Object(a["withCtx"])(()=>[l.showCreateTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"display-type":"secondary",disabled:l.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:l.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(a["createCommentVNode"])("",!0),l.canEditTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:l.onClickEdit},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),l.canSubmitTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2,"display-type":"secondary",label:e.$t("general.submit"),onClick:l.onClickSubmit},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),UV,e.timesheetId?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(a["createCommentVNode"])("",!0)])}const PV=e=>(Object(a["pushScopeId"])("data-v-5abbcca2"),e=e(),Object(a["popScopeId"])(),e),qV={class:"orangehrm-timesheet-header"},MV={class:"orangehrm-timesheet-header--title"},FV={class:"orangehrm-timesheet-header--options"},zV={key:0,class:"orangehrm-timesheet-loader"},RV={key:1,class:"orangehrm-timesheet-body-message"},GV={key:2,class:"orangehrm-timesheet-body"},QV={class:"orangehrm-timesheet-table-header"},HV={class:"orangehrm-timesheet-table-header-row"},WV={class:"orangehrm-timesheet-table-header-cell"},JV={class:"--day"},YV={key:0,class:"orangehrm-timesheet-table-header-cell --center --freeze-right"},XV={class:"orangehrm-timesheet-table-body"},KV={key:1},ZV={class:"orangehrm-timesheet-table-body-cell"},ex={key:1},tx={key:1},ox={key:0,class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight"},ax={key:1,class:"orangehrm-timesheet-table-body-cell --flex"},lx={key:0,class:"orangehrm-timesheet-table-body-row --total"},nx={class:"orangehrm-timesheet-table-body-cell --freeze-left --highlight"},rx=PV(()=>Object(a["createElementVNode"])("td",null,null,-1)),ix={class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight-2"},cx={key:1,class:"orangehrm-timesheet-table-body-row"},dx={class:"orangehrm-timesheet-table-body-cell --flex"},sx={key:2,class:"orangehrm-timesheet-table-body-row"},mx={colspan:"9",class:"orangehrm-timesheet-table-body-cell"},ux={class:"orangehrm-timesheet-footer"},bx={class:"orangehrm-timesheet-footer--title"},px={class:"orangehrm-timesheet-footer--options"};function hx(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-loading-spinner"),c=Object(a["resolveComponent"])("oxd-alert"),d=Object(a["resolveComponent"])("project-autocomplete"),s=Object(a["resolveComponent"])("activity-dropdown"),m=Object(a["resolveComponent"])("oxd-icon-button"),u=Object(a["resolveComponent"])("oxd-input-field"),b=Object(a["resolveComponent"])("oxd-text"),p=Object(a["resolveComponent"])("timesheet-comment-modal"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{class:"orangehrm-paper-container"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",qV,[Object(a["createElementVNode"])("div",MV,[Object(a["renderSlot"])(e.$slots,"header-title",{},void 0,!0)]),Object(a["createElementVNode"])("div",FV,[Object(a["renderSlot"])(e.$slots,"header-options",{},void 0,!0)])]),o.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zV,[Object(a["createVNode"])(i)])):o.loading||o.columns?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",GV,[Object(a["createElementVNode"])("table",{class:Object(a["normalizeClass"])(r.tableClasses)},[Object(a["createElementVNode"])("thead",QV,[Object(a["createElementVNode"])("tr",HV,[Object(a["createElementVNode"])("th",{class:Object(a["normalizeClass"])(r.fixedColumnClasses)},Object(a["toDisplayString"])(e.$t("time.project")),3),Object(a["createElementVNode"])("th",WV,Object(a["toDisplayString"])(e.$t("time.activity")),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.daysOfWeek,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:e.id,class:"orangehrm-timesheet-table-header-cell --center"},[Object(a["createElementVNode"])("span",JV,Object(a["toDisplayString"])(e.day),1),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.title),1)]))),128)),o.editable?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",YV,Object(a["toDisplayString"])(e.$t("general.total")),1))])]),Object(a["createElementVNode"])("tbody",XV,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.records,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e,class:"orangehrm-timesheet-table-body-row"},[Object(a["createElementVNode"])("td",{class:Object(a["normalizeClass"])(r.fixedCellClasses)},[o.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"only-allowed":!1,rules:n.rules.project,"model-value":r.getProject(e),"onUpdate:modelValue":e=>r.updateProject(e,t)},null,8,["rules","model-value","onUpdate:modelValue"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",KV,Object(a["toDisplayString"])(e.project?`${e.customer.name} - ${e.project.name}`:""),1))],2),Object(a["createElementVNode"])("td",ZV,[o.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,rules:n.rules.activity,"project-id":e.project&&e.project.id,"model-value":r.getActivity(e.activity),"onUpdate:modelValue":e=>r.updateActivity(e,t)},null,8,["rules","project-id","model-value","onUpdate:modelValue"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ex,Object(a["toDisplayString"])(e.activity&&e.activity.name),1))]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.columns,(l,n)=>{var i;return Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{key:`${e.project}_${e.activity}_${n}`,class:Object(a["normalizeClass"])({"orangehrm-timesheet-table-body-cell":!0,"--center":!0,"--duration-input":o.editable,"--highlight-3":!o.editable&&l.workday})},[Object(a["withDirectives"])(Object(a["createVNode"])(m,{"display-type":"secondary",class:"orangehrm-timesheet-icon-comment",name:r.getCommentIcon(e.dates[n]),onMousedown:o=>r.viewComment(e,e.dates[n],t,n)},null,8,["name","onMousedown"]),[[a["vShow"],r.isCommentVisible(e.dates[n],t,n)]]),o.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,autocomplete:"off",rules:r.validateDuration(n),"model-value":r.getDuration(e.dates[n]),onBlur:r.onDurationBlur,onFocus:e=>r.onDurationFocus(t,n),"onUpdate:modelValue":e=>r.updateTime(e,t,n)},null,8,["rules","model-value","onBlur","onFocus","onUpdate:modelValue"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",tx,Object(a["toDisplayString"])(null!==(i=r.getDuration(e.dates[n]))&&void 0!==i?i:"00:00"),1))],2)}),128)),o.editable?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ox,Object(a["toDisplayString"])(e.total.label),1)),o.editable?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ax,[Object(a["createVNode"])(m,{name:"trash",class:"orangehrm-timesheet-icon",onClick:e=>r.deleteRow(t)},null,8,["onClick"])])):Object(a["createCommentVNode"])("",!0)]))),128)),!o.editable&&o.records.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",lx,[Object(a["createElementVNode"])("td",nx,Object(a["toDisplayString"])(e.$t("general.total")),1),rx,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.columns,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{key:"total-"+e,class:"orangehrm-timesheet-table-body-cell --center"},Object(a["toDisplayString"])(e.total.label),1))),128)),Object(a["createElementVNode"])("td",ix,Object(a["toDisplayString"])(o.subtotal),1)])):Object(a["createCommentVNode"])("",!0),o.editable?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",cx,[Object(a["createElementVNode"])("td",dx,[Object(a["createVNode"])(m,{name:"plus",class:"orangehrm-timesheet-icon",onClick:r.addRow},null,8,["onClick"]),Object(a["createVNode"])(b,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.add_row")),1)]),_:1})])])):Object(a["createCommentVNode"])("",!0),0===o.records.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",sx,[Object(a["createElementVNode"])("td",mx,Object(a["toDisplayString"])(e.$t("general.no_records_found")),1)])):Object(a["createCommentVNode"])("",!0)])],2)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",RV,[Object(a["createVNode"])(c,{type:"warn",show:!0,message:e.$t("time.no_timesheets_found")},null,8,["message"])])),Object(a["createElementVNode"])("div",ux,[Object(a["createElementVNode"])("div",bx,[Object(a["renderSlot"])(e.$slots,"footer-title",{},void 0,!0)]),Object(a["createElementVNode"])("div",px,[Object(a["renderSlot"])(e.$slots,"footer-options",{},void 0,!0)])]),n.showCommentModal?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:3,editable:o.editable,data:n.commentModalState,"timesheet-id":o.timesheetId,onClose:r.onCommentModalClose},null,8,["editable","data","timesheet-id","onClose"])):Object(a["createCommentVNode"])("",!0)]),_:3})}function jx(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",options:l.options},null,8,["options"])}var Ox={name:"ActivityDropdown",props:{projectId:{type:Number,required:!1,default:null}},setup(e){const t=Object(a["ref"])([]),o=new K(window.appGlobal.baseUrl,"");return Object(a["watchEffect"])(async()=>{e.projectId?o.request({method:"GET",url:`/api/v2/time/project/${e.projectId}/activities`,params:{limit:0}}).then(({data:e})=>{t.value=e.data.map(e=>({id:e.id,label:e.name,isDeleted:e.deleted}))}):t.value=[]}),{options:t}}};o("bb4b");const gx=y()(Ox,[["render",jx],["__scopeId","data-v-4021874a"]]);var vx=gx;function fx(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",clear:!1,label:e.$t("time.project"),"create-options":r.loadProjects},{option:Object(a["withCtx"])(({data:e})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.label),1)]),_:1},8,["label","create-options"])}var yx={name:"ProjectAutocomplete",props:{onlyAllowed:{type:Boolean,required:!1,default:!0},excludeProjectIds:{type:Array,required:!1,default:()=>[]},excludeCustomerName:{type:Boolean,default:!1}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/time/projects");return{http:e}},methods:{async loadProjects(e){return new Promise(t=>{if(e.trim()){const o={name:this.excludeCustomerName?e.trim():void 0,onlyAllowed:this.onlyAllowed,model:"detailed",excludeProjectIds:this.excludeProjectIds.length>0?this.excludeProjectIds:void 0,customerOrProjectName:this.excludeCustomerName?void 0:e.trim()};this.http.getAll(o).then(({data:e})=>{t(e.data.map(e=>{var t;return{id:e.id,label:this.excludeCustomerName?e.name:`${null===(t=e.customer)||void 0===t?void 0:t.name} - ${e.name}`,_customer:e.customer}}))})}else t([])})}}};o("8dc6");const Cx=y()(yx,[["render",fx],["__scopeId","data-v-3fd08964"]]);var Vx=Cx;const xx={class:"orangehrm-modal-header"};function wx(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",xx,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.comment")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:2,class:"orangehrm-timesheet-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.project"))+": ",1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.projectName),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.activity"))+": ",1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.data.activity.name),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.date"))+": ",1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.commentDate),1)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),type:"textarea",placeholder:e.$t("general.comment_here"),rules:n.rules.comment,disabled:!o.editable},null,8,["modelValue","placeholder","rules","disabled"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["withDirectives"])(Object(a["createVNode"])(b,null,null,512),[[a["vShow"],o.editable]])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}var Nx={name:"TimesheetCommentModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,required:!0},editable:{type:Boolean,required:!0},timesheetId:{type:Number,required:!0}},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/time/timesheets"),{locale:t}=He(),{jsDateFormat:o}=ie();return{http:e,locale:t,jsDateFormat:o}},data(){return{isLoading:!1,comment:null,rules:{comment:[co(2e3)]}}},computed:{projectName(){const{project:e,customer:t}=this.data;return null!==e&&void 0!==e&&e.label?e.label:`${null===t||void 0===t?void 0:t.name} - ${null===e||void 0===e?void 0:e.name}`},commentDate(){const{date:e}=this.data;return e?we(xe(e),this.jsDateFormat,{locale:this.locale}):null}},beforeMount(){var e;null!==(e=this.data)&&void 0!==e&&e.id&&(this.isLoading=!0,this.http.request({method:"GET",url:`api/v2/time/timesheets/${this.timesheetId}/entries/${this.data.id}/comment`}).then(e=>{const{data:t}=e.data;this.comment=null===t||void 0===t?void 0:t.comment}).finally(()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`api/v2/time/timesheets/${this.timesheetId}/entries/comment`,data:{date:this.data.date,comment:this.comment,projectId:this.data.project.id,activityId:this.data.activity.id}}).then(e=>{const{data:t}=e.data;this.$toast.saveSuccess(),this.$emit("close",t)})},onCancel(){this.comment=null,this.$emit("close")}}};o("9082");const _x=y()(Nx,[["render",wx],["__scopeId","data-v-3536e280"]]);var kx=_x,Sx={name:"Timesheet",components:{"oxd-alert":at["a"],"oxd-loading-spinner":Z["a"],"activity-dropdown":vx,"project-autocomplete":Vx,"timesheet-comment-modal":kx},props:{records:{type:Array,default:()=>[]},columns:{type:Object,required:!1,default:()=>null},subtotal:{type:String,required:!1,default:null},editable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},timesheetId:{type:Number,default:null}},emits:["update:records"],data(){return{focusedField:null,showCommentModal:!1,commentModalState:null,rules:{project:[Fo,e=>null!==e||this.$t("time.select_a_project")],activity:[e=>null!==e||this.$t("time.select_an_activity"),e=>this.records.filter(t=>{var o;return(null===(o=t.activity)||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.id)}).length<2||this.$t("time.duplicate_record")]}}},computed:{days(){return this.columns?Object.keys(this.columns):[]},dailyTotals(){const e={};for(const t in this.columns)e[t]=this.records.reduce((e,o)=>{var a;const l=Be(null===(a=o.dates[t])||void 0===a?void 0:a.duration);return l>0?e+l:e},0);return e},daysOfWeek(){const e=[this.$t("general.sun"),this.$t("general.mon"),this.$t("general.tue"),this.$t("general.wed"),this.$t("general.thu"),this.$t("general.fri"),this.$t("general.sat")];return this.days.map(t=>{const o=xe(t,"yyyy-MM-dd");return{id:o.valueOf(),day:o.getDate(),title:e[o.getDay()]}})},tableClasses(){return{"orangehrm-timesheet-table":!0,"--editable":this.editable}},fixedColumnClasses(){return{"orangehrm-timesheet-table-header-cell":!0,"--freeze-left":!this.editable}},fixedCellClasses(){return{"orangehrm-timesheet-table-body-cell":!0,"--freeze-left":!this.editable}}},methods:{deleteRow(e){const t=this.records.filter((t,o)=>o!==e);this.syncRecords(t),this.$nextTick().then(()=>{0===t.length&&this.addRow()})},addRow(){const e=[...this.records,{project:null,activity:null,dates:{}}];this.syncRecords(e)},updateTime(e,t,o){const a=this.records.map((a,l)=>{if(l===t){var n,r;const t={[o]:{date:o,duration:e,id:null===(n=a.dates[o])||void 0===n?void 0:n.id,comment:null===(r=a.dates[o])||void 0===r?void 0:r.comment}};a.dates={...a.dates,...t}}return a});this.syncRecords(a)},updateComment(e,t,o,a){const l=this.records.map((l,n)=>{if(n===o){var r;const o={[a]:{id:e,date:a,comment:t,duration:null===(r=l.dates[a])||void 0===r?void 0:r.duration}};l.dates={...l.dates,...o}}return l});this.syncRecords(l)},updateProject(e,t){const o=this.records.map((o,a)=>(a===t&&(o.project=e||null,o.customer=null!==e&&void 0!==e&&e._customer?e._customer:null),o));this.updateActivity(null,t),this.syncRecords(o)},updateActivity(e,t){const o=this.records.map((o,a)=>(a===t&&(o.activity=e?{id:e.id,name:e.label}:null),o));this.syncRecords(o)},syncRecords(e){this.editable&&this.$emit("update:records",e)},viewComment(e,t,o,a){var l,n;null!==(l=e.project)&&void 0!==l&&l.id&&null!==(n=e.activity)&&void 0!==n&&n.id?(this.commentModalState={date:a,index:o,id:null===t||void 0===t?void 0:t.id,project:e.project,activity:e.activity,customer:e.customer},this.showCommentModal=!0):this.$toast.warn({title:this.$t("general.warning"),message:this.$t("time.select_a_project_and_an_activity")})},onCommentModalClose(e){if(e){const{id:t,comment:o}=e,{index:a,date:l}=this.commentModalState;this.updateComment(t,o,a,l)}this.showCommentModal=!1,this.commentModalState=null},getProject(e){const{project:t,customer:o}=e;return t&&t.label?t:t&&o?{id:t.id,label:`${o.name} - ${t.name}`}:null},getActivity(e){return e?{id:e.id,label:e.name}:null},getDuration(e){return null!==e&&void 0!==e&&e.duration?e.duration:null},getCommentIcon(e){return null!==e&&void 0!==e&&e.comment?"chat-dots-fill":"chat-dots"},isCommentVisible(e,t,o){return!(null===e||void 0===e||!e.comment)||!!this.editable&&(this.focusedField&&this.focusedField.index===t&&this.focusedField.date===o)},onDurationFocus(e,t){this.focusedField={index:e,date:t}},onDurationBlur(){this.focusedField=null},validateDuration(e){const t=e=>""===e||null===e||Be(e)>=0||this.$t("time.should_be_less_than_24_and_in_hh_mm_or_decimal_format"),o=()=>!(this.dailyTotals[e]>86400)||this.$t("time.total_should_be_less_than_24_hours");return[t,o]}}};o("d007");const Dx=y()(Sx,[["render",hx],["__scopeId","data-v-5abbcca2"]]);var $x=Dx;function Ex(e){const t=Object(a["reactive"])({isLoading:!1,employee:null,timesheet:null,timesheetId:null,timesheetRecords:[],timesheetStatus:null,timesheetColumns:null,timesheetSubtotal:null,timesheetAllowedActions:[],date:null}),o=(t,o)=>e.request({method:"GET",url:"/api/v2/time/timesheets/default",params:{date:t,empNumber:o}}),l=(t,o,a,l)=>e.request({method:"PUT",url:l?`api/v2/time/employees/${l}/timesheets/${t}`:"api/v2/time/timesheets/"+t,data:{action:o,comment:a||void 0}}),n=(t,o)=>new Promise(a=>{e.request({method:"GET",url:o?`api/v2/time/employees/timesheets/${t}/entries`:`api/v2/time/timesheets/${t}/entries`}).then(e=>{const{data:t,meta:o}=e.data,{timesheet:l,allowedActions:n}=o;a({data:t,meta:o,timesheet:l,allowedActions:n})})}),r=(t,o,a)=>e.request({method:"PUT",url:a?`api/v2/time/employees/timesheets/${t}/entries`:`api/v2/time/timesheets/${t}/entries`,data:{...o}});return{state:t,fetchTimesheet:o,updateTimesheet:l,fetchTimesheetEntries:n,updateTimesheetEntries:r}}function Tx(e,t,o){const{state:l,fetchTimesheet:n,updateTimesheet:r,fetchTimesheetEntries:i}=Ex(e),{noRecordsFound:c,success:d}=At(),{$t:s}=Ge(),{jsDateFormat:m}=ie(),{locale:u}=He();l.date=t||we(Ve(),"yyyy-MM-dd");const b=e=>{e&&null===xe(e)||(l.isLoading=!0,n(e,o).then(e=>{const{data:t}=e.data;return l.timesheet=t,l.timesheetId=t.id,t.id?i(t.id,void 0!==o):null}).then(e=>{if(null!==e){const{data:t,meta:o,timesheet:a,allowedActions:n}=e;l.timesheetRecords=t,l.employee=o.employee,l.timesheetColumns=o.columns,l.timesheetSubtotal=o.sum.label,l.timesheetStatus=a.status.name,l.timesheetAllowedActions=n,0===t.length&&c()}else l.employee=null,l.timesheetRecords=[],l.timesheetColumns=null,l.timesheetStatus=null,l.timesheetSubtotal=null,l.timesheetAllowedActions=[]}).finally(()=>{l.isLoading=!1}))};Object(a["watchEffect"])(async()=>l.date&&b(l.date));const p=()=>{var e;const t=null!==(e=xe(String(l.date),"yyyy-MM-dd"))&&void 0!==e?e:Ve();t.setDate(t.getDate()-7),l.date=we(t,"yyyy-MM-dd")},h=()=>{var e;const t=null!==(e=xe(String(l.date),"yyyy-MM-dd"))&&void 0!==e?e:Ve();t.setDate(t.getDate()+7),l.date=we(t,"yyyy-MM-dd")},j=()=>{l.timesheetId&&Y("/time/editTimesheet/{id}",{id:l.timesheetId})},O=()=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"SUBMIT",null,o).then(()=>{d({title:s("general.success"),message:s("time.timesheet_submitted")}),l.timesheetId=null,b(l.date)}))},g=()=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"RESET",null,o).then(()=>{d({title:s("general.success"),message:s("time.timesheet_reset")}),l.timesheetId=null,b(l.date)}))},v=e=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"APPROVE",e,o).then(()=>{d({title:s("general.success"),message:s("time.timesheet_approved")}),l.timesheetId=null,b(l.date)}))},f=e=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"REJECT",e,o).then(()=>{d({title:s("general.success"),message:s("time.timesheet_rejected")}),l.timesheetId=null,b(l.date)}))},y=()=>{l.isLoading=!0,e.request({method:"POST",url:o?`api/v2/time/employees/${o}/timesheets`:"/api/v2/time/timesheets",data:{date:l.date}}).then(()=>{d({title:s("general.success"),message:s("time.timesheet_successfully_created")}),b(l.date)})},C=Object(a["computed"])(()=>!l.isLoading&&!l.timesheetId),V=Object(a["computed"])(()=>l.timesheetAllowedActions.find(e=>"SUBMIT"===e.action)),x=Object(a["computed"])(()=>l.timesheetAllowedActions.find(e=>"APPROVE"===e.action)),w=Object(a["computed"])(()=>l.timesheetAllowedActions.find(e=>"REJECT"===e.action)),N=Object(a["computed"])(()=>l.timesheetAllowedActions.find(e=>"RESET"===e.action)),_=Object(a["computed"])(()=>l.timesheetAllowedActions.find(e=>"MODIFY"===e.action)),k=Object(a["computed"])(()=>{var e;const t=null!==(e=xe(String(l.date),"yyyy-MM-dd"))&&void 0!==e?e:Ve();return t>Ve()}),S=Object(a["computed"])(()=>{var e,t;const o=xe((null===(e=l.timesheet)||void 0===e?void 0:e.startDate)||""),a=xe((null===(t=l.timesheet)||void 0===t?void 0:t.endDate)||"");return o&&a?`${we(o,m,{locale:u})} ${s("general.to").toLowerCase()} ${we(a,m,{locale:u})}`:null});return{state:l,onClickEdit:j,onClickNext:h,onClickReset:g,onClickSubmit:O,onClickReject:f,onClickApprove:v,onClickPrevious:p,timesheetPeriod:S,canEditTimesheet:_,canResetTimesheet:N,canSubmitTimesheet:V,canRejectTimesheet:w,canCreateTimesheet:k,canApproveTimesheet:x,showCreateTimesheet:C,onClickCreateTimesheet:y}}const Bx={class:"orangehrm-timeperiod-picker"};function Ix(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon-button"),d=Object(a["resolveComponent"])("date-input");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Bx,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.timesheet_period")),1)]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-timeperiod-icon --prev",name:"chevron-left",onClick:t[0]||(t[0]=t=>e.$emit("previous",t))}),Object(a["createVNode"])(d,Object(a["normalizeProps"])(Object(a["guardReactiveProps"])(e.$attrs)),null,16),Object(a["createVNode"])(c,{class:"orangehrm-timeperiod-icon --next",name:"chevron-right",onClick:t[1]||(t[1]=t=>e.$emit("next",t))})])}var Lx={name:"TimesheetPeriod",inheritAttrs:!1,emits:["previous","next"]};o("e0034");const Ux=y()(Lx,[["render",Ix],["__scopeId","data-v-e0a5176c"]]);var Ax=Ux;const Px={key:0,class:"orangehrm-paper-container"},qx={class:"orangehrm-header-container"},Mx={class:"orangehrm-container"},Fx={class:"orangehrm-bottom-container"},zx={key:1};function Rx(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-card-table"),s=Object(a["resolveComponent"])("oxd-pagination");return l.total>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Px,[Object(a["createElementVNode"])("div",qx,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.actions_performed_on_the_timesheet")),1)]),_:1})]),Object(a["createElementVNode"])("div",Mx,[Object(a["createVNode"])(d,{headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(a["createElementVNode"])("div",Fx,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zx))}var Gx={name:"TimesheetActions",props:{timesheetId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/time/timesheets/${e.timesheetId}/action-logs`),{$t:o}=Ge(),{jsDateFormat:a}=ie(),{locale:l}=He(),n=e=>e.map(e=>{var t,n,r,i;let c,d=null===(t=e.action)||void 0===t?void 0:t.label;const s=null===(n=e.performedEmployee)||void 0===n?void 0:n.firstName,m=null===(r=e.performedEmployee)||void 0===r?void 0:r.lastName;switch(d){case"Submitted":d=o("time.submitted");break;case"Rejected":d=o("leave.rejected");break;case"Not Submitted":d=o("time.not_submitted");break;case"Approved":d=o("time.approved");break}return c=s&&m?`${s} ${m}`:o("general.purged_employee"),null!==(i=e.performedEmployee)&&void 0!==i&&i.terminationId&&(c+=` (${o("general.past_employee")})`),{id:e.id,action:d,date:we(xe(e.date),a,{locale:l}),comment:e.comment,performedBy:c}}),{showPaginator:r,currentPage:i,total:c,pages:d,pageSize:s,response:m,isLoading:u,execQuery:b}=zt(t,{toastNoRecords:!1,normalizer:n});return{http:t,showPaginator:r,currentPage:i,isLoading:u,total:c,pages:d,pageSize:s,execQuery:b,items:m}},data(){return{headers:[{name:"action",slot:"title",title:this.$t("general.actions"),style:{flex:1}},{name:"performedBy",title:this.$t("general.performed_by"),style:{flex:1}},{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}}]}}};const Qx=y()(Gx,[["render",Rx]]);var Hx=Qx,Wx={components:{timesheet:$x,"timesheet-period":Ax,"timesheet-actions":Hx},props:{startDate:{type:String,required:!1,default:null}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),{state:o,onClickEdit:l,onClickNext:n,onClickSubmit:r,onClickPrevious:i,timesheetPeriod:c,canEditTimesheet:d,canSubmitTimesheet:s,canCreateTimesheet:m,showCreateTimesheet:u,onClickCreateTimesheet:b}=Tx(t,e.startDate);return{onClickEdit:l,onClickNext:n,onClickSubmit:r,onClickPrevious:i,...Object(a["toRefs"])(o),timesheetPeriod:c,canEditTimesheet:d,canSubmitTimesheet:s,canCreateTimesheet:m,showCreateTimesheet:u,onClickCreateTimesheet:b}},data(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{myTimesheetStatus(){var e;return(null===(e=this.statuses.find(e=>e.name===this.timesheetStatus))||void 0===e?void 0:e.label)||null}}};const Jx=y()(Wx,[["render",AV]]);var Yx=Jx;const Xx={class:"orangehrm-background-container"};function Kx(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("timesheet");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xx,[Object(a["createVNode"])(d,{records:e.timesheetRecords,"onUpdate:records":t[0]||(t[0]=t=>e.timesheetRecords=t),editable:!0,loading:e.isLoading,"timesheet-id":o.timesheetId,columns:e.timesheetColumns,onSubmitValid:l.onSave},{"header-title":Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.title),1)]),_:1})]),"header-options":Object(a["withCtx"])(()=>[r.timesheetDateRange?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.timesheet_period")),1)]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.timesheetDateRange),1)]),_:1})]),"footer-options":Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(c,{type:"submit","display-type":"secondary",label:e.$t("general.save")},null,8,["label"])]),_:1},8,["records","loading","timesheet-id","columns","onSubmitValid"])])}var Zx={components:{timesheet:$x},props:{myTimesheet:{type:Boolean,default:!1},timesheetId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/time/timesheets");t.setIgnorePath("api/v2/time/timesheets/[0-9]+/entries");let o=[];const{saveSuccess:l}=At(),{state:n,fetchTimesheetEntries:r,updateTimesheetEntries:i}=Ex(t),{jsDateFormat:c}=ie(),{locale:d}=He(),{$tEmpName:s}=za(),m=()=>{n.isLoading=!0,o=[],n.timesheetRecords=[],r(e.timesheetId,!e.myTimesheet).then(e=>{const{data:t,meta:a,timesheet:l,allowedActions:r}=e;n.timesheet=l,n.employee=a.employee,n.timesheetColumns=a.columns,n.timesheetSubtotal=a.sum.label,n.timesheetStatus=l.status.name,n.timesheetAllowedActions=r,t.length>0?(n.timesheetRecords=t,o=JSON.parse(JSON.stringify(t))):(n.timesheetRecords.push({project:null,activity:null,dates:{}}),o.push({project:null,activity:null,dates:{}})),n.isLoading=!1})},u=()=>m(),b=()=>{var t;e.myTimesheet?Y("/time/viewMyTimesheet",{},{startDate:n.timesheet.startDate}):Y("/time/viewTimesheet/employeeId/{id}",{id:null===(t=n.employee)||void 0===t?void 0:t.empNumber},{startDate:n.timesheet.startDate})},p=()=>{n.isLoading=!0;const t={entries:n.timesheetRecords.map(e=>{const t={};for(const o in e.dates){const a=Be(e.dates[o].duration);t[o]={duration:a>0?Te(a):"00:00"}}return{projectId:e.project.id,activityId:e.activity.id,dates:t}}),deletedEntries:o.filter(e=>!!e.project&&n.timesheetRecords.findIndex(t=>t.project.id===e.project.id&&t.activity.id===e.activity.id)<0).map(e=>({projectId:e.project.id,activityId:e.activity.id}))};i(e.timesheetId,t,!e.myTimesheet).then(()=>l()).catch(()=>l()).then(()=>{b()})};return Object(a["onBeforeMount"])(()=>m()),{onSave:p,onClickReset:u,onClickCancel:b,...Object(a["toRefs"])(n),jsDateFormat:c,locale:d,translateEmpName:s}},computed:{title(){if(this.myTimesheet)return this.$t("time.edit_timesheet");if(this.employee){const e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return`${this.$t("time.edit_timesheet_for")} ${e}`}return""},timesheetDateRange(){if(!this.timesheet)return"";const e=we(xe(this.timesheet.startDate),this.jsDateFormat,{locale:this.locale}),t=we(xe(this.timesheet.endDate),this.jsDateFormat,{locale:this.locale});return`${e} - ${t}`}}};o("bc2d");const ew=y()(Zx,[["render",Kx],["__scopeId","data-v-1522fe71"]]);var tw=ew;const ow={class:"orangehrm-background-container"},aw=Object(a["createElementVNode"])("br",null,null,-1),lw={class:"orangehrm-paper-container"},nw={key:0,class:"orangehrm-header-container"},rw={class:"orangehrm-container"},iw={class:"orangehrm-bottom-container"};function cw(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("customer-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("project-autocomplete"),m=Object(a["resolveComponent"])("project-admin-autocomplete"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-divider"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-table-filter"),f=Object(a["resolveComponent"])("table-header"),y=Object(a["resolveComponent"])("oxd-card-table"),C=Object(a["resolveComponent"])("oxd-pagination"),V=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ow,[Object(a["createVNode"])(v,{"filter-title":e.$t("general.projects")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.customer,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.customer=e),rules:n.rules.customer},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.project,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.project=e),"exclude-customer-name":!0,rules:n.rules.project},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.projectAdmin,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.projectAdmin=e),"show-delete":!1,rules:n.rules.projectAdmin},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),Object(a["createVNode"])(j,{label:e.$t("general.search")},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),aw,Object(a["createElementVNode"])("div",lw,[e.$can.create("time_projects")?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nw,[Object(a["createVNode"])(h,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(f,{selected:n.checkedItems.length,loading:l.isLoading,total:l.total,"show-divider":e.$can.create("time_projects"),onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","show-divider","onDelete"]),Object(a["createElementVNode"])("div",rw,[Object(a["createVNode"])(y,{selected:n.checkedItems,"onUpdate:selected":t[3]||(t[3]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[4]||(t[4]=e=>l.sortDefinition=e),headers:r.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card",selectable:e.$can.delete("time_projects")},null,8,["selected","order","headers","items","loading","selectable"])]),Object(a["createElementVNode"])("div",iw,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:0,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(V,{ref:"deleteDialog"},null,512)])}function dw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",clear:!1,label:e.$t("time.customer_name"),"create-options":r.loadCustomers},{option:Object(a["withCtx"])(({data:e})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.label),1)]),_:1},8,["label","create-options"])}var sw={name:"CustomerAutocomplete",setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/time/customers");return{http:e}},methods:{async loadCustomers(e){return new Promise(t=>{e.trim()?this.http.getAll({name:e.trim()}).then(({data:e})=>{t(e.data.map(e=>({id:e.id,label:e.name})))}):t([])})}}};const mw=y()(sw,[["render",dw]]);var uw=mw;const bw={class:"orangehrm-project-admin-input"};function pw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-icon-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bw,[Object(a["createVNode"])(i,Object(a["mergeProps"])({label:o.showDelete?null:e.$t("time.project_admin"),"api-path":"api/v2/time/project-admins",params:{includeEmployees:o.includeEmployees}},e.$attrs),null,16,["label","params"]),o.showDelete?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,name:"trash-fill",class:"orangehrm-project-delete-icon","with-container":!1,onClick:r.remove},null,8,["onClick"])):Object(a["createCommentVNode"])("",!0)])}var hw={name:"ProjectAdminAutocomplete",components:{"employee-autocomplete":Fa},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployees:{type:String,default:"currentAndPast"}},emits:["remove"],methods:{remove(){this.$emit("remove")}}};o("8415");const jw=y()(hw,[["render",pw],["__scopeId","data-v-a7e7f0da"]]);var Ow=jw;const gw={customer:null,project:null,projectAdmin:null},vw={"project.name":"ASC","customer.name":"DEFAULT","employee.lastName":"DEFAULT"};var fw={components:{"project-autocomplete":Vx,"customer-autocomplete":uw,"delete-confirmation":Yt,"project-admin-autocomplete":Ow},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ge(),{$tEmpName:o}=za(),l=a=>a.map(a=>{var l,n,r,i;const c=e.unselectableIds.findIndex(e=>e==a.id);return{id:a.id,project:a.name,customer:null!==(l=a.customer)&&void 0!==l&&l.deleted?(null===(n=a.customer)||void 0===n?void 0:n.name)+t("general.deleted"):null===(r=a.customer)||void 0===r?void 0:r.name,projectAdmins:null===(i=a.projectAdmins)||void 0===i?void 0:i.map(e=>o(e)).join(", "),isSelectable:-1===c}}),n=Object(a["ref"])({...gw}),{sortDefinition:r,sortField:i,sortOrder:c,onSort:d}=Xt({sortDefinition:vw}),s=Object(a["computed"])(()=>{var e,t,o;return{customerId:null===(e=n.value.customer)||void 0===e?void 0:e.id,projectId:null===(t=n.value.project)||void 0===t?void 0:t.id,empNumber:null===(o=n.value.projectAdmin)||void 0===o?void 0:o.id,sortField:i.value,sortOrder:c.value,model:"detailed"}}),m=new K(window.appGlobal.baseUrl,"api/v2/time/projects"),{showPaginator:u,currentPage:b,total:p,pages:h,pageSize:j,response:O,isLoading:g,execQuery:v}=zt(m,{query:s,normalizer:l});return d(v),{http:m,showPaginator:u,currentPage:b,isLoading:g,total:p,pages:h,pageSize:j,execQuery:v,items:O,filters:n,sortDefinition:r}},data(){return{checkedItems:[],rules:{project:[Fo],customer:[Fo],projectAdmin:[Fo]}}},computed:{headers(){const e=[{name:"customer",title:this.$t("time.customer_name"),sortField:"customer.name",style:{flex:"15%"}},{name:"project",slot:"title",title:this.$t("time.project"),sortField:"project.name",style:{flex:"15%"}},{name:"projectAdmins",title:this.$t("time.project_admins"),style:{flex:"20%"}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("time_projects")&&(t.cellConfig.delete={onClick:this.onClickDelete,props:{name:"trash"}}),this.$can.update("time_project_activities")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0&&e.push(t),e}},methods:{onClickAdd(){Y("/time/saveProject")},onClickEdit(e){Y("/time/saveProject/{id}",{id:e.id})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_projects_which_have_time_logged")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData([e.id])})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData(e)})},async deleteData(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const yw=y()(fw,[["render",cw]]);var Cw=yw;const Vw={class:"orangehrm-background-container"},xw={class:"orangehrm-card-container"},ww=Object(a["createElementVNode"])("br",null,null,-1);function Nw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("customer-autocomplete"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("project-admin-autocomplete"),h=Object(a["resolveComponent"])("oxd-form-row"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form"),f=Object(a["resolveComponent"])("add-customer-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Vw,[Object(a["createElementVNode"])("div",xw,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.add_project")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.project.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:n.project.customer,modelValue:n.project.customer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.project.customer=e),rules:n.rules.customer,label:e.$t("time.customer_name"),required:""},null,8,["modelValue","rules","label"])),Object(a["createVNode"])(u,{"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:r.onClickAddCustomer},null,8,["label","onClick"])]),_:1})]),_:1}),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.project.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.project.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description,placeholder:e.$t("general.type_description_here")},null,8,["modelValue","label","rules","placeholder"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.projectAdmins,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:t,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"show-delete":t>0,rules:n.rules.projectAdmin,"include-employees":"onlyCurrent",onRemove:e=>r.onRemoveAdmin(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"]))),128)),n.projectAdmins.length<5?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1}),ww,Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),n.showCustomerModal?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0,onClose:r.onCustomerModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)])}const _w={class:"orangehrm-modal-header"};function kw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form"),h=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",_w,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.add_customer")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:n.rules.description},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,{class:"orangehrm-form-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(u,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const Sw={id:"",name:"",description:""};var Dw={name:"AddCustomerModal",components:{"oxd-dialog":ee["a"]},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...Sw},rules:{name:[io,co(50),Object(rl["a"])(this.validateCustomerName,500)],description:[co(255)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then(e=>{const{data:t}=e.data;this.$toast.saveSuccess(),this.$emit("close",t)})},onCancel(){this.$emit("close")},validateCustomerName(e){return new Promise(t=>{e?this.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim()}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const $w=y()(Dw,[["render",kw]]);var Ew=$w;const Tw={name:null,customer:null,description:null,projectAdminEmpNumbers:[]};var Bw={name:"ProjectSave",components:{"add-customer-modal":Ew,"customer-autocomplete":uw,"project-admin-autocomplete":Ow},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data(){return{isLoading:!1,showCustomerModal:!1,projectAdmins:[{value:null}],project:{...Tw},projectId:null,rules:{name:[io,co(50),Object(rl["a"])(this.validateProjectName,500)],description:[co(255)],customer:[io,Fo],projectAdmin:[Fo,e=>this.projectAdmins.filter(({value:t})=>t&&t.id===(null===e||void 0===e?void 0:e.id)).length<2||this.$t("general.already_exists")]}}},methods:{onClickAddCustomer(){this.showCustomerModal=!0},onCustomerModalClose(e){if(void 0!==e){const{id:t,name:o}=e;this.project.customer={id:t,label:o}}this.showCustomerModal=!1},onAddAnother(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin(e){this.projectAdmins.splice(e,1)},onCancel(){Y("/time/viewProjects")},onSave(){this.isLoading=!0,this.http.create({name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map(({value:e})=>e&&e.id).filter(Number)}).then(e=>{var t;return this.projectId=null===(t=e.data)||void 0===t?void 0:t.data.id,this.$toast.saveSuccess()}).then(()=>{Y("/time/saveProject/{id}",{id:this.projectId})})},validateProjectName(e){return new Promise(t=>{var o;e?this.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectName:this.project.name.trim(),customerId:null===(o=this.project.customer)||void 0===o?void 0:o.id}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const Iw=y()(Bw,[["render",Nw]]);var Lw=Iw;const Uw={class:"orangehrm-background-container"},Aw={class:"orangehrm-card-container"},Pw=Object(a["createElementVNode"])("br",null,null,-1),qw=Object(a["createElementVNode"])("br",null,null,-1);function Mw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("customer-autocomplete"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("project-admin-autocomplete"),h=Object(a["resolveComponent"])("oxd-form-row"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form"),f=Object(a["resolveComponent"])("activities"),y=Object(a["resolveComponent"])("add-customer-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Uw,[Object(a["createElementVNode"])("div",Aw,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.edit_project")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.project.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project.name=e),label:e.$t("general.name"),rules:n.rules.name,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:n.project.customer,modelValue:n.project.customer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.project.customer=e),label:e.$t("time.customer_name"),rules:n.rules.customer,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])),e.$can.update("time_projects")?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:r.onClickAddCustomer},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.project.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.project.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),disabled:!e.$can.update("time_projects"),rules:n.rules.description},null,8,["modelValue","label","placeholder","disabled","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.projectAdmins,(t,o)=>(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:o,modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,rules:n.rules.projectAdmin,"show-delete":o>0&&e.$can.update("time_projects"),disabled:!e.$can.update("time_projects"),"include-employees":"onlyCurrent",onRemove:e=>r.onRemoveAdmin(o)},null,8,["modelValue","onUpdate:modelValue","rules","show-delete","disabled","onRemove"]))),128)),n.projectAdmins.length<5&&e.$can.update("time_projects")?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1}),Pw,Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),e.$can.update("time_projects")?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),qw,Object(a["createVNode"])(f,{"project-id":o.projectId,"unselectable-ids":o.unselectableIds},null,8,["project-id","unselectable-ids"]),n.showCustomerModal?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,onClose:r.onCustomerModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)])}const Fw={class:"orangehrm-paper-container"},zw={class:"orangehrm-header-container"},Rw={class:"orangehrm-main-actions"},Gw={class:"orangehrm-container"},Qw={class:"orangehrm-bottom-container"};function Hw(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation"),p=Object(a["resolveComponent"])("copy-activity-modal"),h=Object(a["resolveComponent"])("save-activity-modal"),j=Object(a["resolveComponent"])("edit-activity-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Fw,[Object(a["createElementVNode"])("div",zw,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.activities")),1)]),_:1}),Object(a["createElementVNode"])("div",Rw,[Object(a["createVNode"])(d,{label:e.$t("time.copy_from"),"display-type":"ghost",onClick:r.onClickCopyFrom},null,8,["label","onClick"]),Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(a["createElementVNode"])("div",Gw,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",Qw,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512),n.showCopyFromModal?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,"project-id":o.projectId,onClose:r.onCloseModal},null,8,["project-id","onClose"])):Object(a["createCommentVNode"])("",!0),n.showSaveActivityModal?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:1,"project-id":o.projectId,onClose:r.onCloseModal},null,8,["project-id","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditActivityModal?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:2,"project-id":o.projectId,"activity-id":n.editActivityModalState,onClose:r.onCloseModal},null,8,["project-id","activity-id","onClose"])):Object(a["createCommentVNode"])("",!0)])}const Ww={class:"orangehrm-modal-header"};function Jw(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("project-autocomplete"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid-item"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Ww,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.copy_activity")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.project,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project=e),rules:n.rules.project,"only-allowed":!1,label:e.$t("time.project_name"),"exclude-project-ids":[o.projectId],required:""},null,8,["modelValue","rules","label","exclude-project-ids"])]),_:1}),n.activities&&n.activities.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(c),Object(a["createVNode"])(b,{cols:2,class:"orangehrm-activites-container"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.activities,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:e.id},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.selectedActivities,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedActivities=e),type:"checkbox",value:e.id,disabled:!e.unique,"option-label":e.name},null,8,["modelValue","value","disabled","option-label"])]),_:2},1024))),128))]),_:1})],64)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}var Yw={name:"CopyActivityModal",components:{"oxd-dialog":ee["a"],"project-autocomplete":Vx},props:{projectId:{type:Number,required:!0}},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"");return{http:e}},data(){return{isLoading:!1,project:null,activities:null,selectedActivities:[],rules:{project:[io,Fo,()=>{if(null!==this.activities&&0===this.activities.length)return this.$t("time.no_assigned_activities");if(Array.isArray(this.activities)&&0===this.selectedActivities.length){const e=this.activities.find(e=>!0===e.unique);return e?this.$t("time.no_activities_selected"):this.$t("general.already_exists")}return!0}]}}},watch:{project(e){this.activities=null,this.selectedActivities=[],e&&(this.isLoading=!0,this.http.request({method:"GET",url:`api/v2/time/projects/${this.projectId}/activities/copy/${e.id}`,params:{limit:0}}).then(e=>{const{data:t}=e.data;this.activities=t,this.selectedActivities=Array.isArray(t)?t.filter(e=>!0===e.unique).map(e=>e.id):[],this.isLoading=!1}))}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"POST",url:`api/v2/time/projects/${this.projectId}/activities/copy/${this.project.id}`,data:{activityIds:this.selectedActivities}}).then(()=>{this.$toast.updateSuccess(),this.onCancel()})},onCancel(){this.$emit("close",!0)}}};o("5132");const Xw=y()(Yw,[["render",Jw],["__scopeId","data-v-5d58b7ae"]]);var Kw=Xw;const Zw={class:"orangehrm-modal-header"};function eN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Zw,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.add_project_activity")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}var tN={name:"SaveActivityModal",components:{"oxd-dialog":ee["a"]},props:{projectId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`);return{http:t}},data(){return{isLoading:!1,name:"",rules:{name:[io,co(100)]}}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;t&&this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());return!(o>-1)||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.name}).then(()=>{this.$toast.saveSuccess(),this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const oN=y()(tN,[["render",eN]]);var aN=oN;const lN={class:"orangehrm-modal-header"};function nN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("required-text"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",lN,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.edit_project_activity")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}var rN={name:"SaveActivityModal",components:{"oxd-dialog":ee["a"]},props:{projectId:{type:Number,required:!0},activityId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`);return{http:t}},data(){return{isLoading:!1,name:"",rules:{name:[io,co(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.activityId).then(e=>{const{data:t}=e.data;return this.name=t.name,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>String(t.name).toLowerCase()==String(e).toLowerCase());if(o>-1){const{id:e}=t[o];return e==this.activityId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.activityId,{name:this.name}).then(()=>{this.$toast.updateSuccess(),this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const iN=y()(rN,[["render",nN]]);var cN=iN,dN={name:"Activities",components:{"copy-activity-modal":Kw,"save-activity-modal":aN,"edit-activity-modal":cN,"delete-confirmation":Yt},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=new K(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`),o=t=>t.map(t=>{const o=e.unselectableIds.findIndex(e=>e==t.id);return{...t,isSelectable:-1===o}}),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(t,{normalizer:o});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("time.activity_name"),style:{"flex-basis":"80%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showCopyFromModal:!1,showSaveActivityModal:!1,showEditActivityModal:!1,editActivityModalState:null}},methods:{onClickAdd(){this.showSaveActivityModal=!0},onClickEdit(e){this.editActivityModalState=e.id,this.showEditActivityModal=!0},onClickCopyFrom(){this.showCopyFromModal=!0},onCloseModal(){this.showCopyFromModal=!1,this.showSaveActivityModal=!1,this.showEditActivityModal=!1,this.resetDataTable()},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_project_activities_which_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>{this.$toast.deleteSuccess(),this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};o("c9ad");const sN=y()(dN,[["render",Hw],["__scopeId","data-v-5eb1b746"]]);var mN=sN;const uN={name:null,customer:{id:null,label:null},description:null,projectAdminEmpNumbers:[]};var bN={name:"ProjectEdit",components:{activities:mN,"add-customer-modal":Ew,"customer-autocomplete":uw,"project-admin-autocomplete":Ow},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data(){return{isLoading:!1,projectAdmins:[{value:null}],project:{...uN},showCustomerModal:!1,rules:{name:[io,co(50)],description:[co(255)],customer:[io,Fo],projectAdmin:[Fo,e=>this.projectAdmins.filter(({value:t})=>t&&t.id===(null===e||void 0===e?void 0:e.id)).length<2||this.$t("general.already_exists")]}}},beforeMount(){this.isLoading=!0;const{$tEmpName:e}=za();this.http.get(this.projectId,{model:"detailed"}).then(t=>{const{data:o}=t.data;this.project.name=o.name,this.project.description=o.description,this.project.customer={id:o.customer.id,label:o.customer.name},Array.isArray(o.projectAdmins)&&o.projectAdmins.length>0&&(this.projectAdmins=o.projectAdmins.map(t=>({value:{id:t.empNumber,label:e(t,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!t.terminationId}})))}).finally(()=>{this.rules.name.push(Object(rl["a"])(this.validateProjectName,500)),this.isLoading=!1})},methods:{onClickAddCustomer(){this.showCustomerModal=!0},onCustomerModalClose(e){if(void 0!==e){const{id:t,name:o}=e;this.project.customer={id:t,label:o}}this.showCustomerModal=!1},onAddAnother(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin(e){this.projectAdmins.splice(e,1)},onCancel(){Y("/time/viewProjects")},onSave(){this.isLoading=!0,this.http.update(this.projectId,{name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map(({value:e})=>e&&e.id).filter(Number)}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},validateProjectName(e){return new Promise(t=>{var o;e?this.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectId:this.projectId,projectName:this.project.name.trim(),customerId:null===(o=this.project.customer)||void 0===o?void 0:o.id}}).then(e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))}):t(!0)})}}};const pN=y()(bN,[["render",Mw]]);var hN=pN;const jN={class:"orangehrm-background-container"},ON={class:"orangehrm-card-container"},gN=Object(a["createElementVNode"])("br",null,null,-1);function vN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("timesheet-pending-actions");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jN,[Object(a["createElementVNode"])("div",ON,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.select_employee")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{onSubmitValid:r.viewTimesheet},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employee=e),rules:n.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{label:e.$t("general.view")},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),gN,Object(a["createVNode"])(O)])}const fN={class:"orangehrm-paper-container"},yN={class:"orangehrm-header-container"},CN={class:"orangehrm-container"},VN={class:"orangehrm-bottom-container"};function xN(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table"),m=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fN,[Object(a["createElementVNode"])("div",yN,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.timesheets_pending_action")),1)]),_:1})]),Object(a["createVNode"])(d,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",CN,[Object(a["createVNode"])(s,{headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(a["createElementVNode"])("div",VN,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])}var wN={name:"TimesheetPendingActions",setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/time/employees/timesheets/list"),{$t:t}=Ge(),{jsDateFormat:o}=ie(),{locale:a}=He(),l=e=>e.map(e=>{var l,n,r,i;const c=we(xe(e.startDate),o,{locale:a}),d=we(xe(e.endDate),o,{locale:a}),s=`${null===(l=e.employee)||void 0===l?void 0:l.firstName} ${null===(n=e.employee)||void 0===n?void 0:n.middleName} ${null===(r=e.employee)||void 0===r?void 0:r.lastName}`;return null!==(i=e.employee)&&void 0!==i&&i.terminationId&&t("general.past_employee"),{id:e.id,startDate:e.startDate,empNumber:e.employee.empNumber,period:`${c} - ${d}`,employee:s}}),{showPaginator:n,currentPage:r,total:i,pages:c,pageSize:d,response:s,isLoading:m,execQuery:u}=zt(e,{normalizer:l});return{http:e,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:c,pageSize:d,execQuery:u,items:s}},data(){return{headers:[{name:"employee",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"period",title:this.$t("time.timesheet_period"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{onClickView(e){Y("/time/viewTimesheet/employeeId/{empNumber}",{empNumber:e.empNumber},{startDate:e.startDate})}}};o("dd80");const NN=y()(wN,[["render",xN],["__scopeId","data-v-4bbedf00"]]);var _N=NN,kN={components:{"employee-autocomplete":Fa,"timesheet-pending-actions":_N},data(){return{employee:null,rules:{employee:[io,Fo]}}},methods:{viewTimesheet(){var e;Y("/time/viewTimesheet/employeeId/{id}",{id:null===(e=this.employee)||void 0===e?void 0:e.id})}}};const SN=y()(kN,[["render",vN]]);var DN=SN;const $N={class:"orangehrm-background-container"},EN=Object(a["createElementVNode"])("br",null,null,-1),TN=Object(a["createElementVNode"])("br",null,null,-1);function BN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("timesheet-period"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("timesheet"),m=Object(a["resolveComponent"])("save-timesheet-action"),u=Object(a["resolveComponent"])("timesheet-actions");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$N,[Object(a["createVNode"])(s,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.title),1)]),_:1})]),"header-options":Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date=t),value:l.timesheetPeriod,onNext:l.onClickNext,onPrevious:l.onClickPrevious},null,8,["modelValue","value","onNext","onPrevious"])]),"footer-title":Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.status"))+": "+Object(a["toDisplayString"])(r.employeeTimesheetStatus),1)]),_:1},512),[[a["vShow"],e.timesheetStatus]])]),"footer-options":Object(a["withCtx"])(()=>[l.showCreateTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"display-type":"secondary",disabled:l.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:l.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(a["createCommentVNode"])("",!0),l.canEditTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:l.onClickEdit},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),l.canResetTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2,"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),l.canSubmitTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:3,"display-type":"secondary",label:e.$t("general.submit"),onClick:l.onClickSubmit},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),EN,e.timesheetId&&(l.canRejectTimesheet||l.canApproveTimesheet)?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:e.timesheetId,"is-loading":e.isLoading,"reject-timesheet":l.onClickReject,"approve-timesheet":l.onClickApprove,"can-reject-timesheet":!!l.canRejectTimesheet,"can-approve-timesheet":!!l.canApproveTimesheet},null,8,["is-loading","reject-timesheet","approve-timesheet","can-reject-timesheet","can-approve-timesheet"])):Object(a["createCommentVNode"])("",!0),TN,e.timesheetId?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(a["createCommentVNode"])("",!0)])}const IN={class:"orangehrm-card-container"};function LN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",IN,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.timesheet_action")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{ref:"formRef",loading:o.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>l.comment=e),type:"textarea",placeholder:e.$t("general.type_here_message"),rules:l.rules.comment,label:e.$t("general.comment")},null,8,["modelValue","placeholder","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[o.canRejectTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:l.onClickReject},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),o.canApproveTimesheet?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1,label:e.$t("general.approve"),"display-type":"success",class:"orangehrm-left-space",onClick:l.onClickApprove},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["loading"])])}var UN={name:"SaveTimesheetAction",props:{isLoading:{type:Boolean,required:!0},rejectTimesheet:{type:Function,required:!0},approveTimesheet:{type:Function,required:!0},canRejectTimesheet:{type:Boolean,required:!0},canApproveTimesheet:{type:Boolean,required:!0}},setup(e){const{formRef:t,invalid:o,validate:l}=Xs(),n=Object(a["ref"])(""),r={comment:[co(250)]},i=()=>{l().then(()=>!1===o.value&&e.approveTimesheet(n.value))},c=()=>{l().then(()=>!1===o.value&&e.rejectTimesheet(n.value))};return{rules:r,comment:n,formRef:t,onClickReject:c,onClickApprove:i}}};const AN=y()(UN,[["render",LN]]);var PN=AN,qN={components:{timesheet:$x,"timesheet-period":Ax,"timesheet-actions":Hx,"save-timesheet-action":PN},props:{employee:{type:Object,required:!0},startDate:{type:String,required:!1,default:null}},setup(e){const t=new K(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),{state:o,onClickEdit:l,onClickNext:n,onClickReset:r,onClickSubmit:i,onClickReject:c,onClickApprove:d,onClickPrevious:s,timesheetPeriod:m,canEditTimesheet:u,canResetTimesheet:b,canSubmitTimesheet:p,canRejectTimesheet:h,canCreateTimesheet:j,canApproveTimesheet:O,showCreateTimesheet:g,onClickCreateTimesheet:v}=Tx(t,e.startDate,e.employee.empNumber),{employee:f,...y}=Object(a["toRefs"])(o),{$tEmpName:C}=za();return{...y,onClickEdit:l,onClickNext:n,onClickReset:r,onClickSubmit:i,onClickReject:c,onClickApprove:d,onClickPrevious:s,timesheetPeriod:m,canEditTimesheet:u,canResetTimesheet:b,canSubmitTimesheet:p,canRejectTimesheet:h,canCreateTimesheet:j,canApproveTimesheet:O,showCreateTimesheet:g,onClickCreateTimesheet:v,translateEmpName:C}},data(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{title(){const e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return`${this.$t("time.timesheet_for")} ${e}`},employeeTimesheetStatus(){var e;return(null===(e=this.statuses.find(e=>e.name===this.timesheetStatus))||void 0===e?void 0:e.label)||null}}};const MN=y()(qN,[["render",BN]]);var FN=MN;const zN=e=>(Object(a["pushScopeId"])("data-v-5f182783"),e=e(),Object(a["popScopeId"])(),e),RN=zN(()=>Object(a["createElementVNode"])("br",null,null,-1));function GN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("project-autocomplete"),u=Object(a["resolveComponent"])("activity-dropdown"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("oxd-text"),h=Object(a["resolveComponent"])("oxd-switch-input"),j=Object(a["resolveComponent"])("oxd-divider"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("oxd-table-filter"),C=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(C,{module:"time",name:"employee",filters:l.serializedFilters,"column-count":3},{default:Object(a["withCtx"])(({generateReport:o})=>[Object(a["createVNode"])(y,{"filter-title":e.$t("time.employee_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.project,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),"only-allowed":!1},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.activity,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.activity=e),label:e.$t("time.activity_name"),"project-id":l.filters.project&&l.filters.project.id},null,8,["modelValue","label","project-id"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.toDate=e),label:" ",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]),_:1}),Object(a["createVNode"])(h,{modelValue:l.filters.timesheetState,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.timesheetState=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(j),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),RN]),footer:Object(a["withCtx"])(({data:t})=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(t.meta?t.meta.sum.label:"0.00"),1)]),_:1},8,["filters"])}const QN={employee:null,project:null,activity:null,fromDate:null,toDate:null,timesheetState:!1};var HN={components:{"reports-table":SC,"oxd-switch-input":Sl["a"],"activity-dropdown":vx,"project-autocomplete":Vx,"employee-autocomplete":Fa},setup(){const e=Object(a["ref"])({...QN}),{$t:t}=Ge(),{userDateFormat:o}=ie(),l={project:[Fo],employee:[io,Fo],fromDate:[so(o),Do(()=>e.value.toDate,t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(o),yo(()=>e.value.fromDate,t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},n=Object(a["computed"])(()=>{var t,o,a;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,projectId:null===(o=e.value.project)||void 0===o?void 0:o.id,activityId:null===(a=e.value.activity)||void 0===a?void 0:a.id,fromDate:e.value.fromDate,toDate:e.value.toDate,timesheetState:e.value.timesheetState?"onlyApproved":"all"}});return{rules:l,filters:e,serializedFilters:n}}};o("a41f");const WN=y()(HN,[["render",GN],["__scopeId","data-v-5f182783"]]);var JN=WN;const YN=e=>(Object(a["pushScopeId"])("data-v-53d175ec"),e=e(),Object(a["popScopeId"])(),e),XN=YN(()=>Object(a["createElementVNode"])("br",null,null,-1));function KN(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("project-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("oxd-text"),b=Object(a["resolveComponent"])("oxd-switch-input"),p=Object(a["resolveComponent"])("oxd-divider"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-table-filter"),f=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(f,{module:"time",name:"project",prefetch:null!==o.project,filters:l.serializedFilters,"column-count":2},{default:Object(a["withCtx"])(({generateReport:o})=>[Object(a["createVNode"])(v,{"filter-title":e.$t("time.project_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.project,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.toDate=e),label:" ",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]),_:1}),Object(a["createVNode"])(b,{modelValue:l.filters.includeTimesheet,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeTimesheet=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),XN]),footer:Object(a["withCtx"])(({data:t})=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(t.meta?t.meta.sum.label:"0.00"),1)]),_:1},8,["prefetch","filters"])}const ZN={project:null,fromDate:null,toDate:null,includeTimesheet:!1};var e_={components:{"reports-table":SC,"oxd-switch-input":Sl["a"],"project-autocomplete":Vx},props:{project:{type:Object,required:!1,default:null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup(e){const t=Object(a["ref"])({...ZN,fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet,...e.project&&{project:e.project}}),{$t:o}=Ge(),{userDateFormat:l}=ie(),n={project:[io,Fo],fromDate:[so(l),Do(()=>t.value.toDate,o("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(l),yo(()=>t.value.fromDate,o("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=Object(a["computed"])(()=>{var e;return{projectId:null===(e=t.value.project)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,includeTimesheet:t.value.includeTimesheet?"onlyApproved":"all"}});return{rules:n,filters:t,serializedFilters:r}}};o("1dc3");const t_=y()(e_,[["render",KN],["__scopeId","data-v-53d175ec"]]);var o_=t_;const a_=e=>(Object(a["pushScopeId"])("data-v-53d35ba4"),e=e(),Object(a["popScopeId"])(),e),l_=a_(()=>Object(a["createElementVNode"])("br",null,null,-1));function n_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("project-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("activity-dropdown"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("date-input"),b=Object(a["resolveComponent"])("oxd-text"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("oxd-table-filter"),C=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(C,{module:"time",name:"activity_detailed",prefetch:!0,filters:l.serializedFilters,"column-count":2},{default:Object(a["withCtx"])(({generateReport:o})=>[Object(a["createVNode"])(y,{"filter-title":e.$t("time.project_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.project,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),required:"",disabled:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.filters.activity,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.activity=e),rules:l.rules.activity,label:e.$t("time.activity_name"),"project-id":l.filters.project&&l.filters.project.id,required:""},null,8,["modelValue","rules","label","project-id"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range"),disabled:""},null,8,["modelValue","placeholder","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.toDate=e),label:" ",placeholder:e.$t("general.to"),rules:l.rules.toDate,disabled:""},null,8,["modelValue","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:l.filters.includeTimesheet,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.includeTimesheet=e),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.back"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(g,{label:e.$t("general.view")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),l_]),footer:Object(a["withCtx"])(({data:t})=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(t.meta?t.meta.sum.label:"0.00"),1)]),_:1},8,["filters"])}const r_={project:null,activity:null,fromDate:null,toDate:null,includeTimesheet:!1};var i_={components:{"reports-table":SC,"oxd-switch-input":Sl["a"],"activity-dropdown":vx,"project-autocomplete":Vx},props:{project:{type:Object,required:!0},activity:{type:Object,required:!0},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup(e){const{$t:t}=Ge(),o=Object(a["ref"])({...r_,fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet,...e.project&&{project:e.project},...e.activity&&{activity:e.activity}}),{userDateFormat:l}=ie(),n={project:[io],activity:[io,Fo],fromDate:[so(l),Do(()=>o.value.toDate,t("attendance.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(l),yo(()=>o.value.fromDate,t("attendance.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=Object(a["computed"])(()=>{var e,t;return{projectId:null===(e=o.value.project)||void 0===e?void 0:e.id,activityId:null===(t=o.value.activity)||void 0===t?void 0:t.id,fromDate:o.value.fromDate,toDate:o.value.toDate,includeTimesheet:o.value.includeTimesheet?"onlyApproved":"all"}}),i=()=>{Y("/time/displayProjectReportCriteria",void 0,{projectId:e.project.id,fromDate:e.fromDate,toDate:e.fromDate,includeTimesheet:e.includeTimesheet?"onlyApproved":"all"})};return{rules:n,filters:o,onClickBack:i,serializedFilters:r}}};o("4138");const c_=y()(i_,[["render",n_],["__scopeId","data-v-53d35ba4"]]);var d_=c_,s_={"time-sheet-period":mV,"customer-list":yV,"customer-save":kV,"customer-edit":IV,"my-timesheet":Yx,"edit-timesheet":tw,"project-list":Cw,"project-save":Lw,"project-edit":hN,"employee-timesheet":DN,"view-employee-timesheet":FN,"employee-time-report":JN,"project-activity-report":o_,"activity-details-report":d_};const m_={class:"orangehrm-background-container"},u_={class:"orangehrm-card-container"};function b_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-input-group"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",m_,[Object(a["createElementVNode"])("div",u_,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.leave_period")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leavePeriod.startMonth,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leavePeriod.startMonth=e),type:"select",options:r.months,rules:n.rules.startMonth,label:e.$t("leave.start_month"),required:""},null,8,["modelValue","options","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leavePeriod.startDay,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leavePeriod.startDay=e),type:"select",options:r.dates,rules:n.rules.startDay,label:e.$t("general.start_date"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{label:e.$t("general.end_date")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.endDay),1)]),_:1})]),_:1},8,["label"])]),_:1}),n.leavePeriod.currentPeriod?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{label:e.$t("leave.current_leave_period")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.leavePeriod.currentPeriod),1)]),_:1})]),_:1},8,["label"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const p_={startMonth:null,startDay:null,currentPeriod:null};var h_={props:{monthDates:{type:Object,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-period"),{jsDateFormat:t}=ie(),{locale:o}=He();return{http:e,jsDateFormat:t,locale:o}},data(){return{isLoading:!1,leavePeriod:{...p_},leavePeriodDefined:!0,rules:{startMonth:[io],startDay:[io]}}},computed:{months(){return Array(12).fill("").map((...[,e])=>({id:e+1,label:this.locale.localize.month(e,{width:"wide"})}))},dates(){var e,t;return(null!==(e=this.monthDates[null===(t=this.leavePeriod.startMonth)||void 0===t?void 0:t.id])&&void 0!==e?e:[]).map(e=>({id:e,label:String(e).padStart(2,"0")}))},endDay(){var e,t;const o=null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,a=null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id,l=(new Date).getFullYear();if(o&&a){const e=Object(fe["a"])(new Date(l,o-1,a),364),t=e.getFullYear()>l;return we(e,"LLLL dd",{locale:this.locale})+(t?` (${this.$t("leave.following_year")})`:"")}return"-"}},watch:{"leavePeriod.startMonth":function(){this.leavePeriod.startDay=this.dates.length>0?this.dates[0]:null}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then(e=>{const{data:t,meta:o}=e.data;this.updateLeavePeriodModel(t),this.defineLeavePeriod(o),this.resetLeavePeriod()}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t;this.isLoading=!0,this.http.request({method:"PUT",data:{startMonth:null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,startDay:null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id}}).then(e=>{const{data:t,meta:o}=e.data;return this.updateLeavePeriodModel(t),this.defineLeavePeriod(o),this.resetLeavePeriod(),this.$toast.saveSuccess()}).then(()=>{this.isLoading=!1,this.leavePeriodDefined||X()})},onClickReset(){this.resetLeavePeriod()},resetLeavePeriod(){this.leavePeriod.startMonth=p_.startMonth,this.$nextTick(()=>{this.leavePeriod.startDay=p_.startDay})},updateLeavePeriodModel(e){p_.startMonth=this.months.find(t=>t.id===e.startMonth),this.$nextTick(()=>{p_.startDay=this.dates.find(t=>t.id===e.startDay)})},defineLeavePeriod(e){if(!0===e.leavePeriodDefined){this.leavePeriodDefined=e.leavePeriodDefined;const t=we(xe(e.currentLeavePeriod.startDate),this.jsDateFormat,{locale:this.locale}),o=we(xe(e.currentLeavePeriod.endDate),this.jsDateFormat,{locale:this.locale});this.leavePeriod.currentPeriod=`${t} ${this.$t("general.to").toLowerCase()} ${o}`}else this.leavePeriodDefined=!1}}};o("1fbc");const j_=y()(h_,[["render",b_],["__scopeId","data-v-2f2450e0"]]);var O_=j_;const g_={class:"orangehrm-background-container"},v_={class:"orangehrm-card-container"};function f_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("leave-conflict"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("leave-balance"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("date-input"),j=Object(a["resolveComponent"])("leave-duration-input"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",g_,[n.showLeaveConflict?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,"workshift-exceeded":n.isWorkShiftExceeded,data:n.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",v_,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.apply_leave")),1)]),_:1}),Object(a["createVNode"])(d),n.isLoading||0!==n.leaveTypes.length?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:1,ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.leave.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leave.type=e),type:"select",rules:n.rules.type,options:n.leaveTypes,label:e.$t("leave.leave_type"),required:""},null,8,["modelValue","rules","options","label"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"leave-data":n.leave},null,8,["leave-data"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.leave.fromDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leave.fromDate=e),label:e.$t("general.from_date"),rules:n.rules.fromDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.leave.toDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leave.toDate=e),label:e.$t("general.to_date"),rules:n.rules.toDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1})]),_:1})]),_:1}),1==r.appliedLeaveDuration?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{duration:n.leave.duration.type,"onUpdate:duration":t[3]||(t[3]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[4]||(t[4]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[5]||(t[5]=e=>n.leave.duration.toTime=e),label:e.$t("general.duration"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),r.appliedLeaveDuration>1?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.leave.partialOptions,"onUpdate:modelValue":t[6]||(t[6]=e=>n.leave.partialOptions=e),type:"select",label:e.$t("leave.partial_days"),options:n.partialOptions},null,8,["modelValue","label","options"])]),_:1}),r.showDuration?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,duration:n.leave.duration.type,"onUpdate:duration":t[7]||(t[7]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[8]||(t[8]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[9]||(t[9]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("general.duration"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0),r.showStartDay?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:1,duration:n.leave.duration.type,"onUpdate:duration":t[10]||(t[10]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[11]||(t[11]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[12]||(t[12]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("leave.start_day"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0),r.showEndDay?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:2,duration:n.leave.endDuration.type,"onUpdate:duration":t[13]||(t[13]=e=>n.leave.endDuration.type=e),fromTime:n.leave.endDuration.fromTime,"onUpdate:fromTime":t[14]||(t[14]=e=>n.leave.endDuration.fromTime=e),toTime:n.leave.endDuration.toTime,"onUpdate:toTime":t[15]||(t[15]=e=>n.leave.endDuration.toTime=e),partial:!0,label:e.$t("leave.end_day"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.leave.comment,"onUpdate:modelValue":t[16]||(t[16]=e=>n.leave.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{label:e.$t("general.apply")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])):(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.no_leave_types_with_leave_balance")),1)]),_:1}))])])}function y_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("time-range"),s=Object(a["resolveComponent"])("oxd-text"),m=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{style:{"grid-column-start":"1"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,Object(a["mergeProps"])({type:"select"},e.$attrs,{options:r.options,"model-value":o.duration,rules:n.rules.duration,"show-empty-selector":o.partial,required:o.partial,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:duration",t))}),null,16,["options","model-value","rules","show-empty-selector","required"])]),_:1}),o.duration&&4===o.duration.id?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(d,{rules:n.rules,"from-time":o.fromTime,"to-time":o.toTime,"work-shift":o.workShift,"onUpdate:fromTime":t[1]||(t[1]=t=>e.$emit("update:fromTime",t)),"onUpdate:toTime":t[2]||(t[2]=t=>e.$emit("update:toTime",t))},null,8,["rules","from-time","to-time","work-shift"]),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{label:e.$t("general.duration")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-leave-duration",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.selectedTimeDuration),1)]),_:1})]),_:1},8,["label"])]),_:1})],64)):Object(a["createCommentVNode"])("",!0)],64)}function C_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("time-input"),c=Object(a["resolveComponent"])("oxd-grid-item");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:e.$t("general.from"),"model-value":o.fromTime,rules:o.rules.fromTime,required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:fromTime",t))},null,8,["label","model-value","rules"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:e.$t("general.to"),"model-value":o.toTime,rules:o.rules.toTime,required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:toTime",t))},null,8,["label","model-value","rules"])]),_:1})],64)}var V_={name:"TimeRange",inheritAttrs:!1,props:{fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},rules:{type:Object,required:!0,default:()=>({})},workShift:{type:Object,required:!0,default:()=>({})}},emits:["update:fromTime","update:toTime"],mounted(){var e,t;null!==(e=this.workShift)&&void 0!==e&&e.startTime&&this.$emit("update:fromTime",this.workShift.startTime),null!==(t=this.workShift)&&void 0!==t&&t.endTime&&this.$emit("update:toTime",this.workShift.endTime)}};const x_=y()(V_,[["render",C_]]);var w_=x_,N_={name:"LeaveDurationInput",components:{"time-range":w_},inheritAttrs:!1,props:{duration:{type:Object,required:!1,default:()=>null},fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},partial:{type:Boolean,default:!1},workShift:{type:Object,required:!0,default:()=>({})}},emits:["update:fromTime","update:toTime","update:duration"],data(){return{rules:{duration:[io],fromTime:[io,uo,Eo(()=>this.toTime,this.$t("general.from_time_should_be_before_to_time"))],toTime:[io,uo,wo(()=>this.fromTime,this.$t("general.to_time_should_be_after_from_time")),e=>{if(e){const t=Ee(this.workShift.startTime,this.workShift.endTime),o=Ee(this.fromTime,e);if(o>t)return this.$t("leave.duration_should_be_less_than_work_shift_length")}return!0}]}}},computed:{selectedTimeDuration(){const e=Ee(this.fromTime,this.toTime);return(e/3600).toFixed(2)},options(){const e=[{id:1,label:this.$t("leave.full_day"),key:"full_day"},{id:2,label:this.$t("leave.half_day_morning"),key:"half_day_morning"},{id:3,label:this.$t("leave.half_day_evening"),key:"half_day_afternoon"},{id:4,label:this.$t("leave.specify_time"),key:"specify_time"}];return this.partial?e.filter(e=>1!=e.id):e}}};o("041f");const __=y()(N_,[["render",y_],["__scopeId","data-v-5caa9281"]]);var k_=__;const S_={class:"orangehrm-leave-balance"};function D_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-label"),c=Object(a["resolveComponent"])("oxd-icon-button"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("oxd-input-group");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(s,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",S_,[Object(a["createVNode"])(i,{label:e.$t("leave.leave_balance")},null,8,["label"]),o.leaveData.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"--help",name:"question-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])):Object(a["createCommentVNode"])("",!0)])]),default:Object(a["withCtx"])(()=>[e.balance>=0?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.leaveBalance),1)]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,class:"orangehrm-leave-balance-text --error",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.balance_not_sufficient")),1)]),_:1}))]),_:1}),e.showModal?(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(l.leaveBalanceModal),{key:0,data:e.data,meta:e.meta,onClose:l.onModalClose},null,40,["data","meta","onClose"])):Object(a["createCommentVNode"])("",!0)],64)}const $_={class:"orangehrm-dialog-header-container"},E_={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},T_={class:"orangehrm-container"},B_={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function I_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",$_,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.leave_balance_details")),1)]),_:1}),Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.as_of_date"))+" - "+Object(a["toDisplayString"])(r.asAtDate),1)]),_:1})]),Object(a["createVNode"])(c,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(a["createElementVNode"])("div",E_,[Object(a["createVNode"])(m,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.employeeName),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{class:"--offset-column-1",label:e.$t("leave.leave_type")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.leaveType),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("leave.total_entitlement")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.totalEntitlement),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("leave.balance")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.leaveBalance),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),Object(a["createElementVNode"])("div",T_,[Object(a["createVNode"])(u,{headers:n.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(a["createElementVNode"])("div",B_,[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])]),_:1})])]),_:1},8,["onUpdate:show"])}var L_={name:"LeaveBalanceModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>null},meta:{type:Object,default:()=>null}},emits:["close"],setup(){const{jsDateFormat:e}=ie(),{locale:t}=He();return{locale:t,jsDateFormat:e}},data(){return{headers:[{title:this.$t("leave.leave_status"),name:"status",slot:"left",style:{flex:1}},{title:this.$t("leave.days"),name:"days",slot:"right",style:{flex:1,textAlign:"right",justifyContent:"flex-end"}}]}},computed:{items(){if(this.data){const{taken:e,scheduled:t,pending:o}=this.data;return[{status:this.$t("leave.taken"),days:e.toFixed(2)},{status:this.$t("leave.scheduled"),days:t.toFixed(2)},{status:this.$t("leave.pending_approval"),days:o.toFixed(2)}]}return[]},asAtDate(){var e;return we(xe(null===(e=this.data)||void 0===e?void 0:e.asAtDate),this.jsDateFormat,{locale:this.locale})},leaveType(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName(){var e;const t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?`${t.firstName} ${t.lastName}\n          ${t.terminationId?this.$t("general.past_employee"):""}`:""},totalEntitlement(){var e;return null!==(e=this.data)&&void 0!==e&&e.entitled?parseFloat(this.data.entitled).toFixed(2)+" Day(s)":"0.00 Day(s)"},leaveBalance(){var e;return null!==(e=this.data)&&void 0!==e&&e.balance?parseFloat(this.data.balance).toFixed(2)+" Day(s)":"0.00 Day(s)"}},methods:{onCancel(){this.$emit("close",!0)}}};o("e30c");const U_=y()(L_,[["render",I_],["__scopeId","data-v-516d2f1f"]]);var A_=U_;const P_={class:"orangehrm-dialog-header-container"},q_={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},M_={class:"orangehrm-container"},F_={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function z_(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-card-table"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",P_,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.insufficient_leave_balance")),1)]),_:1})]),Object(a["createVNode"])(c,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(a["createElementVNode"])("div",q_,[Object(a["createVNode"])(m,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.employeeName),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("leave.leave_type")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.leaveType),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("leave.balance")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.leaveBalance),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),Object(a["createElementVNode"])("div",M_,[Object(a["createVNode"])(u,{headers:n.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(a["createElementVNode"])("div",F_,[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])]),_:1})])]),_:1},8,["onUpdate:show"])}var R_={name:"LeaveBalanceInsufficientModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Array,required:!0},meta:{type:Object,default:()=>null}},emits:["close"],setup(){const{jsDateFormat:e}=ie(),{locale:t}=He();return{locale:t,jsDateFormat:e}},data(){return{headers:[{title:this.$t("leave.leave_period"),name:"period",style:{flex:1}},{title:this.$t("general.date"),name:"date",style:{flex:1}},{title:this.$t("leave.available_balance"),name:"balance",style:{flex:1}}]}},computed:{items(){if(this.data.length>0){const e=this.data.map(e=>e.period);return e.flatMap((e,t)=>this.data[t].leaves.map(t=>{var o;const a=we(xe(e.startDate),this.jsDateFormat,{locale:this.locale}),l=we(xe(e.endDate),this.jsDateFormat,{locale:this.locale}),n=we(xe(t.date),this.jsDateFormat,{locale:this.locale});return{period:`${a} - ${l}`,date:n,balance:(null===(o=t.status)||void 0===o?void 0:o.name)||t.balance.toFixed(2)}}))}return[]},leaveType(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName(){var e;const t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?`${t.firstName} ${t.lastName}\n          ${t.terminationId?this.$t("general.past_employee"):""}`:""},leaveBalance(){var e;return null!==(e=this.data[0])&&void 0!==e&&e.balance?parseFloat(this.data[0].balance.balance).toFixed(2)+" Day(s)":"0.00 Day(s)"}},methods:{onCancel(){this.$emit("close",!0)}}};o("7f87");const G_=y()(R_,[["render",z_],["__scopeId","data-v-4c5cdd43"]]);var Q_=G_;function H_(e){const t=e=>{var t,o,a,l,n,r;const i={leaveTypeId:e.type?e.type.id:1,fromDate:e.fromDate?e.fromDate:"",toDate:e.toDate?e.toDate:"",comment:""===e.comment?null:e.comment,empNumber:e.employee?e.employee.id:void 0};if(e.duration.type){var c;const t={type:null===(c=e.duration.type)||void 0===c?void 0:c.key};"specify_time"===t.type&&(e.duration.fromTime&&(t.fromTime=e.duration.fromTime),e.duration.toTime&&(t.toTime=e.duration.toTime)),i.duration=t}const d=$e(i.fromDate,i.toDate);if(d>1&&e.partialOptions&&(i.partialOption=e.partialOptions.key,e.endDuration.type)){const t={type:e.endDuration.type.key};e.endDuration.fromTime&&(t.fromTime=e.endDuration.fromTime),e.endDuration.toTime&&(t.toTime=e.endDuration.toTime),"start_end"===i.partialOption?i.endDuration=t:"end"===i.partialOption&&(i.duration=t)}return"specify_time"!==(null===(t=i.duration)||void 0===t?void 0:t.type)&&(null!==(o=i.duration)&&void 0!==o&&o.fromTime||null!==(a=i.duration)&&void 0!==a&&a.toTime)&&(i.duration.fromTime=void 0,i.duration.toTime=void 0),"specify_time"!==(null===(l=i.endDuration)||void 0===l?void 0:l.type)&&(null!==(n=i.endDuration)&&void 0!==n&&n.fromTime||null!==(r=i.endDuration)&&void 0!==r&&r.toTime)&&(i.endDuration.fromTime=void 0,i.endDuration.toTime=void 0),i},o=e=>{var t;const o={fromDate:void 0,toDate:void 0,partialOption:void 0,empNumber:null===(t=e.employee)||void 0===t?void 0:t.id};if(e.duration.type&&(o["duration[type]"]=e.duration.type.key,"specify_time"===o["duration[type]"]&&(e.duration.fromTime&&(o["duration[fromTime]"]=e.duration.fromTime),e.duration.toTime&&(o["duration[toTime]"]=e.duration.toTime))),e.fromDate&&e.toDate){o.fromDate=e.fromDate,o.toDate=e.toDate;const t=$e(e.fromDate,e.toDate);t>1&&e.partialOptions&&(o.partialOption=e.partialOptions.key,e.endDuration.type&&("start_end"===o.partialOption?(o["endDuration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(o["endDuration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(o["endDuration[toTime]"]=e.endDuration.toTime)):"end"===o.partialOption&&(o["duration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(o["duration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(o["duration[toTime]"]=e.endDuration.toTime))))}return"specify_time"!==o["duration[type]"]&&(o["duration[fromTime]"]||o["duration[toTime]"])&&(o["duration[fromTime]"]=void 0,o["duration[toTime]"]=void 0),"specify_time"!==o["endDuration[type]"]&&(o["endDuration[fromTime]"]||o["endDuration[toTime]"])&&(o["endDuration[fromTime]"]=void 0,o["endDuration[toTime]"]=void 0),o},a=t=>new Promise((a,l)=>{e.request({method:"GET",url:"api/v2/leave/overlap-leaves",params:o(t)}).then(e=>{const{data:t,meta:o}=e.data;Array.isArray(t)&&t.length>0?a({isConflict:!0,isOverWorkshift:!0===o.isWorkShiftLengthExceeded,data:t}):a({isConflict:!1,isOverWorkshift:!1,data:[]})}).catch(e=>{l(e)})}),l=t=>new Promise((a,l)=>{var n;e.request({method:"GET",url:"api/v2/leave/leave-balance/leave-type/"+(null===(n=t.type)||void 0===n?void 0:n.id),params:o(t)}).then(e=>{let t=0,o=null,l=null;if(200===e.status){const{data:a,meta:i}=e.data;var n;if(l=i,a.balance)o=a.balance,t=null===(n=a.balance)||void 0===n?void 0:n.balance;else if(a.breakdown&&!1===a.negative){var r;o=a.breakdown[0].balance,t=null===(r=a.breakdown[0].balance)||void 0===r?void 0:r.balance}else a.breakdown&&!0===a.negative?(o=a.breakdown,t=-1):(o=null,t=0)}a({balance:t,breakdown:o,metaData:l})}).catch(e=>{l(e)})});return{serializeBody:t,serializeParams:o,validateLeaveBalance:l,validateOverlapLeaves:a}}var W_={name:"LeaveBalance",components:{"oxd-label":em["a"],"leave-balance-modal":A_,"leave-balance-insufficient-modal":Q_},inheritAttrs:!1,props:{leaveData:{type:Object,default:()=>({})}},setup(e){const t=Object(a["reactive"])({data:null,meta:null,balance:0,showModal:!1}),o=new K(window.appGlobal.baseUrl,"api/v2/leave/leave-balance/leave-type");o.setIgnorePath("api/v2/leave/leave-balance/leave-type");const{validateLeaveBalance:l}=H_(o),n=Object(a["computed"])(()=>{var o;return null!==(o=e.leaveData.type)&&void 0!==o&&o.id?t.balance.toFixed(2)+" Day(s)":"0.00 Day(s)"}),r=()=>{t.showModal=!0},i=()=>{t.showModal=!1},c=Object(a["computed"])(()=>Array.isArray(t.data)?"leave-balance-insufficient-modal":"leave-balance-modal");return Object(a["watchPostEffect"])(async()=>{var o;null!==(o=e.leaveData.type)&&void 0!==o&&o.id&&l(e.leaveData).then(({balance:e,breakdown:o,metaData:a})=>{t.balance=e,o&&(t.data=o),a&&(t.meta=a)}).catch(()=>{t.data=null,t.meta=null,t.balance=0})}),{...Object(a["toRefs"])(t),leaveBalance:n,onModalOpen:r,onModalClose:i,leaveBalanceModal:c}}};o("01f0");const J_=y()(W_,[["render",D_],["__scopeId","data-v-e36f7fd8"]]);var Y_=J_;const X_={class:"orangehrm-paper-container"},K_={class:"orangehrm-header-container"},Z_={class:"orangehrm-container"},ek=Object(a["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1),tk=Object(a["createElementVNode"])("br",null,null,-1);function ok(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("table-header"),d=Object(a["resolveComponent"])("oxd-card-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",X_,[Object(a["createElementVNode"])("div",K_,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.header),1)]),_:1})]),Object(a["createVNode"])(c,{loading:!1,selected:0,total:o.data.length},null,8,["total"]),Object(a["createElementVNode"])("div",Z_,[Object(a["createVNode"])(d,{headers:n.headers,items:r.items,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),ek]),tk],64)}var ak={name:"LeaveConflict",props:{workshiftExceeded:{type:Boolean,default:!1},data:{type:Array,required:!0}},setup(){const{jsDateFormat:e}=ie(),{locale:t}=He();return{locale:t,jsDateFormat:e}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"hours",title:this.$t("leave.no_of_hours"),style:{flex:1}},{name:"type",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}}]}},computed:{header(){return this.workshiftExceeded?this.$t("leave.workshift_length_exceeded_due_to_the_following_leave_request"):this.$t("leave.overlapping_leave_request_found")},items(){return this.data.map(e=>{var t,o,a;return{date:we(xe(e.date),this.jsDateFormat,{locale:this.locale}),hours:parseFloat(e.lengthHours).toFixed(2),type:null===(t=e.leaveType)||void 0===t?void 0:t.name,status:null===(o=e.status)||void 0===o?void 0:o.name,comments:null===(a=e.lastComment)||void 0===a?void 0:a.comment}})}}};const lk=y()(ak,[["render",ok]]);var nk=lk;const rk={type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}};var ik={name:"LeaveApply",components:{"leave-duration-input":k_,"leave-balance":Y_,"leave-conflict":nk},props:{workShift:{type:Object,default:()=>({})}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/leave/leave-requests"),{serializeBody:t,validateOverlapLeaves:o}=H_(e),{formRef:a,reset:l}=Xs(),{userDateFormat:n}=ie();return{http:e,reset:l,formRef:a,serializeBody:t,userDateFormat:n,validateOverlapLeaves:o}},data(){return{isLoading:!1,leave:{...rk},rules:{type:[io],fromDate:[io,so(this.userDateFormat)],toDate:[io,so(this.userDateFormat),yo(()=>this.leave.fromDate,this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[co(250)]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:[...HO()],leaveTypes:[]}},computed:{appliedLeaveDuration(){return $e(this.leave.fromDate,this.leave.toDate)},showDuration(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-types/eligible"}).then(e=>{const{data:t}=e.data;this.leaveTypes=t.map(e=>({id:e.id,label:e.name}))}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.showLeaveConflict=!1,this.leaveConflictData=null,this.validateOverlapLeaves(this.leave).then(({isConflict:e,isOverWorkshift:t,data:o})=>e?(this.leaveConflictData=o,this.showLeaveConflict=!0,this.isWorkShiftExceeded=t,Promise.reject()):this.http.create(this.serializeBody(this.leave))).then(()=>{this.$toast.saveSuccess(),this.reset()}).catch(()=>{this.showLeaveConflict&&this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.failed_to_submit")})}).finally(()=>{this.isLoading=!1})}}};const ck=y()(ik,[["render",f_]]);var dk=ck;const sk={class:"orangehrm-background-container"},mk={class:"orangehrm-card-container"};function uk(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("leave-conflict"),c=Object(a["resolveComponent"])("leave-assign-confirm-modal"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("oxd-divider"),m=Object(a["resolveComponent"])("employee-autocomplete"),u=Object(a["resolveComponent"])("oxd-grid-item"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("leave-type-dropdown"),j=Object(a["resolveComponent"])("leave-balance"),O=Object(a["resolveComponent"])("date-input"),g=Object(a["resolveComponent"])("leave-duration-input"),v=Object(a["resolveComponent"])("oxd-input-field"),f=Object(a["resolveComponent"])("required-text"),y=Object(a["resolveComponent"])("submit-button"),C=Object(a["resolveComponent"])("oxd-form-actions"),V=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sk,[n.showLeaveConflict?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,"workshift-exceeded":n.isWorkShiftExceeded,data:n.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c,{ref:"confirmDialog"},null,512),Object(a["createElementVNode"])("div",mk,[Object(a["createVNode"])(d,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.assign_leave")),1)]),_:1}),Object(a["createVNode"])(s),Object(a["createVNode"])(V,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.leave.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leave.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.leave.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leave.type=e),rules:n.rules.type,"eligible-only":!1,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{"leave-data":n.leave},null,8,["leave-data"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:n.leave.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leave.fromDate=e),label:e.$t("general.from_date"),rules:n.rules.fromDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:n.leave.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leave.toDate=e),label:e.$t("general.to_date"),rules:n.rules.toDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1})]),_:1})]),_:1}),1==r.appliedLeaveDuration?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{duration:n.leave.duration.type,"onUpdate:duration":t[4]||(t[4]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[5]||(t[5]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[6]||(t[6]=e=>n.leave.duration.toTime=e),label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),r.appliedLeaveDuration>1?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{modelValue:n.leave.partialOptions,"onUpdate:modelValue":t[7]||(t[7]=e=>n.leave.partialOptions=e),type:"select",label:e.$t("leave.partial_days"),options:n.partialOptions},null,8,["modelValue","label","options"])]),_:1}),r.showDuration?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0,duration:n.leave.duration.type,"onUpdate:duration":t[8]||(t[8]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[9]||(t[9]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[10]||(t[10]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0),r.showStartDay?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:1,duration:n.leave.duration.type,"onUpdate:duration":t[11]||(t[11]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[12]||(t[12]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[13]||(t[13]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("leave.start_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0),r.showEndDay?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:2,duration:n.leave.endDuration.type,"onUpdate:duration":t[14]||(t[14]=e=>n.leave.endDuration.type=e),fromTime:n.leave.endDuration.fromTime,"onUpdate:fromTime":t[15]||(t[15]=e=>n.leave.endDuration.fromTime=e),toTime:n.leave.endDuration.toTime,"onUpdate:toTime":t[16]||(t[16]=e=>n.leave.endDuration.toTime=e),partial:!0,label:e.$t("leave.end_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{modelValue:n.leave.comment,"onUpdate:modelValue":t[17]||(t[17]=e=>n.leave.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(s),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f),Object(a["createVNode"])(y,{label:e.$t("leave.assign")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const bk={key:0,class:"deleted-tag"};function pk(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("leave.leave_type"),options:l.options,"show-empty-selector":o.showEmptySelector},{afterSelected:Object(a["withCtx"])(({data:t})=>[t.isDeleted?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.deleted")),1)],64)):Object(a["createCommentVNode"])("",!0)]),option:Object(a["withCtx"])(({data:t})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.label),1),t.isDeleted?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bk,Object(a["toDisplayString"])(e.$t("general.deleted")),1)):Object(a["createCommentVNode"])("",!0)]),_:1},8,["label","options","show-empty-selector"])}var hk={name:"LeaveTypeDropdown",props:{eligibleOnly:{type:Boolean,default:!0},employeeId:{type:Number,required:!1,default:null},showEmptySelector:{type:Boolean,default:!0},includeAllocated:{type:Boolean,default:!1}},setup(e,t){const o=Object(a["ref"])([]),l=new K(window.appGlobal.baseUrl,"api/v2/leave/leave-types"+(e.eligibleOnly?"/eligible":""));return Object(a["watchEffect"])(async()=>{!e.eligibleOnly&&e.includeAllocated&&console.error("`includeAllocated` prop can true only if `eligibleOnly` prop true"),l.getAll({empNumber:e.employeeId,includeAllocated:!(!e.eligibleOnly||!e.includeAllocated)||void 0,...!1===e.eligibleOnly&&{limit:0}}).then(({data:a})=>{o.value=a.data.map(e=>({id:e.id,label:e.name,isDeleted:e.deleted})),!e.showEmptySelector&&o.value.length>0&&t.emit("update:modelValue",o.value[0])})}),{options:o}}};o("9580");const jk=y()(hk,[["render",pk],["__scopeId","data-v-37dd8659"]]);var Ok=jk;const gk={class:"orangehrm-modal-header"},vk={class:"orangehrm-text-center-align"},fk={class:"orangehrm-modal-footer"};function yk(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",gk,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.confirm_leave_assignment")),1)]),_:1})]),Object(a["createElementVNode"])("div",vk,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.employee_does_not_have_enough_balance_for_leave_request"))+" "+Object(a["toDisplayString"])(e.$t("leave.click_ok_to_confirm_leave_assignment")),1)]),_:1})]),Object(a["createElementVNode"])("div",fk,[Object(a["createVNode"])(c,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:r.onConfirm},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var Ck={name:"LeaveAssignConfirmModal",components:{"oxd-dialog":ee["a"]},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("22ca");const Vk=y()(Ck,[["render",yk],["__scopeId","data-v-4dec572c"]]);var xk=Vk;const wk={employee:null,type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},Nk={startTime:"9:00",endTime:"17:00"};var _k={name:"LeaveAssign",components:{"leave-type-dropdown":Ok,"leave-duration-input":k_,"leave-balance":Y_,"employee-autocomplete":Fa,"leave-conflict":nk,"leave-assign-confirm-modal":xk},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/leave/employees/leave-requests"),{serializeBody:t,validateLeaveBalance:o,validateOverlapLeaves:a}=H_(e),{formRef:l,reset:n}=Xs(),{userDateFormat:r}=ie();return{http:e,reset:n,formRef:l,serializeBody:t,userDateFormat:r,validateLeaveBalance:o,validateOverlapLeaves:a}},data(){return{isLoading:!1,leave:{...wk},rules:{type:[io],fromDate:[io,so(this.userDateFormat)],toDate:[io,so(this.userDateFormat),yo(()=>this.leave.fromDate,this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[co(250)],employee:[io,Fo]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:[...HO()],workShift:{...Nk}}},computed:{appliedLeaveDuration(){return $e(this.leave.fromDate,this.leave.toDate)},showDuration(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay(){var e;const t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{"leave.employee":function(e){null!==e&&void 0!==e&&e.id?this.http.request({method:"GET",url:`api/v2/pim/employees/${e.id}/work-shift`}).then(e=>{const{data:t}=e.data;this.workShift=t}):this.workShift={...Nk}},appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},methods:{onSave(){this.isLoading=!0,this.leaveConflictData=null,this.showLeaveConflict=!1,this.validateLeaveBalance(this.leave).then(async({balance:e})=>{if(e<=0){const e=await this.$refs.confirmDialog.showDialog();if("ok"!==e)return Promise.reject()}return this.validateOverlapLeaves(this.leave)}).then(({isConflict:e,isOverWorkshift:t,data:o})=>e?(this.leaveConflictData=o,this.showLeaveConflict=!0,this.isWorkShiftExceeded=t,Promise.reject()):this.http.create(this.serializeBody(this.leave))).then(()=>{this.$toast.saveSuccess(),this.reset()}).catch(()=>{this.showLeaveConflict&&this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.failed_to_submit")})}).finally(()=>{this.isLoading=!1})}}};const kk=y()(_k,[["render",uk]]);var Sk=kk;const Dk={class:"orangehrm-background-container"},$k={class:"orangehrm-paper-container"},Ek={class:"orangehrm-header-container"},Tk={class:"orangehrm-container"},Bk={class:"orangehrm-bottom-container"};function Ik(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Dk,[Object(a["createElementVNode"])("div",$k,[Object(a["createElementVNode"])("div",Ek,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.leave_types")),1)]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",Tk,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(a["createElementVNode"])("div",Bk,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Lk={components:{"delete-confirmation":Yt},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-types"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:c}=zt(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:c,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:6}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/leave/defineLeaveType")},onClickEdit(e){Y("/leave/defineLeaveType/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Uk=y()(Lk,[["render",Ik]]);var Ak=Uk;const Pk={class:"orangehrm-background-container"},qk={class:"orangehrm-card-container"},Mk={class:"label-is-entitlement-situational"};function Fk(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-label"),u=Object(a["resolveComponent"])("oxd-icon-button"),b=Object(a["resolveComponent"])("oxd-input-group"),p=Object(a["resolveComponent"])("oxd-grid-item"),h=Object(a["resolveComponent"])("oxd-grid"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("entitlement-situational-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pk,[Object(a["createElementVNode"])("div",qk,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.edit_leave_type")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveType.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Mk,[Object(a["createVNode"])(m,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(a["createVNode"])(u,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:r.onModalOpen},null,8,["onClick"])])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"]),n.showModal?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,onClose:r.onModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)])])}const zk={class:"orangehrm-modal-header"},Rk={class:"orangehrm-text-center-align"},Gk={class:"orangehrm-modal-footer"};function Qk(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-form-actions"),s=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",zk,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.situational_leave")),1)]),_:1})]),Object(a["createElementVNode"])("div",Rk,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.entitlement_situational_description")),1)]),_:1})]),Object(a["createElementVNode"])("div",Gk,[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])]),_:1})])]),_:1},8,["onUpdate:show"])}var Hk={name:"EntitlementSituationalModal",components:{"oxd-dialog":ee["a"]},emits:["close"],methods:{onCancel(){this.$emit("close",!0)}}};o("7b6b");const Wk=y()(Hk,[["render",Qk],["__scopeId","data-v-049f37ee"]]);var Jk=Wk;const Yk={id:"",name:"",situational:""};var Xk={components:{"oxd-label":em["a"],"entitlement-situational-modal":Jk},props:{leaveTypeId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data(){return{showModal:!1,isLoading:!1,leaveType:{...Yk},rules:{name:[io,co(50)]}}},created(){this.isLoading=!0,this.http.get(this.leaveTypeId).then(e=>{const{data:t}=e.data;return this.leaveType.id=t.id,this.leaveType.name=t.name,this.leaveType.situational=t.situational,this.http.getAll()}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);if(o>-1){const{id:e}=t[o];return e==this.leaveTypeId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.leaveTypeId,{name:this.leaveType.name,situational:this.leaveType.situational}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/leave/leaveTypeList")},onModalOpen(){this.showModal=!0},onModalClose(){this.showModal=!1}}};o("6533");const Kk=y()(Xk,[["render",Fk],["__scopeId","data-v-10a4c0fa"]]);var Zk=Kk;const eS={class:"orangehrm-background-container"},tS={class:"orangehrm-card-container"},oS={class:"label-is-entitlement-situational"};function aS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-label"),u=Object(a["resolveComponent"])("oxd-icon-button"),b=Object(a["resolveComponent"])("oxd-input-group"),p=Object(a["resolveComponent"])("oxd-grid-item"),h=Object(a["resolveComponent"])("oxd-grid"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("entitlement-situational-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",eS,[Object(a["createElementVNode"])("div",tS,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.add_leave_type")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveType.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",oS,[Object(a["createVNode"])(m,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(a["createVNode"])(u,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:r.onModalOpen},null,8,["onClick"])])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"]),n.showModal?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,onClose:r.onModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)])])}const lS={id:"",name:"",situational:!1};var nS={components:{"oxd-label":em["a"],"entitlement-situational-modal":Jk},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data(){return{showModal:!1,isLoading:!1,leaveType:{...lS},rules:{name:[io,co(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.leaveType.name,situational:this.leaveType.situational}).then(()=>this.$toast.saveSuccess()).then(()=>{this.leaveType={...lS},this.onCancel()})},onCancel(){Y("/leave/leaveTypeList")},onModalOpen(){this.showModal=!0},onModalClose(){this.showModal=!1}}};o("f482");const rS=y()(nS,[["render",aS],["__scopeId","data-v-f177f4b2"]]);var iS=rS;const cS={class:"orangehrm-background-container"},dS={class:"orangehrm-card-container"};function sS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-input-group"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("employee-autocomplete"),h=Object(a["resolveComponent"])("leave-type-dropdown"),j=Object(a["resolveComponent"])("leave-period-dropdown"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("submit-button"),f=Object(a["resolveComponent"])("oxd-form-actions"),y=Object(a["resolveComponent"])("oxd-form"),C=Object(a["resolveComponent"])("entitlement-update-modal"),V=Object(a["resolveComponent"])("entitlement-bulk-update-modal"),x=Object(a["resolveComponent"])("entitlement-no-match-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",cS,[Object(a["createElementVNode"])("div",dS,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.add_leave_entitlement")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{label:e.$t("leave.add_to"),classes:{wrapper:"--grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveEntitlement.bulkAssign=e),type:"radio","option-label":e.$t("leave.individual_employee"),value:"0"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveEntitlement.bulkAssign=e),type:"radio","option-label":e.$t("leave.multiple_employees"),value:"1"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),0==n.leaveEntitlement.bulkAssign?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.leaveEntitlement.employee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveEntitlement.employee=e),params:{includeEmployees:"currentAndPast"},rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.location,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leaveEntitlement.location=e),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.subunit,"onUpdate:modelValue":t[4]||(t[4]=e=>n.leaveEntitlement.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(m,{class:"orangehrm-leave-entitled"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-entitled-text",type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.matches_emp_count_employees",{empMatchCount:n.empMatchCount})),1)]),_:1})]),_:1})]),_:1})]),_:1})),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.leaveEntitlement.leaveType,"onUpdate:modelValue":t[5]||(t[5]=e=>n.leaveEntitlement.leaveType=e),"empty-text":e.$t("leave.no_leave_types_defined"),rules:n.rules.leaveType,"eligible-only":!1,required:""},null,8,["modelValue","empty-text","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{modelValue:n.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[6]||(t[6]=e=>n.leaveEntitlement.leavePeriod=e),rules:n.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.entitlement,"onUpdate:modelValue":t[7]||(t[7]=e=>n.leaveEntitlement.entitlement=e),rules:n.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(v)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(C,{ref:"updateModal",data:n.leaveEntitlement},null,8,["data"]),Object(a["createVNode"])(V,{ref:"bulkUpdateModal",data:n.leaveEntitlement},null,8,["data"]),Object(a["createVNode"])(x,{ref:"noMatchModal"},null,512)])}function mS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("leave.leave_period"),options:l.options,"model-value":l.selectedPeriod,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["label","options","model-value"])}var uS={name:"LeavePeriodDropdown",props:{modelValue:{type:Object,default:null}},emits:["update:modelValue"],setup(e){const t=Object(a["ref"])([]),o=new K(window.appGlobal.baseUrl,"api/v2/leave/leave-periods"),{jsDateFormat:l}=ie(),{locale:n}=He();Object(a["onBeforeMount"])(()=>{o.getAll().then(({data:e})=>{t.value=e.data.map(e=>{const t=we(xe(e.startDate),l,{locale:n}),o=we(xe(e.endDate),l,{locale:n});return{id:`${e.startDate}_${e.endDate}`,label:`${t} - ${o}`,startDate:e.startDate,endDate:e.endDate}})})});const r=Object(a["computed"])(()=>t.value.find(t=>{var o;return t.id===(null===(o=e.modelValue)||void 0===o?void 0:o.id)}));return{options:t,selectedPeriod:r}}};const bS=y()(uS,[["render",mS]]);var pS=bS;const hS={class:"orangehrm-modal-header"},jS={class:"orangehrm-text-center-align"},OS={class:"orangehrm-modal-footer"};function gS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",hS,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.updating_entitlement")),1)]),_:1})]),Object(a["createElementVNode"])("div",jS,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.entitlement_value_confirmation_message",{oldvalue:n.current,newvalue:n.updateAs})),1)]),_:1})]),Object(a["createElementVNode"])("div",OS,[Object(a["createVNode"])(c,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.confirm"),onClick:r.onConfirm},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var vS={name:"EntitlementUpdateModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"");return{http:e}},data(){return{show:!1,reject:null,resolve:null,current:"0.00",updateAs:"0.00"}},methods:{showDialog(){var e,t,o,a;return this.http.request({method:"GET",url:`api/v2/leave/employees/${null===(e=this.data.employee)||void 0===e?void 0:e.id}/leave-entitlements`,params:{leaveTypeId:null===(t=this.data.leaveType)||void 0===t?void 0:t.id,fromDate:null===(o=this.data.leavePeriod)||void 0===o?void 0:o.startDate,toDate:null===(a=this.data.leavePeriod)||void 0===a?void 0:a.endDate,entitlement:this.data.entitlement}}).then(e=>{var t,o;const{data:a}=e.data;return this.current=null!==(t=a.entitlement)&&void 0!==t&&t.current?parseFloat(a.entitlement.current).toFixed(2):"0.00",this.updateAs=null!==(o=a.entitlement)&&void 0!==o&&o.updateAs?parseFloat(a.entitlement.updateAs).toFixed(2):"0.00",new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})})},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("fcee");const fS=y()(vS,[["render",gS],["__scopeId","data-v-f63c979a"]]);var yS=fS;const CS={class:"orangehrm-dialog-header-container"},VS={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},xS={class:"orangehrm-container"},wS={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function NS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-card-table"),s=Object(a["resolveComponent"])("oxd-button"),m=Object(a["resolveComponent"])("submit-button"),u=Object(a["resolveComponent"])("oxd-form-actions"),b=Object(a["resolveComponent"])("oxd-dialog");return n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",CS,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.updating_entitlement"))+" - "+Object(a["toDisplayString"])(e.$t("leave.matching_employees")),1)]),_:1})]),Object(a["createVNode"])(c,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(a["createElementVNode"])("div",VS,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.selected_leave_entitlement_applied_to_following_employees")),1)]),_:1})]),Object(a["createElementVNode"])("div",xS,[Object(a["createVNode"])(d,{headers:n.headers,items:n.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(a["createElementVNode"])("div",wS,[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(m,{label:e.$t("general.confirm"),onClick:r.onConfirm},null,8,["label","onClick"])]),_:1})])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)}var _S={name:"EntitlementBulkUpdateModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/employees/leave-entitlements");return{http:e}},data(){return{show:!1,reject:null,resolve:null,headers:[{title:this.$t("general.employee"),name:"employee",slot:"title",style:{flex:1}},{title:this.$t("leave.old_entitlement"),name:"current",style:{flex:1}},{title:this.$t("leave.new_entitlement"),name:"updateAs",style:{flex:1}}],items:[]}},methods:{showDialog(){var e,t,o,a,l;return this.http.getAll({leaveTypeId:null===(e=this.data.leaveType)||void 0===e?void 0:e.id,fromDate:null===(t=this.data.leavePeriod)||void 0===t?void 0:t.startDate,toDate:null===(o=this.data.leavePeriod)||void 0===o?void 0:o.endDate,entitlement:this.data.entitlement,locationId:null===(a=this.data.location)||void 0===a?void 0:a.id,subunitId:null===(l=this.data.subunit)||void 0===l?void 0:l.id}).then(e=>{const{data:t}=e.data;return this.items=Array.isArray(t)?t.map(e=>{var t,o;return{employee:`${e.firstName} ${e.lastName}`,current:null!==(t=e.entitlement)&&void 0!==t&&t.current?parseFloat(e.entitlement.current).toFixed(2):"0.00",updateAs:null!==(o=e.entitlement)&&void 0!==o&&o.updateAs?parseFloat(e.entitlement.updateAs).toFixed(2):"0.00"}}):[],new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})})},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("a6a3");const kS=y()(_S,[["render",NS],["__scopeId","data-v-d7507442"]]);var SS=kS;const DS={class:"orangehrm-modal-header"},$S={class:"orangehrm-text-center-align"},ES={class:"orangehrm-modal-footer"};function TS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",DS,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.no_matching_employees")),1)]),_:1})]),Object(a["createElementVNode"])("div",$S,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.no_employees_match_filters")),1)]),_:1})]),Object(a["createElementVNode"])("div",ES,[Object(a["createVNode"])(c,{"display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var BS={name:"EntitlementNoMatchModal",components:{"oxd-dialog":ee["a"]},data(){return{show:!1}},methods:{showDialog(){this.show=!0},onCancel(){this.show=!1}}};o("f46d");const IS=y()(BS,[["render",TS],["__scopeId","data-v-1e5306f8"]]);var LS=IS;const US={bulkAssign:0,employee:null,leaveType:null,leavePeriod:null,entitlement:"",subunit:null,location:null};var AS={components:{"leave-type-dropdown":Ok,"leave-period-dropdown":pS,"employee-autocomplete":Fa,"entitlement-update-modal":yS,"entitlement-bulk-update-modal":SS,"entitlement-no-match-modal":LS},props:{locations:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");return{http:e}},data(){return{isLoading:!1,leaveEntitlement:{...US},leavePeriodDefined:!1,rules:{employee:[io,Fo],leaveType:[io],leavePeriod:[io],entitlement:[io,e=>/^\d+(\.\d{1,2})?$/.test(e)||this.$t("leave.should_be_a_number_with_2_decimal_places"),bo(1e4)]},empMatchCount:0}},watch:{"leaveEntitlement.location":"fetchEmployeeCount","leaveEntitlement.subunit":"fetchEmployeeCount"},beforeMount(){this.fetchEmployeeCount(),this.leavePeriod&&(this.leaveEntitlement.leavePeriod=this.leavePeriod)},methods:{onCancel(){Y("/leave/viewLeaveEntitlements")},async onSave(){var e,t,o;let a=null;this.isLoading=!0;const l=1==this.leaveEntitlement.bulkAssign;if(l){if(0===this.empMatchCount)return this.isLoading=!1,this.$refs.noMatchModal.showDialog();a=await this.$refs.bulkUpdateModal.showDialog()}else a=await this.$refs.updateModal.showDialog();if("ok"!==a)return void(this.isLoading=!1);const n={empNumber:void 0,bulkAssign:void 0,locationId:void 0,subunitId:void 0,leaveTypeId:null===(e=this.leaveEntitlement.leaveType)||void 0===e?void 0:e.id,fromDate:null===(t=this.leaveEntitlement.leavePeriod)||void 0===t?void 0:t.startDate,toDate:null===(o=this.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.endDate,entitlement:this.leaveEntitlement.entitlement};var r,i,c;l?(n.bulkAssign=!0,n.locationId=null===(r=this.leaveEntitlement.location)||void 0===r?void 0:r.id,n.subunitId=null===(i=this.leaveEntitlement.subunit)||void 0===i?void 0:i.id):n.empNumber=null===(c=this.leaveEntitlement.employee)||void 0===c?void 0:c.id;this.http.create(n).then(e=>{let t=null,o=null;const{data:a}=e.data;return Array.isArray(a)?t=this.$toast.success({title:this.$t("general.success"),message:this.$t("leave.entitlement_added_to_n_employees",{count:a.length})}):(o={empNumber:a.employee.empNumber,leaveTypeId:a.leaveType.id,startDate:a.fromDate,endDate:a.toDate},t=this.$toast.saveSuccess()),new Promise(e=>{t.then(()=>{e(o)})})}).then(e=>{e?Y("/leave/viewLeaveEntitlements",void 0,e):Y("/leave/viewLeaveEntitlements")})},async fetchEmployeeCount(){var e,t;this.http.request({method:"GET",url:"api/v2/pim/employees/count",params:{locationId:null===(e=this.leaveEntitlement.location)||void 0===e?void 0:e.id,subunitId:null===(t=this.leaveEntitlement.subunit)||void 0===t?void 0:t.id}}).then(e=>{const{data:t}=e.data;this.empMatchCount=parseInt(t.count)})}}};o("f13a");const PS=y()(AS,[["render",sS],["__scopeId","data-v-55086e39"]]);var qS=PS;const MS={class:"orangehrm-background-container"},FS={class:"orangehrm-card-container"};function zS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("leave-type-dropdown"),p=Object(a["resolveComponent"])("oxd-input-field"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",MS,[Object(a["createElementVNode"])("div",FS,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.edit_leave_entitlement")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.leaveEntitlement.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveEntitlement.employee=e),disabled:"",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.leaveEntitlement.leaveType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveEntitlement.leaveType=e),"eligible-only":!1,required:"",disabled:""},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveEntitlement.leavePeriod=e),type:"select",label:e.$t("leave.leave_period"),options:n.leavePeriods,rules:n.rules.leavePeriod,required:""},null,8,["modelValue","label","options","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.leaveEntitlement.entitlement,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leaveEntitlement.entitlement=e),rules:n.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const RS={employee:null,leaveType:null,leavePeriod:null,entitlement:""};var GS={components:{"leave-type-dropdown":Ok,"employee-autocomplete":Fa},props:{entitlementId:{type:String,required:!0},employee:{type:Object,default:()=>({})}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");e.setIgnorePath("api/v2/leave/leave-entitlements/[0-9]+/validation/entitlements");const{jsDateFormat:t}=ie(),{locale:o}=He();return{http:e,jsDateFormat:t,locale:o}},data(){return{isLoading:!1,leaveEntitlement:{...RS},rules:{employee:[io,Fo],leaveType:[io],leavePeriod:[io],entitlement:[io,e=>/^\d+(\.\d{1,2})?$/.test(e)||this.$t("leave.should_be_a_number_with_2_decimal_places"),bo(1e4),Object(rl["a"])(this.validateEntitlement,500)]},leavePeriods:[]}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then(({data:e})=>(this.leavePeriods=e.data.map(e=>{const t=we(xe(e.startDate),this.jsDateFormat,{locale:this.locale}),o=we(xe(e.endDate),this.jsDateFormat,{locale:this.locale});return{id:`${e.startDate}_${e.endDate}`,label:`${t} - ${o}`,startDate:e.startDate,endDate:e.endDate}}),this.http.get(this.entitlementId))).then(e=>{const{data:t}=e.data;this.leaveEntitlement.employee={id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.lastName}`,isPastEmployee:t.employee.terminationId},this.leaveEntitlement.leaveType={id:t.leaveType.id,label:t.leaveType.name},this.leaveEntitlement.leavePeriod=this.leavePeriods.find(e=>e.id===`${t.fromDate}_${t.toDate}`),this.leaveEntitlement.entitlement=t.entitlement}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){var e,t,o,a;Y("/leave/viewLeaveEntitlements",void 0,{empNumber:null===(e=this.leaveEntitlement.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(t=this.leaveEntitlement.leaveType)||void 0===t?void 0:t.id,startDate:null===(o=this.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.startDate,endDate:null===(a=this.leaveEntitlement.leavePeriod)||void 0===a?void 0:a.endDate})},onSave(){var e,t;this.isLoading=!0;const o={fromDate:null===(e=this.leaveEntitlement.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(t=this.leaveEntitlement.leavePeriod)||void 0===t?void 0:t.endDate,entitlement:this.leaveEntitlement.entitlement};this.http.update(this.entitlementId,o).then(()=>{this.$toast.updateSuccess(),this.onCancel()})},validateEntitlement(e){const t=parseFloat(e);return new Promise(e=>{isNaN(t)?e(!0):this.http.request({method:"GET",url:`api/v2/leave/leave-entitlements/${this.entitlementId}/validation/entitlements`,params:{entitlement:t}}).then(t=>{const{data:o}=t.data;return!0===o.valid?e(!0):e(this.$t("leave.used_amount_exceeds_the_current_amount"))})})}}};const QS=y()(GS,[["render",zS]]);var HS=QS;function WS(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("leave-type-dropdown"),s=Object(a["resolveComponent"])("leave-period-dropdown"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form"),g=Object(a["resolveComponent"])("oxd-table-filter"),v=Object(a["resolveComponent"])("leave-entitlement-table");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{prefetch:!1},{default:Object(a["withCtx"])(({filters:t,filterItems:o})=>[Object(a["createVNode"])(g,{"filter-title":e.$t("leave.leave_entitlements")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.employee,"onUpdate:modelValue":e=>t.employee=e,rules:n.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:t.leavePeriod,"onUpdate:modelValue":e=>t.leavePeriod=e,"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(b),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"])]),_:1})}const JS={class:"orangehrm-background-container"},YS=Object(a["createElementVNode"])("br",null,null,-1),XS={key:0,class:"orangehrm-paper-container"},KS={class:"orangehrm-header-container"},ZS={class:"orangehrm-container"},eD={class:"orangehrm-bottom-container"};function tD(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",JS,[Object(a["renderSlot"])(e.$slots,"default",{filters:l.filters,filterItems:r.filterItems}),YS,l.showDatatable?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",XS,[Object(a["createElementVNode"])("div",KS,[Object(a["createElementVNode"])("div",null,[e.$can.create("leave_entitlements")?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(d,{tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.totalEntitlements),1)]),_:1})]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",ZS,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:e.$can.delete("leave_entitlements"),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(a["createElementVNode"])("div",eD,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var oD={name:"LeaveEntitlementTable",components:{"delete-confirmation":Yt},props:{prefetch:{type:Boolean,default:!0},employee:{type:Object,required:!1,default:()=>null},leaveType:{type:Object,required:!1,default:()=>null},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(e){const t=Object(a["ref"])({leaveType:e.leaveType?e.leaveType:null,leavePeriod:e.leavePeriod?e.leavePeriod:null,employee:e.employee?{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}:null}),o=Object(a["computed"])(()=>{var e,o,a,l;return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(o=t.value.leaveType)||void 0===o?void 0:o.id,fromDate:null===(a=t.value.leavePeriod)||void 0===a?void 0:a.startDate,toDate:null===(l=t.value.leavePeriod)||void 0===l?void 0:l.endDate}}),l=new K(window.appGlobal.baseUrl,"api/v2/leave/leave-entitlements"),{$t:n}=Ge(),{jsDateFormat:r}=ie(),{locale:i}=He(),c=e=>e.map(e=>({id:e.id,leaveType:e.leaveType.name+""+(e.leaveType.deleted?n("general.deleted"):""),entitlementType:e.entitlementType.name,fromDate:we(xe(e.fromDate),r,{locale:i}),toDate:we(xe(e.toDate),r,{locale:i}),days:e.entitlement,isSelectable:e.deletable})),{showPaginator:d,currentPage:s,total:m,pages:u,pageSize:b,response:p,isLoading:h,execQuery:j}=zt(l,{query:o,normalizer:c,prefetch:e.employee||e.prefetch}),O=Object(a["computed"])(()=>{var e;const t=null!==(e=p.value.meta)&&void 0!==e&&e.sum?p.value.meta.sum:0;return`Total ${parseFloat(t).toFixed(2)} Day(s)`}),g=Object(a["computed"])(()=>void 0!==p.value.data);return{http:l,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:u,pageSize:b,execQuery:j,items:p,filters:t,totalEntitlements:O,showDatatable:g}},data(){return{checkedItems:[]}},computed:{headers(){const e=[{name:"leaveType",slot:"title",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"entitlementType",title:this.$t("leave.entitlement_type"),style:{flex:1}},{name:"fromDate",title:this.$t("leave.valid_from"),style:{flex:1}},{name:"toDate",title:this.$t("leave.valid_to"),style:{flex:1}},{name:"days",title:this.$t("leave.days"),style:{flex:1}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("leave_entitlements")&&(t.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("leave_entitlements")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0?e.concat([t]):e}},methods:{onClickAdd(){Y("/leave/addLeaveEntitlement")},onClickEdit(e){Y("/leave/editLeaveEntitlement/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){if(!e.isSelectable)return this.$toast.error({title:this.$t("general.error"),message:this.$t("leave.entitlements_will_not_be_deleted_since_already_in_use")});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const aD=y()(oD,[["render",tD]]);var lD=aD,nD={components:{"leave-entitlement-table":lD,"employee-autocomplete":Fa,"leave-type-dropdown":Ok,"leave-period-dropdown":pS},data(){return{rules:{employee:[io,Fo]}}}};const rD=y()(nD,[["render",WS]]);var iD=rD;function cD(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("leave-type-dropdown"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("leave-period-dropdown"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("leave-entitlement-table");return Object(a["openBlock"])(),Object(a["createBlock"])(O,null,{default:Object(a["withCtx"])(({filters:t,filterItems:o})=>[Object(a["createVNode"])(j,{"filter-title":e.$t("leave.my_leave_entitlements")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:t.leavePeriod,"onUpdate:modelValue":e=>t.leavePeriod=e,"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"])]),_:1})}var dD={components:{"leave-entitlement-table":lD,"leave-type-dropdown":Ok,"leave-period-dropdown":pS}};const sD=y()(dD,[["render",cD]]);var mD=sD;const uD={class:"orangehrm-background-container"},bD={class:"orangehrm-card-container"};function pD(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",uD,[Object(a["createElementVNode"])("div",bD,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.work_week")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.monday,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workWeek.monday=e),type:"select",options:o.dayTypes,rules:n.rules.monday,label:e.$t("general.monday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.tuesday,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workWeek.tuesday=e),type:"select",options:o.dayTypes,rules:n.rules.tuesday,label:e.$t("general.tuesday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.wednesday,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workWeek.wednesday=e),type:"select",options:o.dayTypes,rules:n.rules.wednesday,label:e.$t("general.wednesday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.thursday,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workWeek.thursday=e),type:"select",options:o.dayTypes,rules:n.rules.thursday,label:e.$t("general.thursday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.friday,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workWeek.friday=e),type:"select",options:o.dayTypes,rules:n.rules.friday,label:e.$t("general.friday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.saturday,"onUpdate:modelValue":t[5]||(t[5]=e=>n.workWeek.saturday=e),type:"select",options:o.dayTypes,rules:n.rules.saturday,label:e.$t("general.saturday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.workWeek.sunday,"onUpdate:modelValue":t[6]||(t[6]=e=>n.workWeek.sunday=e),type:"select",options:o.dayTypes,rules:n.rules.sunday,label:e.$t("general.sunday"),required:""},null,8,["modelValue","options","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const hD={monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null};var jD={props:{dayTypes:{type:Array,default:()=>[]}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/workweek");return{http:e}},data(){return{isLoading:!1,workWeek:{...hD},rules:{monday:[io],tuesday:[io],wednesday:[io],thursday:[io],friday:[io],saturday:[io],sunday:[io]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then(e=>{const{data:t}=e.data;this.workWeek.monday=this.dayTypes.find(e=>e.id===t.monday),this.workWeek.tuesday=this.dayTypes.find(e=>e.id===t.tuesday),this.workWeek.wednesday=this.dayTypes.find(e=>e.id===t.wednesday),this.workWeek.thursday=this.dayTypes.find(e=>e.id===t.thursday),this.workWeek.friday=this.dayTypes.find(e=>e.id===t.friday),this.workWeek.saturday=this.dayTypes.find(e=>e.id===t.saturday),this.workWeek.sunday=this.dayTypes.find(e=>e.id===t.sunday)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){const e=Object.values(this.workWeek).find(e=>8!==e.id);if(void 0===e)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.at_least_one_day_should_be_a_working_day")});this.isLoading=!0,this.http.request({method:"PUT",data:{monday:this.workWeek.monday.id,tuesday:this.workWeek.tuesday.id,wednesday:this.workWeek.wednesday.id,thursday:this.workWeek.thursday.id,friday:this.workWeek.friday.id,saturday:this.workWeek.saturday.id,sunday:this.workWeek.sunday.id}}).then(()=>{this.$toast.saveSuccess(),this.isLoading=!1})}}};const OD=y()(jD,[["render",pD]]);var gD=OD;const vD={class:"orangehrm-background-container"},fD=Object(a["createElementVNode"])("br",null,null,-1),yD={class:"orangehrm-paper-container"},CD={class:"orangehrm-header-container"},VD={class:"orangehrm-container"},xD={class:"orangehrm-bottom-container"};function wD(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("date-input"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("table-header"),g=Object(a["resolveComponent"])("oxd-card-table"),v=Object(a["resolveComponent"])("oxd-pagination"),f=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vD,[Object(a["createVNode"])(j,{"filter-title":e.$t("leave.holidays")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),fD,Object(a["createElementVNode"])("div",yD,[Object(a["createElementVNode"])("div",CD,[Object(a["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(O,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",VD,[Object(a["createVNode"])(g,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",xD,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(f,{ref:"deleteDialog"},null,512)])}var ND={components:{"delete-confirmation":Yt},props:{leavePeriod:{type:Object,required:!0}},setup(e){const t=Object(a["ref"])({fromDate:e.leavePeriod.startDate,toDate:e.leavePeriod.endDate}),o=Object(a["computed"])(()=>({fromDate:t.value.fromDate,toDate:t.value.toDate})),{jsDateFormat:l,userDateFormat:n}=ie(),{locale:r}=He(),i=e=>e.map(e=>({id:e.id,name:e.name,date:we(xe(e.date),l,{locale:r}),recurring:e.recurring?"Yes":"No",length:e.lengthName})),c=new K(window.appGlobal.baseUrl,"api/v2/leave/holidays"),{showPaginator:d,currentPage:s,total:m,pages:u,pageSize:b,response:p,isLoading:h,execQuery:j}=zt(c,{query:o,normalizer:i});return{http:c,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:u,pageSize:b,execQuery:j,items:p,filters:t,userDateFormat:n}},data(){return{yearArray:[...HO(201)],rules:{fromDate:[io,so(this.userDateFormat)],toDate:[io,so(this.userDateFormat),yo(()=>this.filters.fromDate,this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"date",title:this.$t("general.date"),style:{flex:2}},{name:"length",title:this.$t("leave.full_day_half_day"),style:{flex:2}},{name:"recurring",title:this.$t("leave.repeats_annually"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/leave/saveHolidays")},onClickEdit(e){Y("/leave/saveHolidays/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const _D=y()(ND,[["render",wD]]);var kD=_D;const SD={class:"orangehrm-background-container"},DD={class:"orangehrm-card-container"};function $D(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",SD,[Object(a["createElementVNode"])("div",DD,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.add_holiday")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.holiday.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=e=>n.holiday.date=e),label:e.$t("general.date"),rules:n.rules.date,years:n.yearArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=e=>n.holiday.length=e),type:"select",label:e.$t("leave.full_day_half_day"),options:o.holidayLengthList,rules:n.rules.length,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const ED={name:"",date:"",recurring:!1,length:{id:0,label:"Full Day"}};var TD={props:{holidayLengthList:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),{userDateFormat:t}=ie();return{http:e,userDateFormat:t}},data(){return{yearArray:[...HO(201)],isLoading:!1,holiday:{...ED},rules:{name:[io,co(200)],date:[io,so(this.userDateFormat)],length:[io]},errors:[]}},created(){this.isLoading=!0;const e=new Date,t=e.getFullYear()-100+"-"+(e.getMonth()+1)+"-"+e.getDate(),o=e.getFullYear()+100+"-"+(e.getMonth()+1)+"-"+e.getDate();this.http.getAll({fromDate:t,toDate:o,limit:0}).then(e=>{const{data:t}=e.data;this.rules.date.push(e=>{const o=t.findIndex(t=>t.date==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then(()=>this.$toast.saveSuccess()).then(()=>{this.holiday={...ED},this.onCancel()})},onCancel(){Y("/leave/viewHolidayList")}}};o("1414");const BD=y()(TD,[["render",$D],["__scopeId","data-v-69b04d8f"]]);var ID=BD;const LD={class:"orangehrm-background-container"},UD={class:"orangehrm-card-container"};function AD(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-input-group"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",LD,[Object(a["createElementVNode"])("div",UD,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.edit_holiday")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.holiday.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=e=>n.holiday.date=e),label:e.$t("general.date"),rules:n.rules.date,years:n.yearArray,required:""},null,8,["modelValue","label","rules","years"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=e=>n.holiday.length=e),type:"select",label:e.$t("leave.full_day_half_day"),options:o.holidayLengthList,rules:n.rules.length,required:""},null,8,["modelValue","label","options","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(a["createVNode"])(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const PD={id:"",name:"",date:"",recurring:!1,length:0};var qD={props:{holidayId:{type:Number,required:!0},holidayLengthList:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),{userDateFormat:t}=ie();return{http:e,userDateFormat:t}},data(){return{yearArray:[...HO(201)],isLoading:!1,holiday:{...PD},rules:{name:[io,co(200)],date:[io,so(this.userDateFormat)],length:[io]}}},created(){this.isLoading=!0,this.http.get(this.holidayId).then(e=>{const{data:t}=e.data;this.holiday.id=t.id,this.holiday.name=t.name,this.holiday.date=t.date,this.holiday.recurring=t.recurring,""!==t.length&&null!==t.length&&(this.holiday.length=this.holidayLengthList.find(e=>e.id===t.length));const o=new Date,a=o.getFullYear()-100+"-"+(o.getMonth()+1)+"-"+o.getDate(),l=o.getFullYear()+100+"-"+(o.getMonth()+1)+"-"+o.getDate();return this.http.getAll({fromDate:a,toDate:l,limit:0})}).then(e=>{const{data:t}=e.data;this.rules.date.push(e=>{const o=t.findIndex(t=>t.date===e);if(o>-1){const e=t[o].id;return e==this.holidayId||this.$t("general.already_exists")}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.holidayId,{name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},onCancel(){Y("/leave/viewHolidayList")}}};o("590a");const MD=y()(qD,[["render",AD],["__scopeId","data-v-cd6212e8"]]);var FD=MD;function zD(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("date-input"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("leave-type-dropdown"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("employee-autocomplete"),p=Object(a["resolveComponent"])("oxd-text"),h=Object(a["resolveComponent"])("oxd-switch-input"),j=Object(a["resolveComponent"])("oxd-divider"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("oxd-table-filter"),C=Object(a["resolveComponent"])("leave-list-table");return Object(a["openBlock"])(),Object(a["createBlock"])(C,{"leave-statuses":o.leaveStatuses},{default:Object(a["withCtx"])(({filters:t,filterItems:l,rules:n,onReset:r})=>[Object(a["createVNode"])(y,{"filter-title":e.$t("leave.leave_list")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{onSubmitValid:l,onReset:r},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.fromDate,"onUpdate:modelValue":e=>t.fromDate=e,label:e.$t("general.from_date"),rules:n.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.toDate,"onUpdate:modelValue":e=>t.toDate=e,label:e.$t("general.to_date"),rules:n.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:t.statuses,"onUpdate:modelValue":e=>t.statuses=e,value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:o.leaveStatuses,rules:n.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:t.employee,"onUpdate:modelValue":e=>t.employee=e,rules:n.employee,params:{includeEmployees:t.includePastEmps?"currentAndPast":"onlyCurrent"}},null,8,["modelValue","onUpdate:modelValue","rules","params"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:t.subunit,"onUpdate:modelValue":e=>t.subunit=e,type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","onUpdate:modelValue","label","options"])]),_:2},1024),Object(a["createVNode"])(c,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.include_past_employees")),1)]),_:1}),Object(a["createVNode"])(h,{modelValue:t.includePastEmps,"onUpdate:modelValue":e=>t.includePastEmps=e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(j),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid","onReset"])]),_:2},1032,["filter-title"])]),_:1},8,["leave-statuses"])}const RD=e=>(Object(a["pushScopeId"])("data-v-251469ca"),e=e(),Object(a["popScopeId"])(),e),GD={class:"orangehrm-background-container"},QD=RD(()=>Object(a["createElementVNode"])("br",null,null,-1)),HD={class:"orangehrm-paper-container"},WD={class:"orangehrm-container"},JD={class:"orangehrm-bottom-container"};function YD(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("leave-list-table-header"),d=Object(a["resolveComponent"])("oxd-card-table"),s=Object(a["resolveComponent"])("oxd-pagination"),m=Object(a["resolveComponent"])("leave-comment-modal"),u=Object(a["resolveComponent"])("leave-bulk-action-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",GD,[Object(a["renderSlot"])(e.$slots,"default",{filters:l.filters,rules:l.rules,filterItems:r.filterItems,onReset:r.onReset},void 0,!0),QD,Object(a["createElementVNode"])("div",HD,[Object(a["createVNode"])(c,{selected:l.checkedItems.length,total:l.total,loading:l.isLoading,"bulk-actions":l.leaveBulkActions,onOnActionClick:r.onLeaveActionBulk},null,8,["selected","total","loading","bulk-actions","onOnActionClick"]),Object(a["createElementVNode"])("div",WD,[Object(a["createVNode"])(d,{selected:l.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>l.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",JD,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])]),n.showCommentModal?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,id:n.commentModalState,onClose:r.onCommentModalClose},null,8,["id","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(u,{ref:"bulkActionModal",data:n.bulkActionModalState},null,8,["data"])],64)}const XD=(e,{length:t=50,ellipsis:o="..."}={})=>"string"===typeof e?e.length>t?e.substr(0,t)+o:e:"",KD={component:"oxd-button",props:{label:"Approve",displayType:"label-success",size:"medium",onClick:null}},ZD={component:"oxd-button",props:{label:"Reject",displayType:"label-danger",size:"medium",onClick:null}},e$={component:"oxd-button",props:{label:"Cancel",displayType:"label-warn",size:"medium",onClick:null}},t$={component:"oxd-table-dropdown",props:{options:[],style:{"margin-left":"auto"},onClick:null}};function o$(e,{primaryActions:t={approve:KD,reject:ZD,cancel:e$,more:t$}}={}){const o=(t,o)=>e.request({method:"PUT",url:"api/v2/leave/leaves/"+t,data:{action:o}}),a=(t,o)=>e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/"+t,data:{action:o}}),l=(t,o)=>e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/bulk",data:{data:t.map(e=>({leaveRequestId:e,action:o}))}});return{leaveActions:t,processLeaveAction:o,processLeaveRequestAction:a,processLeaveRequestBulkAction:l}}const a$={class:"orangehrm-modal-header"},l$={key:0,class:"orangehrm-modal-content"};function n$(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("leave-comment"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",a$,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.leave_request_comments")),1)]),_:1})]),Object(a["createVNode"])(c),n.isLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l$,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.comments,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:e.id,data:e},null,8,["data"]))),128))])),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),type:"textarea",placeholder:e.$t("general.comment_here"),rules:n.rules.comment},null,8,["modelValue","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const r$={class:"orangehrm-comment"},i$={class:"orangehrm-comment-profile"},c$={class:"orangehrm-comment-profile-image-wrapper"},d$=["src"],s$={class:"orangehrm-comment-body"},m$={class:"orangehrm-comment-profile-name"},u$={class:"orangehrm-comment-message"},b$={class:"orangehrm-comment-timestamp"};function p$(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r$,[Object(a["createElementVNode"])("div",i$,[Object(a["createElementVNode"])("div",c$,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"orangehrm-comment-profile-image",src:l.imgSrc},null,8,d$)])]),Object(a["createElementVNode"])("div",s$,[Object(a["createElementVNode"])("div",m$,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.fullName),1)]),_:1})]),Object(a["createElementVNode"])("div",u$,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.data.comment),1)]),_:1})]),Object(a["createElementVNode"])("div",b$,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.commentDate)+" - "+Object(a["toDisplayString"])(o.data.time),1)]),_:1})])])])}const h$=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var j$={name:"LeaveComment",props:{data:{type:Object,required:!0}},setup(e){const t=Object(a["computed"])(()=>{const t=e.data.createdByEmployee;return t?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${t.empNumber}`:h$}),o=Object(a["computed"])(()=>{const t=e.data.createdByEmployee;return t&&`${t.firstName} ${t.lastName}`}),{jsDateFormat:l}=ie(),{locale:n}=He(),r=Object(a["computed"])(()=>{var t;return we(xe(null===(t=e.data)||void 0===t?void 0:t.date),l,{locale:n})});return{imgSrc:t,fullName:o,commentDate:r}}};o("e725");const O$=y()(j$,[["render",p$],["__scopeId","data-v-6dd4c63a"]]);var g$=O$,v$={name:"LeaveCommentModal",components:{"oxd-dialog":ee["a"],"leave-comment":g$},props:{id:{type:Number,required:!1,default:null},leaveRequest:{type:Boolean,default:!0}},emits:["close"],setup(e){const t=e.leaveRequest?"leave-requests":"leaves",o=new K(window.appGlobal.baseUrl,`api/v2/leave/${t}/${e.id}/leave-comments`);return{http:o}},data(){return{isLoading:!1,comment:null,rules:{comment:[io,co(255)]},comments:[]}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.comments=t}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.create({comment:this.comment}).then(()=>{this.$toast.saveSuccess(),this.onCancel()})},onCancel(){this.comment=null,this.$emit("close",!0)}}};o("5235");const f$=y()(v$,[["render",n$],["__scopeId","data-v-5e234c46"]]);var y$=f$;const C$={class:"orangehrm-modal-header"},V$={class:"orangehrm-text-center-align"},x$={class:"orangehrm-modal-footer"};function w$(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",C$,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.leave_action",{action:r.action})),1)]),_:1})]),Object(a["createElementVNode"])("div",V$,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_one",{action:r.action,count:r.count}))+" "+Object(a["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_two")),1)]),_:1})]),Object(a["createElementVNode"])("div",x$,[Object(a["createVNode"])(c,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{label:e.$t("leave.yes_confirm"),"display-type":"secondary",onClick:r.onConfirm},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var N$={name:"LeaveBulkActionModal",components:{"oxd-dialog":ee["a"]},props:{data:{type:Object,default:()=>null}},data(){return{show:!1,reject:null,resolve:null}},computed:{count(){var e;return null!==(e=this.data)&&void 0!==e&&e.count?this.data.count:0},action(){var e;return null===(e=this.data)||void 0===e?void 0:e.action}},methods:{showDialog(){return new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")}}};o("09df");const _$=y()(N$,[["render",w$],["__scopeId","data-v-4aa1acfd"]]);var k$=_$;const S$={class:"orangehrm-header-container"},D$={key:0,class:"actions"};function $$(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",S$,[o.bulkActions&&o.selected>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",D$,[Object(a["createVNode"])(i,{tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_selected",{count:o.selected})),1)]),_:1}),o.bulkActions.APPROVE?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,label:e.$t("general.approve"),"display-type":"label-success",onClick:t[0]||(t[0]=t=>e.$emit("onActionClick","APPROVE"))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),o.bulkActions.REJECT?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,label:e.$t("general.reject"),"display-type":"label-danger",onClick:t[1]||(t[1]=t=>e.$emit("onActionClick","REJECT"))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),o.bulkActions.CANCEL?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:2,label:e.$t("general.cancel"),"display-type":"label-warn",onClick:t[2]||(t[2]=t=>e.$emit("onActionClick","CANCEL"))},null,8,["label"])):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_found",{count:o.total})),1)]),_:1}))])}var E$={name:"LeaveListTableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},bulkActions:{type:Object,required:!1,default:()=>({})}},emits:["onActionClick"]};o("22e3");const T$=y()(E$,[["render",$$],["__scopeId","data-v-78ad5c40"]]);var B$=T$;const I$={employee:null,fromDate:null,toDate:null,statuses:[],subunit:null,includePastEmps:!1,leaveType:null};var L$={name:"LeaveListTable",components:{"leave-list-table-header":B$,"leave-comment-modal":y$,"leave-bulk-action-modal":k$},props:{myLeaveList:{type:Boolean,default:!1},leaveStatuses:{type:Array,default:()=>[]},employee:{type:Object,required:!1,default:()=>null},leaveType:{type:Object,required:!1,default:()=>null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},leaveStatus:{type:Object,required:!1,default:()=>null}},setup(e){const t=Object(a["ref"])({...I$,...e.leaveType&&{leaveType:e.leaveType},...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate},...e.leaveStatus&&{statuses:[e.leaveStatus]},...e.employee&&{employee:{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}}}),o=Object(a["ref"])([]),{$t:l}=Ge(),{locale:n}=He(),{jsDateFormat:r,userDateFormat:i}=ie(),c={fromDate:[io,so(i)],toDate:[io,so(i),yo(()=>t.value.fromDate,l("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],statuses:[io],employee:[Fo]},d=Object(a["computed"])(()=>{var e,o,a;const l=Array.isArray(t.value.statuses)?t.value.statuses:[];return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,subunitId:null===(o=t.value.subunit)||void 0===o?void 0:o.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent",statuses:l.map(e=>e.id),leaveTypeId:null===(a=t.value.leaveType)||void 0===a?void 0:a.id}}),s=new K(window.appGlobal.baseUrl,"api/v2/leave/"+(e.myLeaveList?"leave-requests":"employees/leave-requests")),m=e=>e.map(e=>{var t,o,a,i,c,d,s,m,u;let b,p,h="";const j=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;if(e.dates.fromDate&&(b=we(xe(e.dates.fromDate),r,{locale:n})),e.dates.toDate&&(b+=" to "+we(xe(e.dates.toDate),r,{locale:n})),e.dates.startTime&&e.dates.endTime&&(b+=` (${e.dates.startTime} - ${e.dates.endTime})`),"half_day_morning"!==j&&"half_day_afternoon"!==j||(b+=" "+l("leave.half_day")),Array.isArray(e.leaveBreakdown)&&(p=e.leaveBreakdown.map(e=>`${e.name} (${parseFloat(e.lengthDays).toFixed(2)})`).join(", ")),Array.isArray(e.leaveBalances))if(e.leaveBalances.length>1)h=e.leaveBalances.map(({period:e,balance:t})=>{const o=parseFloat(t.balance).toFixed(2),a=we(xe(e.startDate),r,{locale:n}),l=we(xe(e.endDate),r,{locale:n});return`${o} (${a} - ${l})`}).join(", ");else{var O;const t=null===(O=e.leaveBalances[0])||void 0===O?void 0:O.balance.balance;h=t?parseFloat(t).toFixed(2):"0.00"}const g=`${null===(o=e.employee)||void 0===o?void 0:o.firstName} ${null===(a=e.employee)||void 0===a?void 0:a.middleName} ${null===(i=e.employee)||void 0===i?void 0:i.lastName}`,v=null===(c=e.leaveType)||void 0===c?void 0:c.name;return null!==(d=e.employee)&&void 0!==d&&d.terminationId&&l("general.past_employee"),null!==(s=e.leaveType)&&void 0!==s&&s.deleted&&l("general.deleted"),{id:e.id,empNumber:null===(m=e.employee)||void 0===m?void 0:m.empNumber,date:b,employeeName:g,leaveType:v,leaveBalance:h,days:parseFloat(e.noOfDays).toFixed(2),status:p,comment:XD(null===(u=e.lastComment)||void 0===u?void 0:u.comment),actions:e.allowedActions}}),{leaveActions:u,processLeaveRequestAction:b,processLeaveRequestBulkAction:p}=o$(s),{showPaginator:h,currentPage:j,total:O,pages:g,pageSize:v,response:f,isLoading:y,execQuery:C}=zt(s,{query:d,normalizer:m}),V=Object(a["computed"])(()=>{if(o.value.length>0&&f.value.data){const e=o.value.map(e=>f.value.data[e].actions);return{APPROVE:e.reduce((e,t)=>e&&t.find(e=>"APPROVE"===e.action),!0),REJECT:e.reduce((e,t)=>e&&t.find(e=>"REJECT"===e.action),!0),CANCEL:e.reduce((e,t)=>e&&t.find(e=>"CANCEL"===e.action),!0)}}return null});return{http:s,showPaginator:h,currentPage:j,isLoading:y,total:O,pages:g,pageSize:v,execQuery:C,items:f,rules:c,filters:t,checkedItems:o,leaveActions:u,leaveBulkActions:V,processLeaveRequestAction:b,processLeaveRequestBulkAction:p}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"employeeName",title:this.$t("general.employee_name"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"days",title:this.$t("leave.number_of_days"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"5%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:this.myLeaveList?"10%":"20%"}}],showCommentModal:!1,commentModalState:null,bulkActionModalState:null}},beforeMount(){this.isLoading=!0,0===this.filters.statuses.length&&(this.filters.statuses=this.myLeaveList?this.leaveStatuses:this.leaveStatuses.filter(e=>1===e.id)),this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then(e=>{const{data:t,meta:o}=e.data;var a,l,n,r,i,c;o.leavePeriodDefined?(this.filters.fromDate=null!==(a=this.filters.fromDate)&&void 0!==a?a:null===o||void 0===o?void 0:o.currentLeavePeriod.startDate,this.filters.toDate=null!==(l=this.filters.toDate)&&void 0!==l?l:null===o||void 0===o?void 0:o.currentLeavePeriod.endDate):(this.filters.fromDate=null!==(n=this.filters.fromDate)&&void 0!==n?n:null===(r=t[0])||void 0===r?void 0:r.startDate,this.filters.toDate=null!==(i=this.filters.toDate)&&void 0!==i?i:null===(c=t[0])||void 0===c?void 0:c.endDate)}).finally(()=>{this.isLoading=!1,Object.assign(I$,this.filters)})},methods:{cellRenderer(...[,,,e]){const t={},{approve:o,reject:a,cancel:l,more:n}=this.leaveActions,r=[{label:this.$t("general.add_comment"),context:"add_comment"},{label:this.$t("leave.view_leave_details"),context:"leave_details"},{label:this.$t("leave.view_pim_info"),context:"pim_details"}];return e.actions.map(n=>{"APPROVE"===n.action&&(o.props.label=this.$t("general.approve"),o.props.onClick=()=>this.onLeaveAction(e.id,"APPROVE"),t.approve=o),"REJECT"===n.action&&(a.props.label=this.$t("general.reject"),a.props.onClick=()=>this.onLeaveAction(e.id,"REJECT"),t.reject=a),"CANCEL"===n.action&&(this.myLeaveList?(l.props.label=this.$t("general.cancel"),l.props.onClick=()=>this.onLeaveAction(e.id,"CANCEL"),t.reject=l):r.push({label:this.$t("leave.cancel_leave"),context:"cancel_leave"}))}),n.props.options=r,n.props.onClick=t=>this.onLeaveDropdownAction(t,e),t.more=n,{props:{header:{cellConfig:t}}}},onLeaveDropdownAction(e,t){switch(e.context){case"add_comment":this.commentModalState=t.id,this.showCommentModal=!0;break;case"cancel_leave":this.onLeaveAction(t.id,"CANCEL");break;case"pim_details":Y("/pim/viewPersonalDetails/empNumber/{id}",{id:t.empNumber});break;default:Y("/leave/viewLeaveRequest/{id}",{id:t.id},this.myLeaveList&&{mode:"my-leave"})}},onLeaveAction(e,t){this.isLoading=!0,this.processLeaveRequestAction(e,t).then(()=>{this.$toast.updateSuccess()}).finally(this.resetDataTable)},async onLeaveActionBulk(e){this.isLoading=!0,this.bulkActionModalState={count:this.checkedItems.length,action:e};const t=this.checkedItems.map(e=>this.items.data[e].id),o=await this.$refs.bulkActionModal.showDialog();"ok"===o?this.processLeaveRequestBulkAction(t,e).then(t=>{const{data:o}=t.data;Array.isArray(o)&&this.$toast.success({title:this.$t("general.success"),message:this.$t("leave.leave_requests_action",{action:e,count:o.length})})}).finally(()=>{this.bulkActionModalState=null,this.resetDataTable()}):this.isLoading=!1},onCommentModalClose(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onReset(){this.filters={...I$},this.resetDataTable()}}};o("9a48");const U$=y()(L$,[["render",YD],["__scopeId","data-v-251469ca"]]);var A$=U$,P$={components:{"leave-list-table":A$,"employee-autocomplete":Fa,"oxd-switch-input":Sl["a"],"leave-type-dropdown":Ok},props:{subunits:{type:Array,default:()=>[]},leaveStatuses:{type:Array,default:()=>[]}}};o("ac57");const q$=y()(P$,[["render",zD],["__scopeId","data-v-8d1a2ee2"]]);var M$=q$;const F$=e=>(Object(a["pushScopeId"])("data-v-4c61a1bb"),e=e(),Object(a["popScopeId"])(),e),z$={class:"orangehrm-background-container"},R$={class:"orangehrm-paper-container"},G$={class:"orangehrm-header-container"},Q$=F$(()=>Object(a["createElementVNode"])("br",null,null,-1)),H$={class:"orangehrm-horizontal-padding"},W$=F$(()=>Object(a["createElementVNode"])("br",null,null,-1)),J$={class:"orangehrm-container"},Y$={class:"orangehrm-bottom-container"};function X$(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("table-header"),b=Object(a["resolveComponent"])("oxd-card-table"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-pagination"),j=Object(a["resolveComponent"])("leave-comment-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",z$,[Object(a["createElementVNode"])("div",R$,[Object(a["createElementVNode"])("div",G$,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.myLeaveRequest?e.$t("leave.my_leave_request_details"):e.$t("leave.leave_request_details")),1)]),_:1})]),Object(a["createVNode"])(c,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),Q$,Object(a["createElementVNode"])("div",H$,[Object(a["createVNode"])(m,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.employee_name")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.employeeName),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("leave.requested_for")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.leavePeriod),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),W$,Object(a["createVNode"])(u,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",J$,[Object(a["createVNode"])(b,{headers:n.headers,items:l.response&&l.response.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(a["createElementVNode"])("div",Y$,[Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.back"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary","icon-name":"chat-right-text-fill",label:e.$t("general.comments"),onClick:r.onClickComments},null,8,["label","onClick"])]),l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])]),n.showCommentModal?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,id:n.commentModalState,"leave-request":n.isLeaveRequest,onClose:r.onCommentModalClose},null,8,["id","leave-request","onClose"])):Object(a["createCommentVNode"])("",!0)],64)}var K$={name:"LeaveViewRequest",components:{"leave-comment-modal":y$},props:{leaveRequestId:{type:String,required:!0},myLeaveRequest:{type:Boolean,default:!1}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/leave/leave-requests/${e.leaveRequestId}/leaves`),{leaveActions:o,processLeaveAction:a}=o$(t),{$t:l}=Ge(),{jsDateFormat:n}=ie(),{locale:r}=He(),{$tEmpName:i}=za(),c=e=>e.map(e=>{var t,o,a,i,c,d,s,m;let u="";const b=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;e.dates.fromDate&&(u=we(xe(e.dates.fromDate),n,{locale:r})),e.dates.startTime&&e.dates.endTime&&(u+=` (${e.dates.startTime} - ${e.dates.endTime})`),"half_day_morning"!==b&&"half_day_afternoon"!==b||(u+=" "+l("leave.half_day"));const p=null===(o=e.leaveType)||void 0===o?void 0:o.name;return null!==(a=e.leaveType)&&void 0!==a&&a.deleted&&l("general.deleted"),{id:e.id,date:u,leaveType:p,leaveBalance:null!==(i=e.leaveBalance)&&void 0!==i&&i.balance.balance?parseFloat(e.leaveBalance.balance.balance).toFixed(2):void 0,duration:parseFloat(e.lengthHours).toFixed(2),status:null===(c=e.leaveStatus)||void 0===c?void 0:c.name,comment:XD(null===(d=e.lastComment)||void 0===d?void 0:d.comment),actions:e.allowedActions,canComment:!(5===(null===(s=e.leaveStatus)||void 0===s?void 0:s.id)||4===(null===(m=e.leaveStatus)||void 0===m?void 0:m.id))}}),{showPaginator:d,currentPage:s,total:m,pages:u,pageSize:b,response:p,isLoading:h,execQuery:j}=zt(t,{normalizer:c});return{http:t,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:u,pageSize:b,execQuery:j,response:p,leaveActions:o,processLeaveAction:a,jsDateFormat:n,locale:r,translateEmpName:i}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"duration",title:this.$t("attendance.duration_hours"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"10%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:"20%"}}],showCommentModal:!1,commentModalState:null,isLeaveRequest:!1}},computed:{employeeName(){var e,t;const o=null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.employee;return o?this.translateEmpName(o,{includeMiddle:!0,excludePastEmpTag:!1}):""},leavePeriod(){var e,t,o,a;const l=we(xe(null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.startDate),this.jsDateFormat,{locale:this.locale}),n=we(xe(null===(o=this.response)||void 0===o||null===(a=o.meta)||void 0===a?void 0:a.endDate),this.jsDateFormat,{locale:this.locale});return l===n?l:`${l} - ${n}`}},methods:{cellRenderer(...[,,,e]){const t={},o=[],{approve:a,reject:l,cancel:n,more:r}=this.leaveActions;return e.canComment&&o.push({label:"Add Comment",context:"add_comment"}),e.actions.map(r=>{"APPROVE"===r.action&&(a.props.label=this.$t("general.approve"),a.props.onClick=()=>this.onLeaveAction(e.id,"APPROVE"),t.approve=a),"REJECT"===r.action&&(l.props.label=this.$t("general.reject"),l.props.onClick=()=>this.onLeaveAction(e.id,"REJECT"),t.reject=l),"CANCEL"===r.action&&(this.myLeaveRequest?(n.props.label=this.$t("general.cancel"),n.props.onClick=()=>this.onLeaveAction(e.id,"CANCEL"),t.cancel=n):o.push({label:"Cancel Leave",context:"cancel_leave"}))}),o.length>0&&(r.props.options=o,r.props.onClick=t=>this.onLeaveDropdownAction(t,e),t.more=r),{props:{header:{cellConfig:t}}}},onClickComments(){this.commentModalState=this.leaveRequestId,this.isLeaveRequest=!0,this.showCommentModal=!0},onCommentModalClose(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},onLeaveDropdownAction(e,t){"cancel_leave"===e.context?this.onLeaveAction(t.id,"CANCEL"):(this.commentModalState=t.id,this.isLeaveRequest=!1,this.showCommentModal=!0)},onLeaveAction(e,t){this.isLoading=!0,this.processLeaveAction(e,t).then(()=>{this.$toast.updateSuccess()}).finally(this.resetDataTable)},onClickBack(){this.myLeaveRequest?Y("/leave/viewMyLeaveList"):Y("/leave/viewLeaveList")},async resetDataTable(){await this.execQuery()}}};o("fe8f");const Z$=y()(K$,[["render",X$],["__scopeId","data-v-4c61a1bb"]]);var eE=Z$;function tE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("date-input"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("leave-type-dropdown"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form"),g=Object(a["resolveComponent"])("oxd-table-filter"),v=Object(a["resolveComponent"])("leave-list-table");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{"leave-statuses":o.leaveStatuses,"my-leave-list":!0},{default:Object(a["withCtx"])(({filters:t,filterItems:l,rules:n,onReset:r})=>[Object(a["createVNode"])(g,{"filter-title":e.$t("leave.my_leave_list")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{onSubmitValid:l,onReset:r},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.fromDate,"onUpdate:modelValue":e=>t.fromDate=e,label:e.$t("general.from_date"),rules:n.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:t.toDate,"onUpdate:modelValue":e=>t.toDate=e,label:e.$t("general.to_date"),rules:n.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:t.statuses,"onUpdate:modelValue":e=>t.statuses=e,value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:o.leaveStatuses,rules:n.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!0,"include-allocated":!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(b),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(h,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid","onReset"])]),_:2},1032,["filter-title"])]),_:1},8,["leave-statuses"])}var oE={components:{"leave-list-table":A$,"leave-type-dropdown":Ok},props:{leaveStatuses:{type:Array,default:()=>[]}}};const aE=y()(oE,[["render",tE]]);var lE=aE;const nE=e=>(Object(a["pushScopeId"])("data-v-b51e5d1a"),e=e(),Object(a["popScopeId"])(),e),rE=nE(()=>Object(a["createElementVNode"])("br",null,null,-1));function iE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-input-group"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("leave-type-dropdown"),b=Object(a["resolveComponent"])("leave-period-dropdown"),p=Object(a["resolveComponent"])("jobtitle-dropdown"),h=Object(a["resolveComponent"])("oxd-text"),j=Object(a["resolveComponent"])("oxd-switch-input"),O=Object(a["resolveComponent"])("employee-autocomplete"),g=Object(a["resolveComponent"])("oxd-divider"),v=Object(a["resolveComponent"])("required-text"),f=Object(a["resolveComponent"])("oxd-button"),y=Object(a["resolveComponent"])("oxd-form-actions"),C=Object(a["resolveComponent"])("oxd-form"),V=Object(a["resolveComponent"])("oxd-table-filter"),x=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(x,{module:"leave",name:l.filters.type,filters:l.serializedFilters,"column-count":6},{default:Object(a["withCtx"])(({generateReport:n})=>[Object(a["createVNode"])(V,{"filter-title":e.$t("leave.leave_entitlement_and_usage_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{onSubmitValid:n},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{label:e.$t("leave.generate_for"),classes:{wrapper:"--grouped-field"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.type,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.type=e),type:"radio","option-label":e.$t("leave.leave_type"),value:"leave_type_leave_entitlements_and_usage"},null,8,["modelValue","option-label"]),Object(a["createVNode"])(i,{modelValue:l.filters.type,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.type=e),type:"radio","option-label":e.$t("general.employee"),value:"employee_leave_entitlements_and_usage"},null,8,["modelValue","option-label"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),"leave_type_leave_entitlements_and_usage"===l.filters.type?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.leaveType,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.leaveType=e),"empty-text":e.$t("leave.no_leave_types_defined"),"eligible-only":!1,"show-empty-selector":!1,rules:l.rules.leaveType},null,8,["modelValue","empty-text","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.location,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.location=e),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("leave.include_past_employees")),1)]),_:1}),Object(a["createVNode"])(j,{modelValue:l.filters.includePastEmps,"onUpdate:modelValue":t[7]||(t[7]=e=>l.filters.includePastEmps=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:l.filters.employee,"onUpdate:modelValue":t[8]||(t[8]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[9]||(t[9]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})),Object(a["createVNode"])(g),Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v),Object(a["createVNode"])(f,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),rE]),_:1},8,["name","filters"])}const cE={type:"leave_type_leave_entitlements_and_usage",employee:null,leavePeriod:null,leaveType:null,subunit:null,location:null,jobTitle:null,includePastEmps:!1};var dE={components:{"reports-table":SC,"oxd-switch-input":Sl["a"],"jobtitle-dropdown":tb,"leave-type-dropdown":Ok,"leave-period-dropdown":pS,"employee-autocomplete":Fa},props:{locations:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(e){const t=Object(a["ref"])({...cE,...e.leavePeriod&&{leavePeriod:e.leavePeriod}}),o=Object(a["ref"])({employee:[io,Fo],leavePeriod:[io],leaveType:[io]}),l=Object(a["computed"])(()=>{var e,o,a,l,n,r,i,c,d;return"leave_type_leave_entitlements_and_usage"===t.value.type?{name:t.value.type,fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(o=t.value.leavePeriod)||void 0===o?void 0:o.endDate,subunitId:null===(a=t.value.subunit)||void 0===a?void 0:a.id,leaveTypeId:null===(l=t.value.leaveType)||void 0===l?void 0:l.id,locationId:null===(n=t.value.location)||void 0===n?void 0:n.id,jobTitleId:null===(r=t.value.jobTitle)||void 0===r?void 0:r.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent"}:{name:t.value.type,empNumber:null===(i=t.value.employee)||void 0===i?void 0:i.id,fromDate:null===(c=t.value.leavePeriod)||void 0===c?void 0:c.startDate,toDate:null===(d=t.value.leavePeriod)||void 0===d?void 0:d.endDate}});return{rules:o,filters:t,serializedFilters:l}}};o("a5cf");const sE=y()(dE,[["render",iE],["__scopeId","data-v-b51e5d1a"]]);var mE=sE;const uE=Object(a["createElementVNode"])("br",null,null,-1);function bE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("leave-period-dropdown"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("required-text"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(O,{module:"leave",name:"my_leave_entitlements_and_usage",prefetch:!0,filters:l.serializedFilters,"column-count":6},{default:Object(a["withCtx"])(({generateReport:o})=>[Object(a["createVNode"])(j,{"filter-title":e.$t("leave.my_leave_entitlement_and_usage_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:o},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),uE]),_:1},8,["filters"])}var pE={components:{"reports-table":SC,"leave-period-dropdown":pS},props:{leavePeriod:{type:Object,required:!1,default:()=>({})}},setup(e){const t=Object(a["ref"])({leavePeriod:e.leavePeriod?e.leavePeriod:null}),o=Object(a["ref"])({leavePeriod:[io]}),l=Object(a["computed"])(()=>{var e,o;return{fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(o=t.value.leavePeriod)||void 0===o?void 0:o.endDate}});return{rules:o,filters:t,serializedFilters:l}}};const hE=y()(pE,[["render",bE]]);var jE=hE,OE={"leave-period":O_,"leave-apply":dk,"leave-assign":Sk,"leave-type-edit":Zk,"leave-type-list":Ak,"leave-type-save":iS,"leave-add-entitlement":qS,"leave-edit-entitlement":HS,"leave-view-entitlement":iD,"leave-view-my-entitlement":mD,"work-week":gD,"holiday-list":kD,"holiday-save":ID,"holiday-edit":FD,"leave-list":M$,"leave-view-request":eE,"my-leave-list":lE,"leave-entitlement-report":mE,"my-leave-entitlement-report":jE};const gE={class:"orangehrm-background-container"},vE={class:"orangehrm-paper-container"},fE={class:"orangehrm-header-container"},yE={class:"orangehrm-container"},CE={class:"orangehrm-bottom-container"};function VE(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("table-header"),m=Object(a["resolveComponent"])("oxd-card-table"),u=Object(a["resolveComponent"])("oxd-pagination"),b=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gE,[Object(a["createElementVNode"])("div",vE,[Object(a["createElementVNode"])("div",fE,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("OAuth Client List")]),_:1}),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(d,{label:"Add","icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["onClick"])])]),Object(a["createVNode"])(s,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",yE,[Object(a["createVNode"])(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",CE,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var xE={components:{"delete-confirmation":Yt},props:{unselectableClientIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map(t=>{const o=e.unselectableClientIds.findIndex(e=>e===t.clientId);return{clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri,isSelectable:-1===o,isDisabled:-1!==o}}),o=new K(window.appGlobal.baseUrl,"/api/v2/admin/oauth-clients"),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:c,isLoading:d,execQuery:s}=zt(o,{normalizer:t});return{http:o,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:s,items:c}},data(){return{headers:[{name:"clientId",slot:"title",title:"ID",style:{flex:2}},{name:"clientSecret",title:"Secret",style:{flex:3}},{name:"redirectUri",title:"Redirect URI",style:{flex:3}},{name:"actions",title:"Actions",slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){Y("/admin/saveOAuthClient")},onClickEdit(e){Y("/admin/editOAuthClient",{},{clientId:e.clientId})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].clientId)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.clientId])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const wE=y()(xE,[["render",VE]]);var NE=wE;const _E=e=>(Object(a["pushScopeId"])("data-v-448a8c62"),e=e(),Object(a["popScopeId"])(),e),kE={class:"orangehrm-background-container"},SE={class:"orangehrm-card-container"},DE=_E(()=>Object(a["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)),$E=_E(()=>Object(a["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1));function EE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",kE,[Object(a["createElementVNode"])("div",SE,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Add OAuth Client ")]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.oAuthClient.clientId=e),label:"ID",rules:n.rules.clientId,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=e=>n.oAuthClient.clientSecret=e),label:"Secret",rules:n.rules.clientSecret,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=e=>n.oAuthClient.redirectUri=e),label:"Redirect URI",rules:n.rules.redirectUri},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" API Documentation: "),DE]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" PHP Sample App: "),$E]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:r.onCancel},null,8,["onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const TE={clientId:"",clientSecret:"",redirectUri:""};var BE={setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data(){return{isLoading:!1,oAuthClient:{...TE},rules:{clientId:[io,co(80)],clientSecret:[io,co(80)],redirectUri:[co(2e3)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.clientId.push(e=>{const o=t.findIndex(t=>t.clientId==e);return-1===o||"Already exists"})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/registerOAuthClient")},onSave(){this.isLoading=!0,this.http.create({...this.oAuthClient}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})}}};o("a331");const IE=y()(BE,[["render",EE],["__scopeId","data-v-448a8c62"]]);var LE=IE;const UE=e=>(Object(a["pushScopeId"])("data-v-753d4c1d"),e=e(),Object(a["popScopeId"])(),e),AE={class:"orangehrm-background-container"},PE={class:"orangehrm-card-container"},qE=UE(()=>Object(a["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)),ME=UE(()=>Object(a["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1));function FE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AE,[Object(a["createElementVNode"])("div",PE,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Edit OAuth Client ")]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{novalidate:"true",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.oAuthClient.clientId=e),label:"ID",rules:n.rules.clientId,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=e=>n.oAuthClient.clientSecret=e),label:"Secret",rules:n.rules.clientSecret,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=e=>n.oAuthClient.redirectUri=e),label:"Redirect URI",rules:n.rules.redirectUri},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" API Documentation: "),qE]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-link"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" PHP Sample App: "),ME]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:r.onCancel},null,8,["onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const zE={clientId:"",clientSecret:"",redirectUri:""};var RE={props:{oauthClientId:{type:String,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data(){return{isLoading:!1,oAuthClient:{...zE},rules:{clientId:[io,co(80)],clientSecret:[io,co(80)],redirectUri:[co(2e3)]}}},created(){this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId}}).then(e=>{const{data:t}=e.data;return this.oAuthClient.clientId=t.clientId,this.oAuthClient.clientSecret=t.clientSecret,this.oAuthClient.redirectUri=t.redirectUri,this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.clientId.push(e=>{const o=t.findIndex(t=>t.clientId===e);if(o>-1){const{clientId:e}=t[o];return e===this.oauthClientId||"Already exists"}return!0})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/admin/registerOAuthClient")},onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId},data:{clientId:this.oAuthClient.clientId,clientSecret:this.oAuthClient.clientSecret,redirectUri:this.oAuthClient.redirectUri}}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})}}};o("aad4");const GE=y()(RE,[["render",FE],["__scopeId","data-v-753d4c1d"]]);var QE=GE,HE={"oauth-client-list":NE,"oauth-client-save":LE,"oauth-client-edit":QE};const WE={class:"orangehrm-background-container"},JE={class:"orangehrm-card-container"},YE={class:"orangehrm-paper-container"};function XE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("record-attendance");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",WE,[Object(a["createElementVNode"])("div",JE,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.punch_in")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",YE,[Object(a["createVNode"])(d,Object(a["normalizeProps"])(Object(a["guardReactiveProps"])(e.$attrs)),null,16)])])])}function KE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-input-group"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("date-input"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("timezone-dropdown"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[n.attendanceRecord.previousRecord?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(d,{class:Object(a["normalizeClass"])(n.attendanceRecord.previousRecord.note?"":"--span-column-2")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{label:e.$t("attendance.punched_in_time")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.previousAttendanceRecordDate)+" - "+Object(a["toDisplayString"])(n.attendanceRecord.previousRecord.userTime)+" ",1),Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-attendance-punchedIn-timezone"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(`(GMT ${n.previousRecordTimezone})`),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["class"]),n.attendanceRecord.previousRecord.note?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{label:e.$t("attendance.punched_in_note")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.attendanceRecord.previousRecord.note),1)]),_:1})]),_:1},8,["label"])]),_:1})):Object(a["createCommentVNode"])("",!0)],64)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:n.attendanceRecord.time,modelValue:n.attendanceRecord.date,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attendanceRecord.date=e),label:e.$t("general.date"),rules:n.rules.date,disabled:!o.isEditable,required:""},null,8,["modelValue","label","rules","disabled"]))]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendanceRecord.time,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attendanceRecord.time=e),label:e.$t("general.time"),disabled:!o.isEditable,rules:n.rules.time,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","disabled","rules","placeholder"])]),_:1})]),_:1})]),_:1}),o.isTimezoneEditable?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,cols:2},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.attendanceRecord.timezone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.attendanceRecord.timezone=e),required:""},null,8,["modelValue"])]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendanceRecord.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.attendanceRecord.note=e),rules:n.rules.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{label:o.attendanceRecordId?e.$t("attendance.out"):e.$t("attendance.in")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])}function ZE(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",options:l.options,label:e.$t("attendance.timezone"),"show-empty-selector":!1},null,8,["options","label"])}var eT={name:"TimezoneDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"/api/v2/attendance/timezones");return Object(a["onBeforeMount"])(()=>{t.getAll().then(({data:t})=>{e.value=t.data.map(e=>({id:e.name,label:`(GMT${e.label}) ${e.name}`,_offset:parseFloat(e.offset)}))})}),{options:e}}};const tT=y()(eT,[["render",ZE]]);var oT=tT;const aT={date:null,time:null,note:null,timezone:null,previousRecord:null};var lT={name:"RecordAttendance",components:{"timezone-dropdown":oT},props:{isEditable:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1},attendanceRecordId:{type:Number,default:null},employeeId:{type:Number,default:null},date:{type:String,default:null}},setup(e){const t=e.employeeId?`/api/v2/attendance/employees/${e.employeeId}/records`:"/api/v2/attendance/records",o=new K(window.appGlobal.baseUrl,t),{jsDateFormat:a,userDateFormat:l}=ie(),{locale:n}=He();return{http:o,locale:n,jsDateFormat:a,userDateFormat:l}},data(){return{isLoading:!1,attendanceRecord:{...aT},rules:{date:[io,so(this.userDateFormat),Object(rl["a"])(this.validateDate,500)],time:[io,Object(rl["a"])(this.validateDate,500)],note:[co(250)]},previousRecordTimezone:null}},computed:{previousAttendanceRecordDate(){var e;return null!==(e=this.attendanceRecord)&&void 0!==e&&e.previousRecord?we(xe(this.attendanceRecord.previousRecord.userDate),this.jsDateFormat,{locale:this.locale}):null}},beforeMount(){if(this.isLoading=!0,this.isTimezoneEditable){const e=Ue();this.attendanceRecord.timezone={id:e.name,label:e.label,_name:e.name,_offset:e.offset}}this.setCurrentDateTime().then(()=>{!this.date&&!this.isEditable&&Ie(this.setCurrentDateTime,6e4);let e="/api/v2/attendance/records/latest";return this.employeeId&&(e="/api/v2/attendance/records/latest?empNumber="+this.employeeId),this.attendanceRecordId?this.http.request({method:"GET",url:e}):null}).then(e=>{if(e){const{data:t}=e.data;this.attendanceRecord.previousRecord=t.punchIn}}).then(()=>{var e;this.previousRecordTimezone=Le(null===(e=this.attendanceRecord.previousRecord)||void 0===e?void 0:e.offset)}).finally(()=>{this.isLoading=!1})},methods:{onSave(){var e,t,o,a;this.isLoading=!0;const l=Ue();this.http.request({method:this.attendanceRecordId?"PUT":"POST",data:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,note:this.attendanceRecord.note,timezoneOffset:null!==(e=null===(t=this.attendanceRecord.timezone)||void 0===t?void 0:t._offset)&&void 0!==e?e:l.offset,timezoneName:null!==(o=null===(a=this.attendanceRecord.timezone)||void 0===a?void 0:a.id)&&void 0!==o?o:l.name}}).then(()=>this.$toast.saveSuccess()).then(()=>{this.employeeId?Y("/attendance/viewAttendanceRecord",void 0,{employeeId:this.employeeId,date:this.date}):X()})},setCurrentDateTime(){return new Promise((e,t)=>{this.http.request({method:"GET",url:"/api/v2/attendance/current-datetime"}).then(t=>{var o;const{utcDate:a,utcTime:l}=t.data.data,n=xe(`${a} ${l} +00:00`,"yyyy-MM-dd HH:mm xxx");this.attendanceRecord.date=null!==(o=this.date)&&void 0!==o?o:we(n,"yyyy-MM-dd"),this.attendanceRecord.time=we(n,"HH:mm"),e()}).catch(e=>t(e))})},validateDate(){if(!this.attendanceRecord.date||!this.attendanceRecord.time)return!0;if(null===xe(this.attendanceRecord.date))return!0;const e=(new Date).getTimezoneOffset()/60*-1;return new Promise(t=>{var o,a;this.http.request({method:"GET",url:`/api/v2/attendance/${this.attendanceRecordId?"punch-out":"punch-in"}/overlaps`,params:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,timezoneOffset:null!==(o=null===(a=this.attendanceRecord.timezone)||void 0===a?void 0:a._offset)&&void 0!==o?o:e,empNumber:this.employeeId},validateStatus:e=>e>=200&&e<300||400==e}).then(e=>{const{data:o,error:a}=e.data;return a?t(a.message):!0===o.valid?t(!0):t(this.$t("attendance.overlapping_records_found"))})})}}};o("aa67");const nT=y()(lT,[["render",KE],["__scopeId","data-v-172580bb"]]);var rT=nT,iT={components:{"record-attendance":rT},inheritAttrs:!1};const cT=y()(iT,[["render",XE]]);var dT=cT;const sT={class:"orangehrm-background-container"},mT={class:"orangehrm-card-container"},uT={class:"orangehrm-paper-container"};function bT(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("record-attendance");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sT,[Object(a["createElementVNode"])("div",mT,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.punch_out")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",uT,[Object(a["createVNode"])(d,Object(a["normalizeProps"])(Object(a["guardReactiveProps"])(e.$attrs)),null,16)])])])}var pT={components:{"record-attendance":rT},inheritAttrs:!1};const hT=y()(pT,[["render",bT]]);var jT=hT;const OT={class:"orangehrm-background-container"},gT={class:"orangehrm-card-container"},vT={class:"orangehrm-header"},fT={class:"orangehrm-paper-container"};function yT(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("date-input"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("timezone-dropdown"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",OT,[Object(a["createElementVNode"])("div",gT,[Object(a["createElementVNode"])("div",vT,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.edit_attendance_records")),1)]),_:1}),r.totalDuration?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,tag:"span",class:"orangehrm-header-total"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(r.totalDuration),1)]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",fT,[Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid no-gap"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.punch_in")),1)]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.attendance.punchIn.userDate,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attendance.punchIn.userDate=e),label:e.$t("general.date"),rules:n.rules.punchIn.userDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendance.punchIn.userTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attendance.punchIn.userTime=e),label:e.$t("general.time"),rules:n.rules.punchIn.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]),_:1}),o.isTimezoneEditable?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.attendance.punchIn.timezone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.attendance.punchIn.timezone=e),required:""},null,8,["modelValue"])]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendance.punchIn.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.attendance.punchIn.note=e),rules:n.rules.punchIn.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),n.attendance.punchOut?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-punch-out-record"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.punch_out")),1)]),_:1})]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.attendance.punchOut.userDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.attendance.punchOut.userDate=e),label:e.$t("general.date"),rules:n.rules.punchOut.userDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendance.punchOut.userTime,"onUpdate:modelValue":t[5]||(t[5]=e=>n.attendance.punchOut.userTime=e),label:e.$t("general.time"),rules:n.rules.punchOut.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]),_:1}),o.isTimezoneEditable?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.attendance.punchOut.timezone,"onUpdate:modelValue":t[6]||(t[6]=e=>n.attendance.punchOut.timezone=e),required:""},null,8,["modelValue"])]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.attendance.punchOut.note,"onUpdate:modelValue":t[7]||(t[7]=e=>n.attendance.punchOut.note=e),rules:n.rules.punchOut.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])])}const CT={userDate:null,userTime:null,utcDate:null,utcTime:null,note:null,timezone:null,timezoneOffset:null};var VT={components:{"timezone-dropdown":oT},props:{attendanceId:{type:Number,required:!0},isEmployeeEdit:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/attendance/records"),{userDateFormat:t}=ie();return{http:e,userDateFormat:t}},data(){return{isLoading:!1,attendance:{employee:null,punchIn:{...CT},punchOut:{...CT}},rules:{punchIn:{userDate:[io,so(this.userDateFormat),Object(rl["a"])(()=>this.validateRecord("punch-in-overlaps"),500)],userTime:[io,Object(rl["a"])(()=>this.validateRecord("punch-in-overlaps"),500)],note:[co(250)]},punchOut:{userDate:[io,so(this.userDateFormat),Object(rl["a"])(()=>this.validateRecord("punch-out-overlaps"),500)],userTime:[io,Object(rl["a"])(()=>this.validateRecord("punch-out-overlaps"),500)],note:[co(250)]}}}},computed:{totalDuration(){var e,t,o,a,l;if(null===(e=this.attendance.punchOut)||void 0===e||!e.userDate)return null;if(null===xe(this.attendance.punchIn.userDate)||null===xe(this.attendance.punchOut.userDate))return null;const n=`${this.attendance.punchIn.userDate} ${this.attendance.punchIn.userTime}`,r=null!==(t=null===(o=this.attendance.punchIn.timezone)||void 0===o?void 0:o._offset)&&void 0!==t?t:parseFloat(this.attendance.punchIn.timezoneOffset),i=(r>0?" +":" -")+Te(3600*Math.abs(r)),c=`${this.attendance.punchOut.userDate} ${this.attendance.punchOut.userTime}`,d=null!==(a=null===(l=this.attendance.punchOut.timezone)||void 0===l?void 0:l._offset)&&void 0!==a?a:parseFloat(this.attendance.punchOut.timezoneOffset),s=(d>0?" +":" -")+Te(3600*Math.abs(d));return parseFloat(Ee(n+i,c+s,"yyyy-MM-dd HH:mm xxx")/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.http.get(this.attendanceId).then(e=>{var t;const{data:o}=e.data;this.attendance.employee=o.employee,this.attendance.punchIn={...o.punchIn,timezone:{id:o.punchIn.timezone.name,label:o.punchIn.timezone.label,_offset:o.punchIn.timezoneOffset}},this.attendance.punchOut=null!==(t=o.punchOut)&&void 0!==t&&t.userDate?{...o.punchOut,timezone:{id:o.punchOut.timezone.name,label:o.punchOut.timezone.label,_offset:o.punchOut.timezoneOffset}}:null}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){var e,t,o;this.isEmployeeEdit?Y("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.attendance.employee)||void 0===e?void 0:e.empNumber,date:null===(t=this.attendance.punchIn)||void 0===t?void 0:t.userDate}):Y("/attendance/viewMyAttendanceRecord",void 0,{date:null===(o=this.attendance.punchIn)||void 0===o?void 0:o.userDate})},onSave(){this.isLoading=!0;const e={punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchInNote:this.attendance.punchIn.note,...this.isTimezoneEditable&&{punchInOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInTimezoneName:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone.id:this.attendance.punchIn.timezone.name}};this.attendance.punchOut&&(e.punchOutDate=this.attendance.punchOut.userDate,e.punchOutTime=this.attendance.punchOut.userTime,e.punchOutNote=this.attendance.punchOut.note,this.isTimezoneEditable&&(e.punchOutOffset=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone._offset:this.attendance.punchOut.timezoneOffset,e.punchOutTimezoneName=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone.id:this.attendance.punchOut.timezone.name)),this.http.update(this.attendanceId,e).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})},validateRecord(e){return null===xe(this.attendance.punchIn.userDate)||(!(!this.attendance.punchOut||null!==xe(this.attendance.punchOut.userDate))||new Promise(t=>{var o,a,l,n;this.http.request({method:"GET",url:"api/v2/attendance/records/"+e,params:{recordId:this.attendanceId,punchInTimezoneOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchOutTimezoneOffset:null!==(o=this.attendance.punchOut)&&void 0!==o&&o.timezone?this.attendance.punchOut.timezone._offset:null===(a=this.attendance.punchOut)||void 0===a?void 0:a.timezoneOffset,punchOutDate:null===(l=this.attendance.punchOut)||void 0===l?void 0:l.userDate,punchOutTime:null===(n=this.attendance.punchOut)||void 0===n?void 0:n.userTime},validateStatus:e=>e>=200&&e<300||400==e}).then(e=>{const{data:o,error:a}=e.data;return a?t(a.message):!0===o.valid?t(!0):t(this.$t("attendance.overlapping_records_found"))})}))}}};o("06e3");const xT=y()(VT,[["render",yT],["__scopeId","data-v-294edf08"]]);var wT=xT;const NT=e=>(Object(a["pushScopeId"])("data-v-a86e6d96"),e=e(),Object(a["popScopeId"])(),e),_T=NT(()=>Object(a["createElementVNode"])("br",null,null,-1)),kT={class:"orangehrm-paper-container"},ST={class:"orangehrm-header-container"},DT={class:"orangehrm-container"},$T={class:"orangehrm-bottom-container"};function ET(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("date-input"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("oxd-table-filter"),g=Object(a["resolveComponent"])("oxd-text"),v=Object(a["resolveComponent"])("table-header"),f=Object(a["resolveComponent"])("oxd-card-table"),y=Object(a["resolveComponent"])("oxd-pagination"),C=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(O,{"filter-title":e.$t("attendance.my_attendance_records")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.date,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.date=e),rules:l.rules.date,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),_T,Object(a["createElementVNode"])("div",kT,[Object(a["createElementVNode"])("div",ST,[Object(a["createVNode"])(g,{class:"orangehrm-header-total",tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(l.totalDuration),1)]),_:1})]),Object(a["createVNode"])(v,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(a["createElementVNode"])("div",DT,[Object(a["createVNode"])(f,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:o.isEditable,clickable:!1,loading:l.isLoading,class:"orangehrm-my-attendance","row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(a["createElementVNode"])("div",$T,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(C,{ref:"deleteDialog"},null,512)])],64)}const TT={class:"oxd-table-card-cell"},BT={class:"data"};function IT(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",TT,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",{class:"header"},Object(a["toDisplayString"])(o.header.title),513),[[a["vShow"],r.showHeader]]),Object(a["createElementVNode"])("div",BT,[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.date)+" "+Object(a["toDisplayString"])(o.time)+" ",1),Object(a["createVNode"])(i,{tag:"span",class:"timezone"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" GMT "+Object(a["toDisplayString"])(o.offset?o.offset:"00:00"),1)]),_:1})]),_:1})])],512)),[[a["vShow"],o.date]])}var LT={name:"RecordCell",inject:["screenState"],props:{header:{type:Object,required:!0},date:{type:String,default:null},time:{type:String,default:null},offset:{type:String,default:null}},computed:{showHeader(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};o("f94a");const UT=y()(LT,[["render",IT],["__scopeId","data-v-1a8693ce"]]);var AT=UT,PT={components:{"delete-confirmation":Yt},props:{date:{type:String,default:null},isEditable:{type:Boolean,default:!1}},setup(e){const{locale:t}=He(),{jsDateFormat:o,userDateFormat:l}=ie(),n={date:[io,so(l)]},r=Object(a["ref"])({date:e.date?e.date:we(Ve(),"yyyy-MM-dd")}),i=Object(a["computed"])(()=>({date:r.value.date})),c=new K(window.appGlobal.baseUrl,"api/v2/attendance/records"),d=e=>e.map(e=>{const{punchIn:a,punchOut:l}=e,n=we(xe(null===a||void 0===a?void 0:a.userDate),o,{locale:t}),r=we(xe(null===l||void 0===l?void 0:l.userDate),o,{locale:t});return{id:e.id,punchIn:{...a,userDate:n},punchOut:{...l,userDate:r},punchInNote:a.note,punchOutNote:l.note,duration:e.duration}}),{total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h,currentPage:j,showPaginator:O}=zt(c,{query:i,normalizer:d}),g=Object(a["computed"])(()=>{var e;const t=null===(e=b.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"});return{http:c,rules:n,total:s,pages:m,filters:r,pageSize:u,isLoading:p,execQuery:h,currentPage:j,showPaginator:O,items:b,totalDuration:g}},data(){return{headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},{...this.isEditable&&{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}}],checkedItems:[]}},methods:{cellRenderer(...e){const t=e[1];return{component:AT,props:{date:t.userDate,time:t.userTime,offset:Le(t.offset)}}},onClickEdit(e){Y("/attendance/editAttendanceRecord/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};o("ca45");const qT=y()(PT,[["render",ET],["__scopeId","data-v-a86e6d96"]]);var MT=qT;const FT={class:"orangehrm-background-container"},zT={class:"orangehrm-card-container"},RT={class:"orangehrm-attendance-field-row"},GT={class:"orangehrm-attendance-field-row"},QT={class:"orangehrm-attendance-field-row"};function HT(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-switch-input"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("submit-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",FT,[Object(a["createElementVNode"])("div",zT,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.attendance_configuration")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",RT,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.employee_can_change_current_time_when_punching_in_out")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.config.canUserChangeCurrentTime,"onUpdate:modelValue":t[0]||(t[0]=e=>n.config.canUserChangeCurrentTime=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",GT,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.employee_can_edit_delete_own_attendance_records")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.config.canUserModifyAttendance,"onUpdate:modelValue":t[1]||(t[1]=e=>n.config.canUserModifyAttendance=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",QT,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("attendance.supervisor_can_add_edit_delete_attendance_records_of_subordinates")),1)]),_:1}),Object(a["createVNode"])(d,{modelValue:n.config.canSupervisorModifyAttendance,"onUpdate:modelValue":t[2]||(t[2]=e=>n.config.canSupervisorModifyAttendance=e)},null,8,["modelValue"])])]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const WT={canUserChangeCurrentTime:!1,canUserModifyAttendance:!1,canSupervisorModifyAttendance:!1};var JT={components:{"oxd-switch-input":Sl["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/attendance/configs");return{http:e}},data(){return{config:{...WT},isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.config={...t}}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.config}}).then(e=>{const{data:t}=e.data;return this.config={...t},this.$toast.saveSuccess()}).finally(()=>{this.isLoading=!1})}}};o("375e");const YT=y()(JT,[["render",HT],["__scopeId","data-v-ac0e6dbc"]]);var XT=YT;const KT=Object(a["createElementVNode"])("br",null,null,-1);function ZT(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("jobtitle-dropdown"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("employment-status-dropdown"),u=Object(a["resolveComponent"])("date-input"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-table-filter"),f=Object(a["resolveComponent"])("reports-table");return Object(a["openBlock"])(),Object(a["createBlock"])(f,{module:"time",name:"attendance",prefetch:!1,filters:l.serializedFilters,"column-count":2},{default:Object(a["withCtx"])(({generateReport:n})=>[Object(a["createVNode"])(v,{"filter-title":e.$t("attendance.attendance_total_summary_report")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onSubmitValid:n},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.empStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.empStatus=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("general.date_range")},null,8,["modelValue","placeholder","rules","label"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.toDate=e),label:" ",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]),_:1})]),_:2},1032,["onSubmitValid"])]),_:2},1032,["filter-title"]),KT]),footer:Object(a["withCtx"])(({data:t})=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(t.meta?t.meta.sum.label:"0.00"),1)]),_:1},8,["filters"])}const eB={employee:null,fromDate:null,toDate:null,jobTitle:null,subunit:null,empStatus:null};var tB={components:{"reports-table":SC,"jobtitle-dropdown":tb,"employee-autocomplete":Fa,"employment-status-dropdown":db},props:{subunits:{type:Array,default:()=>[]}},setup(){const e=Object(a["ref"])({...eB}),{$t:t}=Ge(),{userDateFormat:o}=ie(),l={fromDate:[so(o),Do(()=>e.value.toDate,t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(o),yo(()=>e.value.fromDate,t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],employee:[Fo]},n=Object(a["computed"])(()=>{var t,o,a,l;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,fromDate:e.value.fromDate,toDate:e.value.toDate,jobTitleId:null===(o=e.value.jobTitle)||void 0===o?void 0:o.id,subunitId:null===(a=e.value.subunit)||void 0===a?void 0:a.id,employmentStatusId:null===(l=e.value.empStatus)||void 0===l?void 0:l.id}});return{rules:l,filters:e,serializedFilters:n}}};const oB=y()(tB,[["render",ZT]]);var aB=oB;const lB=e=>(Object(a["pushScopeId"])("data-v-ebaa4ae4"),e=e(),Object(a["popScopeId"])(),e),nB=lB(()=>Object(a["createElementVNode"])("br",null,null,-1)),rB={class:"orangehrm-paper-container"},iB={class:"orangehrm-container"},cB={class:"orangehrm-bottom-container"};function dB(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("date-input"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form"),g=Object(a["resolveComponent"])("oxd-table-filter"),v=Object(a["resolveComponent"])("table-header"),f=Object(a["resolveComponent"])("oxd-card-table"),y=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(g,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.date,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.date=e),rules:l.rules.date,years:n.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),nB,Object(a["createElementVNode"])("div",rB,[Object(a["createVNode"])(v,{total:l.total,selected:0,loading:l.isLoading,"show-divider":!1},null,8,["total","loading"]),Object(a["createElementVNode"])("div",iB,[Object(a["createVNode"])(f,{headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(a["createElementVNode"])("div",cB,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])],64)}var sB={components:{"employee-autocomplete":Fa},props:{date:{type:String,default:null}},setup(e){const{$tEmpName:t}=za(),{userDateFormat:o}=ie(),l={date:[io,so(o)]},n=Object(a["ref"])({date:e.date?e.date:we(Ve(),"yyyy-MM-dd"),employee:null}),r=Object(a["computed"])(()=>{var e;return{date:n.value.date,empNumber:null===(e=n.value.employee)||void 0===e?void 0:e.id}}),i=e=>e.map(e=>{var o;return{id:e.empNumber,empName:t(e,{includeMiddle:!1,excludePastEmpTag:!1}),duration:null===(o=e.sum)||void 0===o?void 0:o.label}}),c=new K(window.appGlobal.baseUrl,"api/v2/attendance/employees/summary"),{total:d,pages:s,response:m,isLoading:u,execQuery:b,currentPage:p,showPaginator:h}=zt(c,{query:r,normalizer:i});return{http:c,rules:l,total:d,pages:s,filters:n,isLoading:u,execQuery:b,currentPage:p,showPaginator:h,items:m}},data(){return{yearArray:[...HO()],headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"duration",title:this.$t("time.total_duration"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{async resetDataTable(){await this.execQuery()},async filterItems(){if(this.filters.employee&&this.filters.date)return Y("/attendance/viewAttendanceRecord",void 0,{employeeId:this.filters.employee.id,date:this.filters.date});await this.execQuery()},onClickView(e){Y("/attendance/viewAttendanceRecord",void 0,{employeeId:e.id,date:this.filters.date})}}};o("89f7");const mB=y()(sB,[["render",dB],["__scopeId","data-v-ebaa4ae4"]]);var uB=mB;const bB=Object(a["createElementVNode"])("br",null,null,-1),pB={class:"orangehrm-paper-container"},hB={key:0,class:"orangehrm-header-container"},jB={class:"orangehrm-container"},OB={class:"orangehrm-bottom-container"};function gB(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("date-input"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form"),g=Object(a["resolveComponent"])("oxd-table-filter"),v=Object(a["resolveComponent"])("oxd-text"),f=Object(a["resolveComponent"])("table-header"),y=Object(a["resolveComponent"])("oxd-card-table"),C=Object(a["resolveComponent"])("oxd-pagination"),V=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(g,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{onSubmitValid:r.onClickView},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.date,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.date=e),rules:l.rules.date,years:n.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),bB,Object(a["createElementVNode"])("div",pB,[o.isEditable&&l.filters.employee?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hB,[Object(a["createVNode"])(h,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"]),Object(a["createVNode"])(v,{class:"orangehrm-header-total",tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(a["toDisplayString"])(l.totalDuration),1)]),_:1})])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(f,{total:l.total,loading:l.isLoading,"show-divider":o.isEditable,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","show-divider","selected","onDelete"]),Object(a["createElementVNode"])("div",jB,[Object(a["createVNode"])(y,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:o.isEditable,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(a["createElementVNode"])("div",OB,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(V,{ref:"deleteDialog"},null,512)])],64)}var vB={components:{"employee-autocomplete":Fa,"delete-confirmation":Yt},props:{date:{type:String,default:null},employee:{type:Object,required:!0},isEditable:{type:Boolean,default:!1}},setup(e){const t=Object(a["ref"])({date:e.date?e.date:we(Ve(),"yyyy-MM-dd"),employee:e.employee?{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}:null}),o=Object(a["computed"])(()=>{var e;return{date:t.value.date,empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id}}),l=new K(window.appGlobal.baseUrl,`api/v2/attendance/employees/${e.employee.empNumber}/records`),{locale:n}=He(),{jsDateFormat:r,userDateFormat:i}=ie(),c={date:[io,so(i)],employee:[Fo]},d=e=>e.map(e=>{const{punchIn:t,punchOut:o}=e,a=we(xe(null===t||void 0===t?void 0:t.userDate),r,{locale:n}),l=we(xe(null===o||void 0===o?void 0:o.userDate),r,{locale:n});return{id:e.id,punchIn:{...t,userDate:a},punchOut:{...o,userDate:l},punchInNote:t.note,punchOutNote:o.note,duration:e.duration}}),{total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h,currentPage:j,showPaginator:O}=zt(l,{query:o,normalizer:d,prefetch:!0}),g=Object(a["computed"])(()=>{var e;const t=null===(e=b.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"});return{http:l,rules:c,total:s,pages:m,filters:t,pageSize:u,isLoading:p,execQuery:h,currentPage:j,showPaginator:O,items:b,totalDuration:g}},data(){return{yearArray:[...HO()],headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},{...this.isEditable&&{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}}],checkedItems:[]}},methods:{cellRenderer(...e){const t=e[1];return{component:AT,props:{date:t.userDate,time:t.userTime,offset:Le(t.offset)}}},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickView(){var e,t;return Y("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickAdd(){var e,t;return Y("/attendance/proxyPunchInPunchOut",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickEdit(e){return Y("/attendance/editEmployeeAttendanceRecord/{id}",{id:e.id})}}};const fB=y()(vB,[["render",gB]]);var yB=fB,CB={"attendance-punch-in":dT,"attendance-punch-out":jT,"edit-attendance":wT,"view-my-attendance":MT,"attendance-configuration":XT,"attendance-summary-report":aB,"view-employee-attendance-summary":uB,"view-employee-attendance-detailed":yB};const VB={class:"orangehrm-background-container"},xB=Object(a["createElementVNode"])("br",null,null,-1),wB={key:1};function NB(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("purge-employee-records"),c=Object(a["resolveComponent"])("selected-employee"),d=Object(a["resolveComponent"])("maintenance-note"),s=Object(a["resolveComponent"])("purge-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",VB,[Object(a["createVNode"])(i,{"include-employees-param":"onlyPast","title-label":e.$t("maintenance.purge_employee_records"),"autocomplete-label":e.$t("maintenance.past_employee"),onSearch:r.onClickSearch},null,8,["title-label","autocomplete-label","onSearch"]),xB,n.showPurgeableEmployee?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,loading:n.isLoading,"selected-employee":n.selectedEmployee,"button-label":e.$t("maintenance.purge"),onSubmit:r.onClickPurge},null,8,["loading","selected-employee","button-label","onSubmit"])):Object(a["createCommentVNode"])("",!0),n.showPurgeableEmployee?(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",wB)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"]),Object(a["createVNode"])(s,{ref:"purgeDialog",title:e.$t("maintenance.purge_employee"),subtitle:e.$t("maintenance.purge_employee_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}const _B={class:"orangehrm-card-container"},kB={class:"orangehrm-selected-employee"},SB={class:"orangehrm-selected-employee-imagesection"},DB={class:"orangehrm-selected-employee-image-wrapper"},$B={class:"orangehrm-selected-employee-image"},EB=["src"],TB={class:"orangehrm-selected-employee-content"};function BB(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("full-name-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-input-field"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_B,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("maintenance.selected_employee")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{loading:o.loading,onSubmit:r.emitEmpNumber},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",kB,[Object(a["createElementVNode"])("div",SB,[Object(a["createElementVNode"])("div",DB,[Object(a["createElementVNode"])("div",$B,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,EB)])])]),Object(a["createElementVNode"])("div",TB,[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{"first-name":o.selectedEmployee.firstName,"middle-name":o.selectedEmployee.middleName,"last-name":o.selectedEmployee.lastName,rules:n.rules,"show-middle-name-placeholder":!1,disabled:""},null,8,["first-name","middle-name","last-name","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"model-value":o.selectedEmployee.employeeId,label:e.$t("general.employee_id"),rules:n.rules.employeeId,disabled:""},null,8,["model-value","label","rules"])]),_:1})]),_:1})]),_:1})])]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{"display-type":"secondary",label:o.buttonLabel,type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmit"])])}var IB={name:"SelectedEmployee",components:{"full-name-input":Uu},props:{selectedEmployee:{type:Object,required:!0},buttonLabel:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["submit"],setup(e){const t=Object(a["computed"])(()=>`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.selectedEmployee.empNumber}`);return{imgSrc:t}},data(){return{rules:{firstName:[co(30)],middleName:[co(30)],lastName:[co(30)],employeeId:[co(10)]}}},methods:{emitEmpNumber(){this.$emit("submit",this.selectedEmployee.empNumber)}}};o("d575");const LB=y()(IB,[["render",BB],["__scopeId","data-v-355d4afa"]]);var UB=LB;const AB={class:"orangehrm-card-container"};function PB(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AB,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.titleLabel),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{onSubmit:r.emitEmployee},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employee=e),rules:n.rules.employee,params:{includeEmployees:o.includeEmployeesParam},label:o.autocompleteLabel,required:""},null,8,["modelValue","rules","params","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmit"])])}var qB={name:"EmployeeRecords",components:{"required-text":B,"employee-autocomplete":Fa},props:{includeEmployeesParam:{type:String,required:!0},titleLabel:{type:String,required:!0},autocompleteLabel:{type:String,required:!0}},emits:["search"],data(){return{employee:null,rules:{employee:[io,Fo]}}},methods:{emitEmployee(){var e;this.$emit("search",null===(e=this.employee)||void 0===e?void 0:e._employee)}}};const MB=y()(qB,[["render",PB]]);var FB=MB;const zB={class:"orangehrm-modal-header"},RB={class:"orangehrm-text-center-align"},GB={class:"orangehrm-modal-footer"};function QB(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",zB,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.title),1)]),_:1})]),Object(a["createElementVNode"])("div",RB,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.subtitle),1)]),_:1})]),Object(a["createElementVNode"])("div",GB,[Object(a["createVNode"])(c,{label:o.cancelLabel,"display-type":o.cancelButtonType,class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","display-type","onClick"]),Object(a["createVNode"])(c,{"icon-name":o.icon,label:o.confirmLabel,"display-type":o.confirmButtonType,class:"orangehrm-button-margin",onClick:r.onConfirm},null,8,["icon-name","label","display-type","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var HB={components:{"oxd-dialog":ee["a"]},props:{title:{type:String,required:!0},subtitle:{type:String,required:!0},cancelLabel:{type:String,required:!0},confirmLabel:{type:String,required:!0},icon:{type:String,required:!1,default:""},confirmButtonType:{type:String,required:!1,default:"label-danger"},cancelButtonType:{type:String,required:!1,default:"text"}},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("eafc");const WB=y()(HB,[["render",QB],["__scopeId","data-v-149abb74"]]);var JB=WB;const YB={key:0,class:"orangehrm-maintenance-note"},XB={class:"orangehrm-maintenance-note-header"};function KB(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return null!==o.instanceIdentifier?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",YB,[Object(a["createElementVNode"])("div",XB,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.note")),1)]),_:1})]),Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("maintenance.gdpr_note",{instanceIdentifier:o.instanceIdentifier})),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)}var ZB={name:"MaintenanceNote",props:{instanceIdentifier:{type:String,required:!0}}};o("d32a");const eI=y()(ZB,[["render",KB],["__scopeId","data-v-23b16e4f"]]);var tI=eI;const oI={firstName:"",middleName:"",lastName:"",employeeId:"",empNumber:""};var aI={name:"PurgeEmployee",components:{"purge-confirmation":JB,"purge-employee-records":FB,"selected-employee":UB,"maintenance-note":tI},props:{instanceIdentifier:{type:String,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/maintenance/purge");return{http:e}},data(){return{isLoading:!1,showPurgeableEmployee:!1,selectedEmployee:{...oI}}},methods:{onClickSearch(e){this.selectedEmployee={...oI},e?(this.selectedEmployee={...e},this.showPurgeableEmployee=!0):this.showPurgeableEmployee=!1},onClickPurge(e){this.$refs.purgeDialog.showDialog().then(t=>{"ok"===t&&this.purgeEmployee(e)})},purgeEmployee(e){this.isLoading=!0,this.http.deleteAll({empNumber:e}).then(()=>this.$toast.success({title:this.$t("general.success"),message:this.$t("maintenance.purge_success")})).then(()=>{this.showPurgeableEmployee=!1,this.selectedEmployee={...oI},this.isLoading=!1,Y("/maintenance/purgeEmployee")})}}};const lI=y()(aI,[["render",NB]]);var nI=lI;const rI={class:"orangehrm-background-container"},iI=Object(a["createElementVNode"])("br",null,null,-1);function cI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("selected-candidates"),c=Object(a["resolveComponent"])("maintenance-note"),d=Object(a["resolveComponent"])("purge-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rI,[Object(a["createVNode"])(i,{loading:n.isLoading,onPurge:r.onClickPurge},null,8,["loading","onPurge"]),iI,Object(a["createVNode"])(c,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"]),Object(a["createVNode"])(d,{ref:"purgeDialog",title:e.$t("maintenance.purge_candidates"),subtitle:e.$t("maintenance.purge_candidates_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}const dI={key:0,class:"orangehrm-paper-container"},sI={class:"orangehrm-header-container"},mI={class:"orangehrm-container"},uI={class:"orangehrm-bottom-container"};function bI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("purge-candidate-records"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table"),m=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(i,{onSearch:r.onClickSearch},null,8,["onSearch"]),l.vacancy?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",dI,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",sI,[Object(a["createVNode"])(c,{label:e.$t("maintenance.purge_all"),"display-type":"secondary",onClick:r.onClickPurge},null,8,["label","onClick"])],512),[[a["vShow"],l.total>0]]),Object(a["createVNode"])(d,{total:l.total,selected:0,"show-divider":l.total>0,loading:l.isLoading||o.loading},null,8,["total","show-divider","loading"]),Object(a["createElementVNode"])("div",mI,[Object(a["createVNode"])(s,{headers:n.headers,clickable:!1,selectable:!1,loading:l.isLoading||o.loading,items:l.items.data,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","loading","items"])]),Object(a["createElementVNode"])("div",uI,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])):Object(a["createCommentVNode"])("",!0)],64)}const pI={class:"orangehrm-card-container"};function hI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("vacancy-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",pI,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("maintenance.purge_candidate_records")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,{onSubmitValid:t[1]||(t[1]=t=>e.$emit("search",n.vacancy.id))},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy=e),rules:n.rules.vacancy,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1})])}function jI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",label:e.$t("recruitment.vacancy"),clear:!1,"create-options":r.loadVacancies},{option:Object(a["withCtx"])(({data:e})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.label),1)]),_:1},8,["label","create-options"])}var OI={name:"VacancyAutocomplete",setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return{http:e}},methods:{async loadVacancies(e){return new Promise(t=>{e.trim()?this.http.getAll({name:e.trim()}).then(({data:e})=>{t(e.data.map(e=>({id:e.id,label:e.name})))}):t([])})}}};const gI=y()(OI,[["render",jI]]);var vI=gI,fI={name:"CandidateRecords",components:{"required-text":B,"vacancy-autocomplete":vI},emits:["search"],data(){return{vacancy:null,rules:{vacancy:[io,Fo]}}}};const yI=y()(fI,[["render",hI]]);var CI=yI,VI={name:"SelectedCandidates",components:{"purge-candidate-records":CI},props:{loading:{type:Boolean,default:!1}},emits:["purge"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/maintenance/candidates"),t=Object(a["ref"])(null),{locale:o}=He(),{jsDateFormat:l}=ie(),{$tEmpName:n}=za(),r=Object(a["computed"])(()=>({vacancyId:t.value})),i=e=>e.map(e=>({name:n({firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,terminationId:null},{includeMiddle:!0}),date:we(xe(e.dateOfApplication),l,{locale:o}),status:e.status.label})),{total:c,pages:d,response:s,isLoading:m,currentPage:u,showPaginator:b,execQuery:p}=zt(e,{prefetch:!1,query:r,normalizer:i});return{http:e,total:c,pages:d,vacancy:t,isLoading:m,currentPage:u,showPaginator:b,items:s,execQuery:p}},data(){return{headers:[{name:"name",title:this.$t("recruitment.candidate_name"),style:{flex:"45%"}},{name:"date",title:this.$t("recruitment.date_of_application"),style:{flex:"45%"}},{name:"status",title:this.$t("general.status"),style:{flex:"10%"}}]}},methods:{onClickSearch(e){this.vacancy=e,this.execQuery()},onClickPurge(){this.vacancy&&this.$emit("purge",this.vacancy)}}};o("08f1");const xI=y()(VI,[["render",bI],["__scopeId","data-v-1d9c9e6e"]]);var wI=xI,NI={name:"PurgeCandidate",components:{"maintenance-note":tI,"purge-confirmation":JB,"selected-candidates":wI},props:{instanceIdentifier:{type:String,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/maintenance/candidates/purge");return{http:e}},data(){return{isLoading:!1}},methods:{onClickPurge(e){const t=e;this.$refs.purgeDialog.showDialog().then(e=>{"ok"===e&&this.purgeCandidates(t)})},purgeCandidates(e){this.isLoading=!0,this.http.deleteAll({vacancyId:e}).then(()=>this.$toast.success({title:this.$t("general.success"),message:this.$t("maintenance.purge_success")})).then(()=>{X()})}}};const _I=y()(NI,[["render",cI]]);var kI=_I;const SI={key:0,class:"orangehrm-background-container"},DI={key:1};function $I(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-records"),c=Object(a["resolveComponent"])("selected-employee"),d=Object(a["resolveComponent"])("maintenance-note");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(i,{"title-label":e.$t("maintenance.download_personal_data"),"include-employees-param":"currentAndPast","autocomplete-label":e.$t("general.employee_name"),onSearch:r.search},null,8,["title-label","autocomplete-label","onSearch"]),n.employee?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",SI,[Object(a["createVNode"])(c,{"button-label":e.$t("general.download"),"selected-employee":n.employee,onSubmit:r.downloadEmployeeData},null,8,["button-label","selected-employee","onSubmit"])])):Object(a["createCommentVNode"])("",!0),n.employee?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",DI)),Object(a["createVNode"])(d,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"])],64)}var EI={components:{"employee-records":FB,"selected-employee":UB,"maintenance-note":tI},props:{instanceIdentifier:{type:String,default:null}},data(){return{employee:null}},methods:{search(e){this.employee=e},downloadEmployeeData(e){const t=`${window.appGlobal.baseUrl}/maintenance/accessEmployeeData/${e}`;window.open(t,"_blank")}}};const TI=y()(EI,[["render",$I]]);var BI=TI,II={"purge-employee":nI,"purge-candidate":kI,"access-employee-search":BI};const LI=e=>(Object(a["pushScopeId"])("data-v-2fa587c2"),e=e(),Object(a["popScopeId"])(),e),UI={class:"orangehrm-background-container"},AI=LI(()=>Object(a["createElementVNode"])("br",null,null,-1)),PI={class:"orangehrm-paper-container"},qI={class:"orangehrm-header-container"},MI={class:"orangehrm-container"},FI={class:"orangehrm-bottom-container"};function zI(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("jobtitle-dropdown"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("vacancy-dropdown"),m=Object(a["resolveComponent"])("hiring-manager-dropdown"),u=Object(a["resolveComponent"])("oxd-input-field"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-table-filter"),f=Object(a["resolveComponent"])("table-header"),y=Object(a["resolveComponent"])("oxd-card-table"),C=Object(a["resolveComponent"])("oxd-pagination"),V=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",UI,[Object(a["createVNode"])(v,{"filter-title":e.$t("general.vacancies")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.vacancyId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.vacancyId=e),label:e.$t("recruitment.vacancy")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.hiringManagerId,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.hiringManagerId=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),clear:!1,options:n.statusOptions},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(j,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),AI,Object(a["createElementVNode"])("div",PI,[Object(a["createElementVNode"])("div",qI,[Object(a["createVNode"])(j,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(f,{selected:n.checkedItems.length,loading:l.isLoading,total:l.total,onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),Object(a["createElementVNode"])("div",MI,[Object(a["createVNode"])(y,{selected:n.checkedItems,"onUpdate:selected":t[4]||(t[4]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[5]||(t[5]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card",class:"orangehrm-vacancy-list"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",FI,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:0,current:l.currentPage,"onUpdate:current":t[6]||(t[6]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(V,{ref:"deleteDialog"},null,512)])}function RI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("recruitment.vacancy"),options:l.options},null,8,["label","options"])}var GI={name:"VacancyDropdown",props:{status:{type:Boolean,required:!1,default:null},excludeInterviewers:{type:Boolean,required:!1,default:!1}},setup(e){const t=Object(a["ref"])([]),{$t:o}=Ge(),l=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return Object(a["onBeforeMount"])(()=>{const a={model:"summary",limit:0};null!==e.status&&(a.status=e.status),a.excludeInterviewers=e.excludeInterviewers,l.getAll(a).then(({data:e})=>{t.value=e.data.map(e=>({id:e.id,label:!1===e.status?`${e.name} (${o("general.closed")})`:e.name}))})}),{options:t}}};const QI=y()(GI,[["render",RI]]);var HI=QI;function WI(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("recruitment.hiring_manager"),options:l.options},null,8,["label","options"])}var JI={name:"HiringManagerDropdown",setup(){const e=Object(a["ref"])([]),{$tEmpName:t}=za(),o=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/hiring-managers");return Object(a["onBeforeMount"])(()=>{o.getAll({limit:0}).then(({data:o})=>{e.value=o.data.map(e=>({id:e.empNumber,label:t(e,{includeMiddle:!1,excludePastEmpTag:!1})}))})}),{options:e}}};const YI=y()(JI,[["render",WI]]);var XI=YI;const KI={jobTitleId:null,hiringManagerId:null,vacancyId:null,status:null},ZI={"vacancy.name":"ASC","vacancy.status":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","hiringManager.lastName":"DEFAULT"};var eL={name:"ViewJobVacancy",components:{"delete-confirmation":Yt,"jobtitle-dropdown":tb,"vacancy-dropdown":HI,"hiring-manager-dropdown":XI},setup(){const{$t:e}=Ge(),{$tEmpName:t}=za(),o=Object(a["ref"])({...KI}),{sortDefinition:l,sortField:n,sortOrder:r,onSort:i}=Xt({sortDefinition:ZI}),c=Object(a["computed"])(()=>{var e,t,a,l;return{vacancyId:null===(e=o.value.vacancyId)||void 0===e?void 0:e.id,jobTitleId:null===(t=o.value.jobTitleId)||void 0===t?void 0:t.id,hiringManagerId:null===(a=o.value.hiringManagerId)||void 0===a?void 0:a.id,status:null===(l=o.value.status)||void 0===l?void 0:l.id,sortField:n.value,sortOrder:r.value,model:"detailed"}}),d=o=>o.map(o=>{var a,l;return{id:o.id,vacancy:o.name,jobTitle:null!==(a=o.jobTitle)&&void 0!==a&&a.isDeleted?o.jobTitle.title+e("general.deleted"):null===(l=o.jobTitle)||void 0===l?void 0:l.title,hiringManager:t(o.hiringManager),status:o.status?e("general.active"):e("general.closed")}}),s=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies"),{showPaginator:m,currentPage:u,total:b,pages:p,pageSize:h,response:j,isLoading:O,execQuery:g}=zt(s,{query:c,normalizer:d});return i(g),{http:s,showPaginator:m,currentPage:u,isLoading:O,total:b,pages:p,pageSize:h,execQuery:g,items:j,filters:o,sortDefinition:l}},data(){return{headers:[{name:"vacancy",slot:"title",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:3}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:3}},{name:"hiringManager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:3}},{name:"status",title:this.$t("general.status"),sortField:"vacancy.status",style:{flex:2}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],statusOptions:[{id:!0,param:"active",label:this.$t("general.active")},{id:!1,param:"closed",label:this.$t("general.closed")}],vacancies:[],checkedItems:[]}},methods:{onClickAdd(){Y("/recruitment/addJobVacancy")},onClickEdit(e){Y("/recruitment/addJobVacancy/{id}",{id:e.id})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData([e.id])})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData(e)})},async deleteData(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...KI},this.filterItems()}}};o("7325");const tL=y()(eL,[["render",zI],["__scopeId","data-v-2fa587c2"]]);var oL=tL;const aL=e=>(Object(a["pushScopeId"])("data-v-96709e38"),e=e(),Object(a["popScopeId"])(),e),lL={class:"orangehrm-background-container"},nL={class:"orangehrm-card-container"},rL=aL(()=>Object(a["createElementVNode"])("br",null,null,-1)),iL=aL(()=>Object(a["createElementVNode"])("br",null,null,-1)),cL={class:"orangehrm-vacancy-links"},dL=aL(()=>Object(a["createElementVNode"])("br",null,null,-1));function sL(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("jobtitle-dropdown"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("employee-autocomplete"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("vacancy-link-card"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lL,[Object(a["createElementVNode"])("div",nL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.add_vacancy")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy.name=e),label:e.$t("recruitment.vacancy_name"),required:"",rules:n.rules.name},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.vacancy.jobTitle=e),rules:n.rules.jobTitle,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-grid-item-span-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.vacancy.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=e=>n.vacancy.hiringManager=e),params:{includeEmployees:"onlyCurrent"},required:"",rules:n.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy.numOfPositions=e),label:e.$t("recruitment.num_of_positions"),rules:n.rules.numOfPositions},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangerhrm-switch-wrapper"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.active")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.vacancy.status=e)},null,8,["modelValue"])]),_:1})]),_:1}),rL,Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangerhrm-switch-wrapper"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=e=>n.vacancy.isPublished=e)},null,8,["modelValue"])]),_:1})]),_:1}),iL,Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-grid-item-span-2"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",cL,[Object(a["createVNode"])(h,{label:e.$t("recruitment.rss_feed_url"),url:n.rssFeedUrl},null,8,["label","url"]),Object(a["createVNode"])(h,{label:e.$t("recruitment.web_page_url"),url:n.webUrl},null,8,["label","url"])])]),_:1})]),_:1}),dL,Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const mL={class:"orangehrm-label-link-wrapper"},uL=["href"];function bL(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",mL,[Object(a["createVNode"])(i,{class:"orangehrm-text-label",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.label)+" : ",1)]),_:1}),Object(a["createElementVNode"])("a",{href:o.url,target:"_blank",class:"orangehrm-vacancy-link"},Object(a["toDisplayString"])(o.url),9,uL)])}var pL={name:"VacancyLinkCard",props:{label:{type:String,required:!0},url:{type:String,required:!0}}};o("bdf9");const hL=y()(pL,[["render",bL],["__scopeId","data-v-7a7e694e"]]);var jL=hL;const OL={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!0,isPublished:!0},gL=`${window.location.protocol}//${window.location.host}${window.appGlobal.baseUrl}`;var vL={components:{"oxd-switch-input":Sl["a"],"employee-autocomplete":Fa,"jobtitle-dropdown":tb,"vacancy-link-card":jL},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return{http:e}},data(){return{isLoading:!1,vacancy:{...OL},rules:{jobTitle:[io],name:[io,co(50)],hiringManager:[io,Fo],numOfPositions:[e=>null===e||""===e||("string"===typeof ho(e)?ho(e):Lo(1,99)(e))],description:[],status:[io],isPublished:[io]},rssFeedUrl:gL+"/recruitmentApply/jobs.rss",webUrl:gL+"/recruitmentApply/jobs.html"}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e);return-1===o||this.$t("general.already_exists")})}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/recruitment/viewJobVacancy")},onSave(){this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.create({...this.vacancy}).then(e=>{const{data:t}=e.data;this.$toast.saveSuccess(),Y("/recruitment/addJobVacancy/{id}",{id:t.id})})}}};o("7911");const fL=y()(vL,[["render",sL],["__scopeId","data-v-96709e38"]]);var yL=fL;const CL=e=>(Object(a["pushScopeId"])("data-v-a7de05fa"),e=e(),Object(a["popScopeId"])(),e),VL={class:"orangehrm-background-container"},xL={class:"orangehrm-card-container"},wL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),NL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),_L={class:"orangehrm-vacancy-links"},kL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),SL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),DL={key:0,class:"orangehrm-card-container"},$L=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),EL={key:1,class:"orangehrm-card-container"},TL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),BL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),IL={class:"orangehrm-paper-container"},LL={class:"orangehrm-header-container orangehrm-attachment-header"},UL={class:"orangehrm-container"},AL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1)),PL=CL(()=>Object(a["createElementVNode"])("br",null,null,-1));function qL(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("jobtitle-dropdown"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("employee-autocomplete"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("vacancy-link-card"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("submit-button"),v=Object(a["resolveComponent"])("oxd-form-actions"),f=Object(a["resolveComponent"])("oxd-form"),y=Object(a["resolveComponent"])("file-upload-input"),C=Object(a["resolveComponent"])("table-header"),V=Object(a["resolveComponent"])("oxd-card-table"),x=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",VL,[Object(a["createElementVNode"])("div",xL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.edit_vacancy")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{novalidate:"true",loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy.name=e),label:e.$t("recruitment.vacancy_name"),required:"",rules:n.rules.name},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.vacancy.jobTitle=e),rules:n.rules.jobTitle,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-grid-item-span-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.vacancy.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=e=>n.vacancy.hiringManager=e),params:{includeEmployees:"onlyCurrent"},required:"",rules:n.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy.numOfPositions=e),label:e.$t("recruitment.num_of_positions"),rules:n.rules.numOfPositions},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangerhrm-switch-wrapper"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.active")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.vacancy.status=e)},null,8,["modelValue"])]),_:1})]),_:1}),wL,Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangerhrm-switch-wrapper"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-text",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=e=>n.vacancy.isPublished=e)},null,8,["modelValue"])]),_:1})]),_:1}),NL,Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-grid-item-span-2"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",_L,[Object(a["createVNode"])(h,{label:e.$t("recruitment.rss_feed_url"),url:n.rssFeedUrl},null,8,["label","url"]),Object(a["createVNode"])(h,{label:e.$t("recruitment.web_page_url"),url:n.webUrl},null,8,["label","url"])])]),_:1})]),_:1}),kL,Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(g)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),SL,n.isAddClicked&&!n.isEditClicked?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",DL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoadingAttachment,onSubmitValid:r.onSaveAttachment},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,{newFile:n.vacancyAttachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=e=>n.vacancyAttachment.newAttachment=e),method:n.vacancyAttachment.method,"onUpdate:method":t[8]||(t[8]=e=>n.vacancyAttachment.method=e),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:n.vacancyAttachment.oldAttachment,rules:n.rules.addAttachment,url:"recruitment/vacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancyAttachment.comment,"onUpdate:modelValue":t[9]||(t[9]=e=>n.vacancyAttachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1}),$L,Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.updateVisibility},null,8,["label","onClick"]),Object(a["createVNode"])(g,{label:e.$t("general.save")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])])):Object(a["createCommentVNode"])("",!0),n.isEditClicked&&!n.isAddClicked?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",EL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,{loading:n.isLoadingAttachment,onSubmitValid:r.onUpdateAttachment},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,{newFile:n.vacancyAttachment.newAttachment,"onUpdate:newFile":t[10]||(t[10]=e=>n.vacancyAttachment.newAttachment=e),method:n.vacancyAttachment.method,"onUpdate:method":t[11]||(t[11]=e=>n.vacancyAttachment.method=e),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:n.vacancyAttachment.oldAttachment,rules:n.rules.updateAttachment,url:"recruitment/viewVacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),deletable:!1,required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1})]),_:1}),Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.vacancyAttachment.comment,"onUpdate:modelValue":t[12]||(t[12]=e=>n.vacancyAttachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1}),TL,Object(a["createVNode"])(c),Object(a["createVNode"])(v,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j),Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.updateVisibility},null,8,["label","onClick"]),Object(a["createVNode"])(g,{label:e.$t("general.save")},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])])):Object(a["createCommentVNode"])("",!0),BL,Object(a["createElementVNode"])("div",IL,[Object(a["createElementVNode"])("div",LL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.attachments")),1)]),_:1}),n.isAddClicked||n.isEditClicked?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text",onClick:r.onClickAdd},null,8,["label","onClick"]))]),Object(a["createVNode"])(C,{selected:n.checkedItems.length,loading:n.isLoadingTable,total:n.attachments.length,onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),Object(a["createElementVNode"])("div",UL,[Object(a["createVNode"])(V,{selected:n.checkedItems,"onUpdate:selected":t[13]||(t[13]=e=>n.checkedItems=e),headers:n.headers,items:n.attachments,selectable:!0,clickable:!1,loading:n.isLoadingTable,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createVNode"])(x,{ref:"deleteDialog"},null,512),AL,PL])])}const ML={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!1,isPublished:!1},FL={id:null,comment:"",oldAttachment:{},newAttachment:null,method:"keepCurrent"},zL=`${window.location.protocol}//${window.location.host}${window.appGlobal.baseUrl}`,RL=e=>e.map(e=>({id:e.id,vacancyId:e.vacancyId,fileName:e.attachment.fileName,fileSize:+(e.attachment.fileSize/1024).toFixed(2)+" kb",fileType:e.attachment.fileType,comment:e.comment,attachmentType:e.attachmentType}));var GL={components:{"oxd-switch-input":Sl["a"],"employee-autocomplete":Fa,"jobtitle-dropdown":tb,"vacancy-link-card":jL,"delete-confirmation":Yt,"file-upload-input":Ko},props:{vacancyId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies"),t=new K(window.appGlobal.baseUrl,"api/v2/recruitment/vacancy/attachments");return{http:e,httpAttachments:t}},data(){return{isLoading:!1,isLoadingAttachment:!1,isLoadingTable:!1,isAddClicked:!1,isEditClicked:!1,currentName:"",vacancy:{...ML},vacancyAttachment:{...FL},rules:{jobTitle:[io],name:[io,co(50)],hiringManager:[io,Fo,e=>null===e||void 0===e||!e.isPastEmployee||this.$t("general.invalid")],numOfPositions:[e=>null===e||""===e||("string"===typeof ho(e)?ho(e):Lo(1,99)(e))],description:[],status:[io],isPublished:[io],addAttachment:[io,No(this.maxFileSize),_o(this.allowedFileTypes)],updateAttachment:[e=>"replaceCurrent"!=this.vacancyAttachment.method||io(e),_o(this.allowedFileTypes),No(this.maxFileSize)],comment:[co(200)]},headers:[{name:"fileName",slot:"title",title:this.$t("general.file_name"),style:{flex:3}},{name:"fileSize",title:this.$t("general.file_size"),style:{flex:2}},{name:"fileType",title:this.$t("general.file_type"),style:{flex:2}},{name:"comment",title:this.$t("general.comment"),style:{flex:4}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.downloadFile,props:{name:"download"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],attachments:[],checkedItems:[],rssFeedUrl:zL+"/recruitmentApply/jobs.rss",webUrl:zL+"/recruitmentApply/jobs.html"}},created(){this.isLoading=!0,this.isLoadingTable=!0,this.http.get(this.vacancyId).then(e=>{const{data:t}=e.data;return this.currentName=t.name,this.vacancy.name=t.name,this.vacancy.description=t.description,this.vacancy.numOfPositions=t.numOfPositions||"",this.vacancy.status=t.status,this.vacancy.isPublished=t.isPublished,this.vacancy.hiringManager={id:t.hiringManager.id,label:`${t.hiringManager.firstName} ${t.hiringManager.middleName} ${t.hiringManager.lastName}`,isPastEmployee:!!t.hiringManager.terminationId},this.vacancy.jobTitle=t.jobTitle.isDeleted?null:{id:t.jobTitle.id,label:t.jobTitle.title},this.http.getAll({limit:0})}).then(e=>{const{data:t}=e.data;this.rules.name.push(e=>{const o=t.findIndex(t=>t.name==e&&t.name!=this.currentName);return-1===o||this.$t("general.already_exists")})}).then(()=>{this.httpAttachments.request({method:"GET",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments`}).then(e=>{const{data:t}=e.data;this.attachments=RL(t)})}).finally(()=>{this.isLoadingTable=!1,this.isLoading=!1})},methods:{onCancel(){Y("/recruitment/viewJobVacancy")},onSave(){this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.update(this.vacancyId,{...this.vacancy}).then(()=>this.$toast.saveSuccess()).then(()=>{Y("/recruitment/addJobVacancy/{id}",{id:this.vacancyId})})},onSaveAttachment(){this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.create({vacancyId:parseInt(this.vacancyId),attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}).then(()=>this.$toast.saveSuccess()).then(()=>{this.updateVisibility(),this.resetDataTable(),this.isLoadingAttachment=!1,this.isLoadingTable=!1})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData([e.id])})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.attachments[e])||void 0===t?void 0:t.id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteData(e)})},async deleteData(e){e instanceof Array&&(this.isLoadingTable=!0,this.httpAttachments.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.resetDataTable(),this.isLoadingTable=!1}))},resetDataTable(){this.checkedItems=[],this.httpAttachments.request({method:"GET",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments`}).then(e=>{const{data:t}=e.data;this.attachments=RL(t)})},onClickAdd(){this.isEditClicked=!1,this.isAddClicked=!0},onClickEdit(e){this.vacancyAttachment.id=e.id,this.vacancyAttachment.comment=e.comment,this.vacancyAttachment.oldAttachment={id:e.id,filename:e.fileName,fileType:e.fileType,fileSize:e.filefileSize},this.vacancyAttachment.newAttachment=null,this.vacancyAttachment.method="keepCurrent",this.isAddClicked=!1,this.isEditClicked=!0},onUpdateAttachment(){this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.request({method:"PUT",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments/${this.vacancyAttachment.id}`,data:{vacancyId:parseInt(this.vacancyId),currentAttachment:this.vacancyAttachment.oldAttachment?this.vacancyAttachment.method:void 0,attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}}).then(()=>this.$toast.saveSuccess()).then(()=>{this.updateVisibility(),this.resetDataTable(),this.isLoadingAttachment=!1,this.isLoadingTable=!1})},updateVisibility(){this.isAddClicked=!1,this.isEditClicked=!1,this.vacancyAttachment={...FL}},downloadFile(e){if(null===e||void 0===e||!e.id)return;const t="recruitment/viewVacancyAttachment/attachId",o=`${window.appGlobal.baseUrl}/${t}/${e.id}`;window.open(o,"_blank")}}};o("67d0");const QL=y()(GL,[["render",qL],["__scopeId","data-v-a7de05fa"]]);var HL=QL;const WL={class:"orangehrm-background-container"};function JL(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",WL,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.hire_candidate"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const YL={class:"orangehrm-card-container"};function XL(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",YL,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.title),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(b,Object(a["mergeProps"])({loading:o.loading},e.$attrs),{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.candidate.candidateName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.candidate.candidateName=e),label:e.$t("recruitment.candidate"),readonly:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.candidate.vacancyName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.candidate.vacancyName=e),label:e.$t("recruitment.vacancy"),readonly:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.candidate.hiringManagerName,"onUpdate:modelValue":t[2]||(t[2]=e=>n.candidate.hiringManagerName=e),label:e.$t("recruitment.hiring_manager"),readonly:""},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(s,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:r.recruitmentStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>r.recruitmentStatus=e),label:e.$t("recruitment.current_status"),readonly:""},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),Object(a["renderSlot"])(e.$slots,"default")]),_:3},16,["loading"])])}const KL={candidateName:"",vacancyName:"",hiringManagerName:"",status:null};var ZL={name:"CandidateActionLayout",inheritAttrs:!1,props:{candidateId:{type:Number,required:!0},title:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["update:loading"],setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{$tEmpName:t}=za();return{http:e,translateEmpName:t}},data(){return{candidate:{...KL},statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}]}},computed:{recruitmentStatus(){var e;return(null===(e=this.statuses.find(e=>{var t;return e.id===(null===(t=this.candidate.status)||void 0===t?void 0:t.id)}))||void 0===e?void 0:e.label)||null}},beforeMount(){this.$emit("update:loading",!0),this.http.get(this.candidateId).then(e=>{var t;const{data:o}=e.data;this.candidate.status=o.status,this.candidate.candidateName=`${null===o||void 0===o?void 0:o.firstName} ${(null===o||void 0===o?void 0:o.middleName)||""} ${null===o||void 0===o?void 0:o.lastName}`,null!==o&&void 0!==o&&o.vacancy&&(this.candidate.vacancyName=null===o||void 0===o?void 0:o.vacancy.name),null!==o&&void 0!==o&&null!==(t=o.vacancy)&&void 0!==t&&t.hiringManager&&(this.candidate.hiringManagerName=this.translateEmpName(o.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}))}).finally(()=>{this.$emit("update:loading",!1)})}};const eU=y()(ZL,[["render",XL]]);var tU=eU,oU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/hire`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const aU=y()(oU,[["render",JL]]);var lU=aU;const nU={class:"orangehrm-background-container"};function rU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nU,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.mark_interview_failed"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var iU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/interviews/${e.interviewId}/fail`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const cU=y()(iU,[["render",rU]]);var dU=cU;const sU={class:"orangehrm-background-container"};function mU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sU,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.mark_interview_passed"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var uU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/interviews/${e.interviewId}/pass`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const bU=y()(uU,[["render",mU]]);var pU=bU;const hU={class:"orangehrm-background-container"};function jU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("interviewer-autocomplete"),s=Object(a["resolveComponent"])("oxd-button"),m=Object(a["resolveComponent"])("date-input"),u=Object(a["resolveComponent"])("time-input"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("required-text"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hU,[Object(a["createVNode"])(v,{loading:n.isLoading,"onUpdate:loading":t[4]||(t[4]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.schedule_interview"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.interview.interviewName=e),rules:n.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.interviewers,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:t,modelValue:n.interviewers[t],"onUpdate:modelValue":e=>n.interviewers[t]=e,"show-delete":t>0,rules:n.rules.interviewerName.filter((e,o)=>0===t||o>0),"include-employees":"onlyCurrent",required:"",onRemove:e=>r.onRemoveInterviewer(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"]))),128)),n.interviewers.length<5?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.interview.interviewDate=e),rules:n.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:n.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.interview.interviewTime=e),rules:n.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-3 --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.interview.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.interview.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(j),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const OU={class:"orangehrm-recruitment-interviewer-input"};function gU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-icon-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",OU,[Object(a["createVNode"])(i,Object(a["mergeProps"])({label:o.showDelete?null:e.$t("recruitment.interviewer"),disabled:o.disabled},e.$attrs,{"api-path":"/api/v2/recruitment/interviewers"}),null,16,["label","disabled"]),o.showDelete&&!o.disabled?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,name:"trash-fill",class:"orangehrm-recruitment-delete-icon","with-container":!1,onClick:r.remove},null,8,["onClick"])):Object(a["createCommentVNode"])("",!0)])}var vU={name:"InterviewerAutocomplete",components:{"employee-autocomplete":Fa},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployee:{type:String,default:"currentAndPast"},disabled:{type:Boolean,required:!1,default:!1}},emits:["remove"],methods:{remove(){this.$emit("remove")}}};o("e857");const fU=y()(vU,[["render",gU],["__scopeId","data-v-73842d23"]]);var yU=fU;const CU={interviewName:null,interviewDate:null,interviewTime:null,note:null};var VU={components:{"candidate-action-layout":tU,"interviewer-autocomplete":yU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/shedule-interview`),{userDateFormat:o}=ie();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,interview:{...CU},interviewers:[null],rules:{interviewName:[io,co(100)],interviewDate:[io,so(this.userDateFormat)],interviewTime:[uo],interviewerName:[io,Fo,e=>this.interviewers.filter(t=>t&&t.id===(null===e||void 0===e?void 0:e.id)).length<2||this.$t("general.already_exists")],note:[co(2e3)]}}},methods:{onAddAnother(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer(e){this.interviewers.splice(e,1)},onSave(){this.isLoading=!0,this.http.create({...this.interview,interviewerEmpNumbers:this.interviewers.map(e=>null===e||void 0===e?void 0:e.id).filter(Number)}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const xU=y()(VU,[["render",jU]]);var wU=xU;const NU={class:"orangehrm-background-container"};function _U(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",NU,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.offer_job"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var kU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/job/offer`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const SU=y()(kU,[["render",_U]]);var DU=SU;const $U={class:"orangehrm-background-container"};function EU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$U,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.decline_offer"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var TU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/job/decline`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const BU=y()(TU,[["render",EU]]);var IU=BU;const LU={class:"orangehrm-background-container"};function UU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",LU,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.reject_candidate"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var AU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/reject`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const PU=y()(AU,[["render",UU]]);var qU=PU;const MU={class:"orangehrm-background-container"};function FU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",MU,[Object(a["createVNode"])(h,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.shortlist_candidate"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var zU={components:{"candidate-action-layout":tU},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/candidates/${e.candidateId}/shortlist`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[co(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then(()=>this.$toast.updateSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:this.candidateId})})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const RU=y()(zU,[["render",FU]]);var GU=RU;const QU={class:"orangehrm-background-container orangehrm-save-candidate-page"},HU={class:"orangehrm-card-container"};function WU(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("full-name-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("vacancy-dropdown"),p=Object(a["resolveComponent"])("oxd-input-field"),h=Object(a["resolveComponent"])("file-upload-input"),j=Object(a["resolveComponent"])("date-input"),O=Object(a["resolveComponent"])("required-text"),g=Object(a["resolveComponent"])("oxd-button"),v=Object(a["resolveComponent"])("submit-button"),f=Object(a["resolveComponent"])("oxd-form-actions"),y=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",QU,[Object(a["createElementVNode"])("div",HU,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.add_candidate")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{"first-name":n.candidate.firstName,"onUpdate:first-name":t[0]||(t[0]=e=>n.candidate.firstName=e),"middle-name":n.candidate.middleName,"onUpdate:middle-name":t[1]||(t[1]=e=>n.candidate.middleName=e),"last-name":n.candidate.lastName,"onUpdate:last-name":t[2]||(t[2]=e=>n.candidate.lastName=e),label:e.$t("general.full_name"),rules:n.rules,required:""},null,8,["first-name","middle-name","last-name","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.candidate.vacancyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.candidate.vacancyId=e),"exclude-interviewers":!0,status:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.candidate.email,"onUpdate:modelValue":t[4]||(t[4]=e=>n.candidate.email=e),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.candidate.contactNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.candidate.contactNumber=e),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{newFile:n.resume.newAttachment,"onUpdate:newFile":t[6]||(t[6]=e=>n.resume.newAttachment=e),method:n.resume.method,"onUpdate:method":t[7]||(t[7]=e=>n.resume.method=e),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:n.resume.oldAttachment,rules:n.rules.resume,hint:e.$t("general.accept_custom_format_file"),url:"recruitment/candidateAttachment/attachId"},null,8,["newFile","method","label","button-label","file","rules","hint"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-save-candidate-page-full-width"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.candidate.keywords,"onUpdate:modelValue":t[8]||(t[8]=e=>n.candidate.keywords=e),label:e.$t("recruitment.keywords"),placeholder:e.$t("recruitment.enter_comma_seperated_words")+"...",rules:n.rules.keywords},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{modelValue:n.candidate.dateOfApplication,"onUpdate:modelValue":t[9]||(t[9]=e=>n.candidate.dateOfApplication=e),label:e.$t("recruitment.date_of_application"),rules:n.rules.applyDate},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-save-candidate-page-full-width"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.candidate.comment,"onUpdate:modelValue":t[10]||(t[10]=e=>n.candidate.comment=e),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:n.rules.notes},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-save-candidate-page-full-width orangehrm-save-candidate-page-grid-checkbox"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.candidate.consentToKeepData,"onUpdate:modelValue":t[11]||(t[11]=e=>n.candidate.consentToKeepData=e),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data")},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O),Object(a["createVNode"])(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(v)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}var JU={name:"SaveCandidate",components:{"submit-button":V,"full-name-input":Uu,"vacancy-dropdown":HI,"file-upload-input":Ko},props:{maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{userDateFormat:t}=ie();return{http:e,userDateFormat:t}},data(){return{isLoading:!1,candidate:{firstName:null,middleName:null,lastName:null,email:null,contactNumber:null,keywords:null,comment:null,dateOfApplication:we(Ve(),"yyyy-MM-dd"),consentToKeepData:!1,vacancyId:null},resume:{id:null,oldAttachment:null,newAttachment:null,method:"keepCurrent"},rules:{firstName:[io,co(30)],lastName:[io,co(30)],middleName:[co(30)],email:[io,ko,co(50)],contactNumber:[So,co(25)],notes:[co(250)],keywords:[co(250)],resume:[No(this.maxFileSize),_o(this.allowedFileTypes)],applyDate:[so(this.userDateFormat),mo()]}}},methods:{onSave(){var e;let t;this.isLoading=!0,this.http.create({...this.candidate,vacancyId:null===(e=this.candidate.vacancyId)||void 0===e?void 0:e.id}).then(({data:{data:e}})=>{if(t=parseInt(e.id),this.resume.newAttachment)return this.http.request({method:"POST",url:"/api/v2/recruitment/candidate/attachments",data:{candidateId:t,attachment:this.resume.newAttachment}})}).then(()=>this.$toast.saveSuccess()).then(()=>{Y("/recruitment/addCandidate/{id}",{id:t})})},onCancel(){Y("/recruitment/viewCandidates")}}};o("bb64");const YU=y()(JU,[["render",WU],["__scopeId","data-v-ab53ac08"]]);var XU=YU;const KU={class:"orangehrm-candidate-page"},ZU=Object(a["createElementVNode"])("br",null,null,-1),eA={class:"orangehrm-paper-container"},tA={key:0,class:"orangehrm-header-container"},oA={class:"orangehrm-container"},aA={class:"orangehrm-bottom-container"};function lA(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("jobtitle-dropdown"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("vacancy-dropdown"),m=Object(a["resolveComponent"])("hiring-manager-dropdown"),u=Object(a["resolveComponent"])("candidate-status-dropdown"),b=Object(a["resolveComponent"])("oxd-grid"),p=Object(a["resolveComponent"])("oxd-form-row"),h=Object(a["resolveComponent"])("candidate-autocomplete"),j=Object(a["resolveComponent"])("oxd-input-field"),O=Object(a["resolveComponent"])("date-input"),g=Object(a["resolveComponent"])("oxd-divider"),v=Object(a["resolveComponent"])("oxd-button"),f=Object(a["resolveComponent"])("submit-button"),y=Object(a["resolveComponent"])("oxd-form-actions"),C=Object(a["resolveComponent"])("oxd-form"),V=Object(a["resolveComponent"])("oxd-table-filter"),x=Object(a["resolveComponent"])("table-header"),w=Object(a["resolveComponent"])("oxd-card-table"),N=Object(a["resolveComponent"])("oxd-pagination"),_=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",KU,[Object(a["createVNode"])(V,{"filter-title":e.$t("general.candidates")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{onSubmitValid:r.filterItems,onReset:r.onReset},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.vacancy,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.vacancy=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.hiringManager,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.hiringManager=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:l.filters.candidate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.candidate=e),rules:l.rules.candidate},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{modelValue:l.filters.keywords,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.keywords=e),label:e.$t("recruitment.keywords"),placeholder:e.$t("recruitment.enter_comma_seperated_words")+"..."},null,8,["modelValue","label","placeholder"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.fromDate=e),label:e.$t("recruitment.date_of_application"),placeholder:e.$t("general.from"),rules:l.rules.fromDate},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[7]||(t[7]=e=>l.filters.toDate=e),label:" ",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{modelValue:l.filters.methodOfApplication,"onUpdate:modelValue":t[8]||(t[8]=e=>l.filters.methodOfApplication=e),label:e.$t("recruitment.method_of_application"),type:"select",options:n.applications},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(g),Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),Object(a["createVNode"])(f,{label:e.$t("general.search")},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),ZU,Object(a["createElementVNode"])("div",eA,[e.$can.create("recruitment_candidates")?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",tA,[Object(a["createVNode"])(v,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(x,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,"show-divider":e.$can.create("recruitment_candidates"),onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","show-divider","onDelete"]),Object(a["createElementVNode"])("div",oA,[Object(a["createVNode"])(w,{selected:n.checkedItems,"onUpdate:selected":t[9]||(t[9]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[10]||(t[10]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",aA,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(N,{key:0,current:l.currentPage,"onUpdate:current":t[11]||(t[11]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(_,{ref:"deleteDialog"},null,512)])}function nA(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"autocomplete",label:e.$t("recruitment.candidate_name"),clear:!1,"create-options":r.loadCandidates},{option:Object(a["withCtx"])(({data:e})=>[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.label),1)]),_:1},8,["label","create-options"])}var rA={name:"CandidateAutocomplete",props:{params:{type:Object,default:()=>({})}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},methods:{async loadCandidates(e){return new Promise(t=>{e.trim()?this.http.getAll({candidateName:e.trim(),...this.params}).then(({data:e})=>{t(e.data.map(e=>({id:e.id,label:`${e.firstName} ${e.middleName||""} ${e.lastName}`,_candidate:e})))}):t([])})}}};o("dffb");const iA=y()(rA,[["render",nA],["__scopeId","data-v-30b6d657"]]);var cA=iA;function dA(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("general.status"),options:l.options},null,8,["label","options"])}var sA={name:"CandidateStatusDropdown",setup(){const e=Object(a["ref"])([]),t=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates/statuses");return Object(a["onBeforeMount"])(()=>{t.getAll().then(({data:t})=>{e.value=t.data.map(e=>({id:e.id,label:e.label}))})}),{options:e}}};const mA=y()(sA,[["render",dA]]);var uA=mA;const bA={jobTitle:null,vacancy:null,hiringManager:null,status:null,keywords:null,application:null,candidate:null,fromDate:null,toDate:null},pA={"vacancy.name":"DEFAULT","candidate.lastName":"DEFAULT","hiringManager.lastName":"DEFAULT","candidate.dateOfApplication":"DESC","candidateVacancy.status":"DEFAULT"};var hA={components:{"vacancy-dropdown":HI,"jobtitle-dropdown":tb,"delete-confirmation":Yt,"candidate-autocomplete":cA,"hiring-manager-dropdown":XI,"candidate-status-dropdown":uA},props:{status:{type:Object,required:!1,default:null}},setup(e){const{$t:t}=Ge(),{locale:o}=He(),{jsDateFormat:l,userDateFormat:n}=ie(),{$tEmpName:r}=za(),i=e=>e.map(e=>{var a,n,i,c,d;return{id:e.id,vacancy:!1===(null===(a=e.vacancy)||void 0===a?void 0:a.status)?`${null===(n=e.vacancy)||void 0===n?void 0:n.name} (${t("general.closed")})`:null===(i=e.vacancy)||void 0===i?void 0:i.name,candidate:`${e.firstName} ${e.middleName||""} ${e.lastName}`,manager:null!==e&&void 0!==e&&null!==(c=e.vacancy)&&void 0!==c&&c.hiringManager?r(e.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):"",dateOfApplication:we(xe(e.dateOfApplication),l,{locale:o}),status:null===(d=e.status)||void 0===d?void 0:d.label,resume:e.hasAttachment,isSelectable:e.deletable}}),c=Object(a["ref"])({...bA,...e.status&&{status:e.status}}),d={candidate:[Fo],fromDate:[so(n),Do(()=>c.value.toDate,t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(n),yo(()=>c.value.fromDate,t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},{sortDefinition:s,sortField:m,sortOrder:u,onSort:b}=Xt({sortDefinition:pA}),p=Object(a["computed"])(()=>{var e,t,o,a,l,n;return{jobTitleId:null===(e=c.value.jobTitle)||void 0===e?void 0:e.id,vacancyId:null===(t=c.value.vacancy)||void 0===t?void 0:t.id,hiringManagerId:null===(o=c.value.hiringManager)||void 0===o?void 0:o.id,keywords:c.value.keywords,candidateId:null===(a=c.value.candidate)||void 0===a?void 0:a.id,fromDate:c.value.fromDate,toDate:c.value.toDate,status:null===(l=c.value.status)||void 0===l?void 0:l.id,methodOfApplication:null===(n=c.value.methodOfApplication)||void 0===n?void 0:n.id,model:"list",sortField:m.value,sortOrder:u.value}}),h=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{showPaginator:j,currentPage:O,total:g,pages:v,pageSize:f,response:y,isLoading:C,execQuery:V}=zt(h,{query:p,normalizer:i});return b(V),{http:h,showPaginator:j,currentPage:O,isLoading:C,total:g,pages:v,pageSize:f,execQuery:V,items:y,filters:c,sortDefinition:s,rules:d}},data(){return{checkedItems:[],headers:[{name:"vacancy",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:1}},{name:"candidate",slot:"title",title:this.$t("recruitment.candidate"),sortField:"candidate.lastName",style:{flex:1}},{name:"manager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:1}},{name:"dateOfApplication",title:this.$t("recruitment.date_of_application"),sortField:"candidate.dateOfApplication",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"candidateVacancy.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],applications:[{id:1,label:this.$t("recruitment.manual")},{id:2,label:this.$t("recruitment.online")}]}},methods:{cellRenderer(...[,,,e]){const t={view:{onClick:this.onClickEdit,props:{name:"eye-fill"}}};return e.isSelectable&&(t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),e.resume&&(t.download={onClick:this.onDownload,props:{name:"download"}}),{props:{header:{cellConfig:t}}}},onClickAdd(){Y("/recruitment/addCandidate")},onClickEdit(e){Y("/recruitment/addCandidate/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},onDownload(e){if(null===e||void 0===e||!e.id)return;const t="recruitment/viewCandidateAttachment/candidateId",o=`${window.appGlobal.baseUrl}/${t}/${e.id}`;window.open(o,"_blank")},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}).catch(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onReset(){this.filters={...bA},this.filterItems()}}};const jA=y()(hA,[["render",lA]]);var OA=jA;function gA(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("recruitment-status"),c=Object(a["resolveComponent"])("candidate-profile"),d=Object(a["resolveComponent"])("history-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.candidate?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,candidate:n.candidate},null,8,["candidate"])):Object(a["createCommentVNode"])("",!0),n.candidate?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,candidate:n.candidate,"max-file-size":o.maxFileSize,updatable:o.updatable,onUpdate:r.onCandidateUpdate},null,8,["candidate","max-file-size","updatable","onUpdate"])):Object(a["createCommentVNode"])("",!0),n.candidate?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2,candidate:n.candidate},null,8,["candidate"])):Object(a["createCommentVNode"])("",!0)],64)}const vA={class:"orangehrm-card-container"},fA={class:"orangehrm-recruitment"},yA={key:0,class:"orangehrm-recruitment-status"},CA={class:"orangehrm-recruitment-actions"};function VA(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vA,[Object(a["createVNode"])(b,{loading:n.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.application_stage")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.name")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.candidateName),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("recruitment.vacancy")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.vacancyName?r.vacancyName:"N/A"),1)]),_:1})]),_:1},8,["label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("recruitment.hiring_manager")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.hiringManagerName?r.hiringManagerName:"N/A"),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",fA,[r.recruitmentStatus?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yA,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.status"))+": "+Object(a["toDisplayString"])(r.recruitmentStatus),1)]),_:1})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",CA,[r.hasWorkflow(3)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:t[0]||(t[0]=e=>r.doWorkflow(3))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(8)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1,label:e.$t("recruitment.offer_declined"),"display-type":"danger",onClick:t[1]||(t[1]=e=>r.doWorkflow(8))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(6)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:2,label:e.$t("recruitment.mark_interview_failed"),"display-type":"danger",onClick:t[2]||(t[2]=e=>r.doWorkflow(6))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(2)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:3,label:e.$t("recruitment.shortlist"),"display-type":"success",onClick:t[3]||(t[3]=e=>r.doWorkflow(2))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(4)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:4,label:e.$t("recruitment.schedule_interview"),"display-type":"success",onClick:t[4]||(t[4]=e=>r.doWorkflow(4))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(5)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:5,label:e.$t("recruitment.mark_interview_passed"),"display-type":"success",onClick:t[5]||(t[5]=e=>r.doWorkflow(5))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(7)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:6,label:e.$t("recruitment.offer_job"),"display-type":"success",onClick:t[6]||(t[6]=e=>r.doWorkflow(7))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasWorkflow(9)?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:7,label:e.$t("recruitment.hire"),"display-type":"success",onClick:t[7]||(t[7]=e=>r.doWorkflow(9))},null,8,["label"])):Object(a["createCommentVNode"])("",!0)])])]),_:1},8,["loading"])])}var xA={name:"RecruitmentStatus",props:{candidate:{type:Object,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/recruitment/candidates"),{$tEmpName:t}=za();return{http:e,translateEmpName:t}},data(){return{isLoading:!1,statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}],actions:[]}},computed:{recruitmentStatus(){var e;return(null===(e=this.statuses.find(e=>{var t;return e.id===(null===(t=this.candidate.status)||void 0===t?void 0:t.id)}))||void 0===e?void 0:e.label)||null},candidateName(){var e;return`${this.candidate.firstName} ${(null===(e=this.candidate)||void 0===e?void 0:e.middleName)||""} ${this.candidate.lastName}`},vacancyName(){const{vacancy:e}=this.candidate;return e?!1===e.status?e.name+` (${this.$t("general.closed")})`:e.name:null},hiringManagerName(){var e;return null!==(e=this.candidate.vacancy)&&void 0!==e&&e.hiringManager?this.translateEmpName(this.candidate.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):void 0}},watch:{candidate(){this.getAllowedActions()}},beforeMount(){this.getAllowedActions()},methods:{hasWorkflow(e){return this.actions.findIndex(t=>t.id==e)>-1},doWorkflow(e){var t;Y("/recruitment/changeCandidateVacancyStatus",{},{candidateId:null===(t=this.candidate)||void 0===t?void 0:t.id,selectedAction:e})},getAllowedActions(){var e;this.isLoading=!0,this.http.request({method:"GET",url:`api/v2/recruitment/candidates/${null===(e=this.candidate)||void 0===e?void 0:e.id}/actions/allowed`}).then(e=>{const{data:t}=e.data;this.actions=[...t]}).finally(()=>{this.isLoading=!1})}}};o("528f");const wA=y()(xA,[["render",VA],["__scopeId","data-v-b9dcb6be"]]);var NA=wA;const _A={class:"orangehrm-background-container"},kA={class:"orangehrm-card-container"},SA={class:"orangehrm-header-container"};function DA(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-switch-input"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("full-name-input"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("vacancy-dropdown"),h=Object(a["resolveComponent"])("oxd-input-field"),j=Object(a["resolveComponent"])("file-upload-input"),O=Object(a["resolveComponent"])("date-input"),g=Object(a["resolveComponent"])("required-text"),v=Object(a["resolveComponent"])("submit-button"),f=Object(a["resolveComponent"])("oxd-form-actions"),y=Object(a["resolveComponent"])("oxd-form"),C=Object(a["resolveComponent"])("confirmation-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_A,[Object(a["createElementVNode"])("div",kA,[Object(a["createElementVNode"])("div",SA,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.candidate_profile")),1)]),_:1}),!n.isLoading&&o.updatable?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])):Object(a["createCommentVNode"])("",!0)]),Object(a["withDirectives"])(Object(a["createVNode"])(d,null,null,512),[[a["vShow"],!n.isLoading]]),Object(a["createVNode"])(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"first-name":n.profile.firstName,"onUpdate:first-name":t[1]||(t[1]=e=>n.profile.firstName=e),"middle-name":n.profile.middleName,"onUpdate:middle-name":t[2]||(t[2]=e=>n.profile.middleName=e),"last-name":n.profile.lastName,"onUpdate:last-name":t[3]||(t[3]=e=>n.profile.lastName=e),rules:n.rules,label:e.$t("general.full_name"),disabled:!n.editable,required:""},null,8,["first-name","middle-name","last-name","rules","label","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.vacancy,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy=e),label:e.$t("recruitment.job_vacancy"),readonly:!n.editable,"exclude-interviewers":!0,status:!0},null,8,["modelValue","label","readonly"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.profile.email,"onUpdate:modelValue":t[5]||(t[5]=e=>n.profile.email=e),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,disabled:!n.editable,required:""},null,8,["modelValue","label","placeholder","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.profile.contactNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.profile.contactNumber=e),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber,disabled:!n.editable},null,8,["modelValue","label","placeholder","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{newFile:n.attachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=e=>n.attachment.newAttachment=e),method:n.attachment.method,"onUpdate:method":t[8]||(t[8]=e=>n.attachment.method=e),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:n.attachment.oldAttachment,rules:n.rules.resume,hint:e.$t("general.accept_custom_format_file"),disabled:!n.editable,url:r.getResumeUrl},null,8,["newFile","method","label","button-label","file","rules","hint","disabled","url"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-save-candidate-page --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.profile.keywords,"onUpdate:modelValue":t[9]||(t[9]=e=>n.profile.keywords=e),label:e.$t("recruitment.keywords"),placeholder:e.$t("recruitment.enter_comma_seperated_words")+"...",rules:n.rules.keywords,disabled:!n.editable},null,8,["modelValue","label","placeholder","rules","disabled"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{modelValue:n.profile.dateOfApplication,"onUpdate:modelValue":t[10]||(t[10]=e=>n.profile.dateOfApplication=e),label:e.$t("recruitment.date_of_application"),rules:n.rules.applicationDate,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-save-candidate-page --span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.profile.comment,"onUpdate:modelValue":t[11]||(t[11]=e=>n.profile.comment=e),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),disabled:!n.editable},null,8,["modelValue","label","placeholder","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-candidate-grid-checkbox"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{modelValue:n.profile.consentToKeepData,"onUpdate:modelValue":t[12]||(t[12]=e=>n.profile.consentToKeepData=e),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data"),disabled:!n.editable},null,8,["modelValue","label","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["withDirectives"])(Object(a["createVNode"])(d,null,null,512),[[a["vShow"],n.editable]]),n.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g),Object(a["createVNode"])(v,{label:e.$t("general.save")},null,8,["label"])]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","onSubmitValid"])]),Object(a["createVNode"])(C,{ref:"confirmDialog",title:e.$t("general.confirmation_required"),subtitle:e.$t("recruitment.candidate_vacancy_change_message"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("leave.yes_confirm"),"confirm-button-type":"secondary"},null,8,["title","subtitle","cancel-label","confirm-label"])])}const $A={firstName:"",middleName:"",lastName:"",email:"",contactNumber:"",comment:"",keywords:"",dateOfApplication:null,consentToKeepData:!1},EA={id:null,oldAttachment:{},newAttachment:null,method:"replaceCurrent"},TA={id:null,label:""};var BA={name:"CandidateProfile",components:{DateInput:Ye,"oxd-switch-input":Sl["a"],"full-name-input":Uu,"vacancy-dropdown":HI,"file-upload-input":Ko,"confirmation-dialog":JB},props:{candidate:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},updatable:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(){const e=new K(window.appGlobal.baseUrl,"/"),{userDateFormat:t}=ie();return{http:e,userDateFormat:t}},data(){return{editable:!1,isLoading:!1,profile:{...$A},vacancy:{...TA},attachment:{...EA},rules:{firstName:[io,co(30)],lastName:[io,co(30)],middleName:[co(30)],email:[io,ko,co(50)],contactNumber:[So,co(25)],keywords:[co(250)],applicationDate:[so(this.userDateFormat)],resume:[No(this.maxFileSize),_o(this.allowedFileTypes)]}}},watch:{candidate(){this.fetchCandidate()}},beforeMount(){this.fetchCandidate()},methods:{onSave(){var e,t,o;null!==(e=this.candidate.vacancy)&&void 0!==e&&e.id&&(null===(t=this.candidate.vacancy)||void 0===t?void 0:t.id)!==(null===(o=this.vacancy)||void 0===o?void 0:o.id)?this.$refs.confirmDialog.showDialog().then(e=>{"ok"===e&&this.updateCandidate()}):this.updateCandidate()},updateCandidate(){var e;this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/recruitment/candidates/"+this.candidate.id,data:{...this.profile,vacancyId:null===(e=this.vacancy)||void 0===e?void 0:e.id}}).then(()=>!this.attachment.newAttachment&&!this.candidate.hasAttachment||this.http.request({method:"PUT",url:`/api/v2/recruitment/candidate/${this.candidate.id}/attachment`,data:{currentAttachment:this.attachment.oldAttachment?this.attachment.method:void 0,attachment:this.attachment.newAttachment?this.attachment.newAttachment:void 0}})).then(()=>this.$toast.updateSuccess()).then(()=>{this.$emit("update"),this.isLoading=!1,this.editable=!1})},getResumeUrl(){return J("/recruitment/viewCandidateAttachment/candidateId/{candidateId}",{candidateId:this.candidate.id})},fetchCandidate(){this.isLoading=!0,this.profile.firstName=this.candidate.firstName,this.profile.middleName=this.candidate.middleName,this.profile.lastName=this.candidate.lastName,this.profile.email=this.candidate.email,this.profile.contactNumber=this.candidate.contactNumber,this.profile.keywords=this.candidate.keywords,this.profile.dateOfApplication=this.candidate.dateOfApplication,this.profile.comment=this.candidate.comment,this.profile.consentToKeepData=this.candidate.consentToKeepData;const{vacancy:e}=this.candidate;e&&(this.vacancy={id:e.id,label:!1===e.status?e.name+` (${this.$t("general.closed")})`:e.name}),this.candidate.hasAttachment?this.http.request({method:"GET",url:`/api/v2/recruitment/candidate/${this.candidate.id}/attachment`}).then(({data:{data:e}})=>{this.attachment.id=e.id,this.attachment.newAttachment=null,this.attachment.oldAttachment={id:e.id,filename:e.attachment.fileName,fileType:e.attachment.fileType,fileSize:e.attachment.fileSize},this.attachment.method="keepCurrent"}):this.attachment={...EA},this.isLoading=!1}}};o("95e4");const IA=y()(BA,[["render",DA],["__scopeId","data-v-ddbe0f88"]]);var LA=IA;const UA={class:"orangehrm-paper-container"},AA={class:"orangehrm-header-container"},PA={class:"orangehrm-container"},qA={class:"orangehrm-bottom-container"};function MA(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table"),m=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",UA,[Object(a["createElementVNode"])("div",AA,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.candidate_history")),1)]),_:1})]),Object(a["createVNode"])(d,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",PA,[Object(a["createVNode"])(s,{headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,clickable:!1,selectable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(a["createElementVNode"])("div",qA,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])}const FA=1,zA=2,RA=3,GA=4,QA=5,HA=6,WA=7,JA=8,YA=9,XA=15,KA=16,ZA=17;var eP={name:"HistoryTable",props:{candidate:{type:Object,required:!0}},setup(e){var t;const{$t:o}=Ge(),{locale:a}=He(),{jsDateFormat:l}=ie(),{$tEmpName:n}=za(),r=new K(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${null===(t=e.candidate)||void 0===t?void 0:t.id}/history`),i=t=>{var r,i,c;const d=`${null===(r=e.candidate)||void 0===r?void 0:r.firstName} ${(null===(i=e.candidate)||void 0===i?void 0:i.middleName)||""} ${null===(c=e.candidate)||void 0===c?void 0:c.lastName}`;return t.map(e=>{let t=null;const r={name:"",data:"",interviewers:""},i=n(e.performedBy,{includeMiddle:!0,excludePastEmpTag:!1});if(e.interview){r.name=e.interview.name,r.date=e.interview.date;const t=e.interview.interviewers.map(e=>n(e,{includeMiddle:!0,excludePastEmpTag:!1}));r.interviewers=t.join(", ")}switch(null===e||void 0===e?void 0:e.action.id){case ZA:t=o("recruitment.candidate_applied_for_the_vacancy",{candidate:d,vacancy:e.vacancyName});break;case KA:t=o("recruitment.employee_added_candidate",{employee:i,candidate:d});break;case FA:t=o("recruitment.employee_assigned_vacancy_to_candidate",{employee:i,vacancy:e.vacancyName});break;case zA:t=o("recruitment.candidate_shortlisted_for_vacancy_by_employee",{vacancy:e.vacancyName,employee:i});break;case RA:t=o("recruitment.employee_rejected_the_candidate",{employee:i,candidate:d,vacancy:e.vacancyName});break;case GA:t=o("recruitment.employee_schedule_interview_with_interviewers",{employee:i,interview:r.name,interviewDate:r.date,interviewers:r.interviewers,vacancy:e.vacancyName});break;case QA:t=o("recruitment.employee_marked_interveiw_passed",{employee:i,interview:r.name,vacancy:e.vacancyName});break;case HA:t=o("recruitment.employee_marked_interveiw_failed",{employee:i,interview:r.name,vacancy:e.vacancyName});break;case WA:t=o("recruitment.employee_offered_the_job",{employee:i,vacancy:e.vacancyName});break;case JA:t=o("recruitment.employee_marked_the_offer_declined",{employee:i,vacancy:e.vacancyName});break;case YA:t=o("recruitment.employee_hired_the_candidate",{employee:i,candidate:d,vacancy:e.vacancyName});break;case XA:t=o("recruitment.employee_removed_candidate_from_vacancy",{employee:i,candidate:d,vacancy:e.vacancyName});break}return{...e,description:t,performedDate:we(xe(e.performedDate),l,{locale:a})}})},{showPaginator:c,currentPage:d,total:s,pages:m,pageSize:u,response:b,isLoading:p,execQuery:h}=zt(r,{normalizer:i});return{http:r,showPaginator:c,currentPage:d,isLoading:p,total:s,pages:m,pageSize:u,execQuery:h,items:b}},data(){return{headers:[{name:"performedDate",slot:"title",title:this.$t("recruitment.performed_date"),style:{flex:"20%"}},{name:"description",title:this.$t("general.description"),style:{flex:"65%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},watch:{candidate(){this.execQuery()}},methods:{cellRenderer(...[,,,e]){var t,o,a,l,n,r,i;const c={};return(null===(t=e.action)||void 0===t?void 0:t.id)!=FA&&(null===(o=e.action)||void 0===o?void 0:o.id)!=KA&&(null===(a=e.action)||void 0===a?void 0:a.id)!=XA&&(null===(l=e.action)||void 0===l?void 0:l.id)!=ZA&&e.editable&&(c.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),(null===(n=e.action)||void 0===n?void 0:n.id)!==GA&&(null===(r=e.action)||void 0===r?void 0:r.id)!==QA&&(null===(i=e.action)||void 0===i?void 0:i.id)!==HA||!e.editable||(c.attachment={onClick:this.onClickAttachment,props:{name:"paperclip"}}),{props:{header:{cellConfig:c}}}},onClickEdit(e){Y("/recruitment/candidateHistory/{candidateId}/{historyId}",{candidateId:this.candidate.id,historyId:e.id})},onClickAttachment(e){var t;Y("/recruitment/interviewAttachments/{interviewId}",{interviewId:null===(t=e.interview)||void 0===t?void 0:t.id})}}};o("8a66");const tP=y()(eP,[["render",MA],["__scopeId","data-v-13fda2b3"]]);var oP=tP,aP={components:{"history-table":oP,"candidate-profile":LA,"recruitment-status":NA},props:{candidateId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0},updatable:{type:Boolean,required:!1,default:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},data(){return{candidate:null}},beforeMount(){this.onCandidateUpdate()},methods:{onCandidateUpdate(){this.http.get(this.candidateId).then(({data:{data:e}})=>{this.candidate=e})}}};const lP=y()(aP,[["render",gA]]);var nP=lP;const rP={class:"orangehrm-background-container"};function iP(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("interviewer-autocomplete"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("time-input"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("candidate-action-layout");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rP,[Object(a["createVNode"])(g,{loading:n.isLoading,"candidate-id":o.candidateId,title:e.$t("recruitment.view_action_history"),onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:e.$t("recruitment.performed_action"),value:r.performedAction,readonly:""},null,8,["label","value"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:e.$t("general.performed_by"),value:r.performedBy,readonly:""},null,8,["label","value"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{label:e.$t("recruitment.performed_date"),value:r.performedDate,readonly:""},null,8,["label","value"])]),_:1})]),_:1})]),_:1}),r.isScheduleInterview?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.interview.interviewName=e),rules:n.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.interviewers,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:t,modelValue:n.interviewers[t],"onUpdate:modelValue":e=>n.interviewers[t]=e,"show-delete":t>0,rules:n.rules.interviewerName.filter((e,o)=>0===t||o>0),"include-employees":"onlyCurrent",required:"",disabled:!o.editable,onRemove:e=>r.onRemoveInterviewer(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","disabled","onRemove"]))),128)),n.interviewers.length<5&&o.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.interview.interviewDate=e),rules:n.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(c,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.interview.interviewTime=e),rules:n.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:n.history.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.history.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea",disabled:n.disabled},null,8,["modelValue","rules","label","placeholder","disabled"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{"display-type":"ghost",label:e.$t("general.back"),onClick:r.onClickBack},null,8,["label","onClick"]),n.disabled?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,label:e.$t("general.save")},null,8,["label"]))]),_:1})]),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const cP={id:null,action:{id:null,label:null},performedBy:{empNumber:null,lastName:null,firstName:null,middleName:null,terminationId:null},interview:{id:null},performedDate:null,note:null},dP={interviewName:null,interviewDate:null,interviewTime:null};var sP={components:{"candidate-action-layout":tU,"interviewer-autocomplete":yU},props:{candidateId:{type:Number,required:!0},historyId:{type:Number,required:!0},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{locale:t}=He(),{jsDateFormat:o,userDateFormat:a}=ie(),{$tEmpName:l}=za(),n=new K(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/history`);return{http:n,locale:t,jsDateFormat:o,userDateFormat:a,translateEmpName:l}},data(){return{isLoading:!1,history:{...cP},interview:{...dP},interviewers:[],rules:{interviewName:[io,co(100)],interviewDate:[io,so(this.userDateFormat)],interviewTime:[uo],interviewerName:[io,Fo,e=>this.interviewers.filter(t=>t&&t.id===(null===e||void 0===e?void 0:e.id)).length<2||this.$t("general.already_exists")],note:[co(2e3)]},statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlist")},{id:3,label:this.$t("general.reject")},{id:4,label:this.$t("recruitment.schedule_interview")},{id:5,label:this.$t("recruitment.mark_interview_passed")},{id:6,label:this.$t("recruitment.mark_interview_failed")},{id:7,label:this.$t("recruitment.offer_job")},{id:8,label:this.$t("recruitment.decline_offer")},{id:9,label:this.$t("recruitment.hire")}],disabled:!1}},computed:{performedBy(){return this.translateEmpName(this.history.performedBy,{includeMiddle:!0,excludePastEmpTag:!1})},performedDate(){return we(xe(this.history.performedDate),this.jsDateFormat,{locale:this.locale})},performedAction(){var e;return(null===(e=this.statuses.find(e=>e.id===this.history.action.id))||void 0===e?void 0:e.label)||null},isScheduleInterview(){var e,t;return(null===(e=this.history.interview)||void 0===e?void 0:e.id)&&4===(null===(t=this.history.action)||void 0===t?void 0:t.id)}},beforeMount(){this.isLoading=!0,this.http.get(this.historyId).then(e=>{const{data:t,meta:o}=e.data;return this.history={...t},this.disabled=o.disabled,this.isScheduleInterview?this.http.request({method:"GET",url:`api/v2/recruitment/candidates/${this.candidateId}/interviews/${this.history.interview.id}`}):null}).then(e=>{if(e){const{data:t}=e.data;this.interview.interviewName=t.name,this.interview.interviewDate=t.interviewDate,this.interview.interviewTime=t.interviewTime,this.history.note=t.note,Array.isArray(t.interviewers)&&(this.interviewers=t.interviewers.map(e=>({id:e.empNumber,label:this.translateEmpName(e,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!e.terminationId})))}}).finally(()=>{this.isLoading=!1})},methods:{onAddAnother(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer(e){this.interviewers.splice(e,1)},onSave(){this.loading=!0,this.http.update(this.historyId,{note:this.history.note}).then(()=>this.isScheduleInterview?this.http.request({method:"PUT",url:`api/v2/recruitment/candidates/${this.candidateId}/interviews/${this.history.interview.id}`,data:{...this.interview,note:this.history.note,interviewerEmpNumbers:this.interviewers.map(e=>null===e||void 0===e?void 0:e.id).filter(Number)}}):null).then(()=>{this.loading=!1,this.$toast.saveSuccess()})},onClickBack(){Y("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const mP=y()(sP,[["render",iP]]);var uP=mP;const bP={class:"orangehrm-container"},pP={key:1,class:"orangehrm-bottom-container"},hP={class:"orangehrm-paper-container"},jP=["src"];function OP(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("vacancy-card"),d=Object(a["resolveComponent"])("oxd-loading-spinner"),s=Object(a["resolveComponent"])("oxd-pagination"),m=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",bP,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(i=l.vacancies)||void 0===i?void 0:i.data,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:e,"vacancy-id":e.vacancyId,"vacancy-title":e.vacancyTitle,"vacancy-description":e.vacancyDescription},null,8,["vacancy-id","vacancy-title","vacancy-description"]))),128)),l.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-container-loader"})):Object(a["createCommentVNode"])("",!0),l.showPaginator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",pP,[Object(a["createVNode"])(s,{current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",hP,[Object(a["createVNode"])(m,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.powered_by")),1)]),_:1}),Object(a["createElementVNode"])("img",{src:l.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,jP),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])],64)}const gP={class:"orangehrm-card-container"},vP={class:"orangehrm-vacancy-card-header"},fP={key:0,class:"orangehrm-vacancy-card-pre-tag"},yP={key:0,class:"orangehrm-vacancy-card-footer"};function CP(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-divider");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gP,[Object(a["createElementVNode"])("div",vP,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.vacancyTitle),1)]),_:1}),Object(a["createVNode"])(c,{label:e.$t("general.apply"),"display-type":"secondary",class:"oxd-button",onClick:r.apply},null,8,["label","onClick"])]),Object(a["withDirectives"])(Object(a["createVNode"])(d,null,null,512),[[a["vShow"],o.vacancyDescription]]),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({"orangehrm-vacancy-card-body":r.isViewDetails})},[Object(a["createVNode"])(i,{type:"toast-message"},{default:Object(a["withCtx"])(()=>[o.vacancyDescription?(Object(a["openBlock"])(),Object(a["createElementBlock"])("pre",fP,Object(a["toDisplayString"])(o.vacancyDescription),1)):Object(a["createCommentVNode"])("",!0)]),_:1})],2),o.vacancyDescription&&o.vacancyDescription.length>r.descriptionLength?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yP,[Object(a["createElementVNode"])("a",{onClick:t[0]||(t[0]=(...e)=>r.viewDetails&&r.viewDetails(...e))},[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.isViewDetails?e.$t("general.show_more"):e.$t("general.show_less")),1)]),_:1})])])):Object(a["createCommentVNode"])("",!0)])}var VP=o("ab41"),xP={name:"VacancyCard",props:{vacancyId:{type:Number,required:!0},vacancyTitle:{type:String,required:!0},vacancyDescription:{type:String,required:!0}},setup(){const e=Object(VP["c"])();return{...Object(a["toRefs"])(e)}},data(){return{viewMore:!1}},computed:{isMobile(){return this.windowWidth<600},isViewDetails(){return!this.viewMore},descriptionLength(){return this.isMobile?150:this.windowWidth<1920?250:400}},methods:{viewDetails(){this.viewMore=!this.viewMore},apply(){Y("/recruitmentApply/applyVacancy/id/{id}",{id:this.vacancyId})}}};o("c7bd");const wP=y()(xP,[["render",CP],["__scopeId","data-v-b75b5590"]]);var NP=wP,_P={name:"VacancyList",components:{"vacancy-card":NP,"oxd-loading-spinner":Z["a"]},setup(){const e=window.appGlobal.baseUrl+"/../images/ohrm_branding.png",t=e=>e.map(e=>({vacancyId:e.id,vacancyTitle:e.name,vacancyDescription:e.description})),o=new K(window.appGlobal.baseUrl,"/api/v2/recruitment/public/vacancies"),{showPaginator:a,currentPage:l,total:n,pages:r,response:i,isLoading:c}=zt(o,{normalizer:t,pageSize:8});return{defaultPic:e,showPaginator:a,currentPage:l,isLoading:c,total:n,pages:r,vacancies:i}}};o("e8ed");const kP=y()(_P,[["render",OP],["__scopeId","data-v-21e8d053"]]);var SP=kP;const DP={class:"orangehrm-container"},$P={class:"orangehrm-card-container"},EP={class:"orangehrm-card-container-header"},TP=["src"],BP={class:"orangehrm-applicant-card-pre-tag"},IP={key:0,class:"orangehrm-vacancy-card-footer"},LP=["value"],UP=["value"],AP={class:"orangehrm-applicant-container"},PP={class:"orangehrm-paper-container"},qP=["src"];function MP(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("full-name-input"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-input-field"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("success-dialogue");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",DP,[Object(a["createElementVNode"])("div",$P,[Object(a["createElementVNode"])("div",EP,[Object(a["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.apply_for_n_vacancy",{vacancyName:n.vacancyName})),1)]),_:1}),Object(a["createElementVNode"])("img",{class:"oxd-brand-banner",src:o.bannerSrc},null,8,TP)]),n.vacancyDescription?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(c),Object(a["createVNode"])(i,{class:"orangehrm-vacancy-description",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.description")),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:Object(a["normalizeClass"])(r.descriptionClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("pre",BP,Object(a["toDisplayString"])(n.vacancyDescription)+"\n        ",1)]),_:1},8,["class"]),n.vacancyDescription.length>r.descriptionLength?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",IP,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag",onClick:r.onToggleMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.isViewDetails?e.$t("general.show_less"):e.$t("general.show_more")),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0)],64)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{ref:"applicantForm",method:"post",enctype:"multipart/form-data",loading:n.isLoading,action:r.submitUrl,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("input",{name:"_token",value:o.token,type:"hidden"},null,8,LP),Object(a["createElementVNode"])("input",{name:"vacancyId",value:o.vacancyId,type:"hidden"},null,8,UP),Object(a["createElementVNode"])("div",AP,[Object(a["createVNode"])(u,{class:"orangehrm-applicant-container-row"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{firstName:l.applicant.firstName,"onUpdate:firstName":t[0]||(t[0]=e=>l.applicant.firstName=e),lastName:l.applicant.lastName,"onUpdate:lastName":t[1]||(t[1]=e=>l.applicant.lastName=e),middleName:l.applicant.middleName,"onUpdate:middleName":t[2]||(t[2]=e=>l.applicant.middleName=e),label:e.$t("general.full_name"),rules:n.rules,required:""},null,8,["firstName","lastName","middleName","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,{class:"orangehrm-applicant-container-row"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.email,"onUpdate:modelValue":t[3]||(t[3]=e=>l.applicant.email=e),name:"email",label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.contactNumber,"onUpdate:modelValue":t[4]||(t[4]=e=>l.applicant.contactNumber=e),name:"contactNumber",label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.resume,"onUpdate:modelValue":t[5]||(t[5]=e=>l.applicant.resume=e),name:"resume",type:"file",label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),rules:n.rules.resume,required:""},null,8,["modelValue","label","button-label","rules"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accept_custom_format_file")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.keywords,"onUpdate:modelValue":t[6]||(t[6]=e=>l.applicant.keywords=e),name:"keywords",label:e.$t("recruitment.keywords"),placeholder:e.$t("recruitment.enter_comma_seperated_words")+"...",rules:n.rules.keywords},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.comment,"onUpdate:modelValue":t[7]||(t[7]=e=>l.applicant.comment=e),name:"comment",label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-applicant-container-colspan-2 orangehrm-applicant-container-grid-checkbox"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.applicant.consentToKeepData,"onUpdate:modelValue":t[8]||(t[8]=e=>l.applicant.consentToKeepData=e),name:"consentToKeepData",label:e.$t("recruitment.consent_to_keep_data"),type:"checkbox"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{label:e.$t("general.back"),"display-type":"ghost",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j,{label:e.$t("general.submit")},null,8,["label"])]),_:1})])]),_:1},8,["loading","action","onSubmitValid"])])]),Object(a["createElementVNode"])("div",PP,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.powered_by")),1)]),_:1}),Object(a["createElementVNode"])("img",{src:l.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,qP),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)]),Object(a["createVNode"])(v,{ref:"showDialogueModal"},null,512)],64)}const FP={class:"orangehrm-modal-header"},zP={class:"orangehrm-text-center-align"},RP={class:"orangehrm-modal-footer"};function GP(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("simple-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"with-close":!1,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":r.onSuccess},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",FP,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.application_received")),1)]),_:1})]),Object(a["createElementVNode"])("div",zP,[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("recruitment.your_application_has_been_submitted_successfully")),1)]),_:1})]),Object(a["createElementVNode"])("div",RP,[Object(a["createVNode"])(c,{label:e.$t("general.ok"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onSuccess},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var QP={name:"SuccessDialog",components:{"simple-dialog":ee["a"]},data(){return{show:!1,resolve:null}},methods:{showSuccessDialog(){return new Promise(e=>{this.resolve=e,this.show=!0})},onSuccess(){this.show=!1,this.resolve&&this.resolve("ok")}}};o("800c");const HP=y()(QP,[["render",GP],["__scopeId","data-v-1486003a"]]);var WP=HP;const JP={firstName:"",middleName:"",lastName:"",contactNumber:"",email:"",consentToKeepData:!1,resume:null,keywords:null,comment:null};var YP={name:"ApplyJobVacancy",components:{"submit-button":V,"full-name-input":Uu,"success-dialogue":WP},props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},vacancyId:{type:Number,required:!0},success:{type:Boolean,default:!1},bannerSrc:{type:String,required:!0},token:{type:String,required:!0}},setup(){const e=window.appGlobal.baseUrl+"/../images/ohrm_branding.png",t=Object(a["ref"])({...JP}),o=Object(VP["c"])(),l=new K(window.appGlobal.baseUrl,"api/v2/recruitment/public/vacancies");return{http:l,applicant:t,defaultPic:e,...Object(a["toRefs"])(o)}},data(){return{title:null,subtitle:null,successLabel:null,isLoading:!1,vacancyName:"",vacancyDescription:null,rules:{firstName:[io,co(30)],middleName:[co(30)],lastName:[io,co(30)],resume:[io,No(this.maxFileSize),_o(this.allowedFileTypes)],comment:[co(250)],keywords:[co(250)],contactNumber:[co(25),So],email:[io,ko,co(50)]},isViewDetails:!0}},computed:{submitUrl(){return J("/recruitment/public/applicants")},descriptionClasses(){return{"orangehrm-vacancy-description":!0,"orangehrm-vacancy-card-body":!this.isViewDetails}},isMobile(){return this.windowWidth<600},descriptionLength(){return this.isMobile?150:this.windowWidth<1920?250:400}},beforeMount(){this.http.get(this.vacancyId).then(e=>{var t;const{data:o}=e.data;this.vacancyName=null!==(t=null===o||void 0===o?void 0:o.name)&&void 0!==t?t:"",this.vacancyDescription=null===o||void 0===o?void 0:o.description})},mounted(){this.success&&this.showDialogue()},methods:{onSave(){this.$refs.applicantForm.$el.submit()},onCancel(){Y("/recruitmentApply/jobs.html")},showDialogue(){this.$refs.showDialogueModal.showSuccessDialog().then(e=>{"ok"===e&&Y("/recruitmentApply/jobs.html")})},onToggleMore(){this.isViewDetails=!this.isViewDetails}}};o("b3da");const XP=y()(YP,[["render",MP],["__scopeId","data-v-64344ee9"]]);var KP=XP;const ZP={class:"orangehrm-attachment"},eq={class:"orangehrm-attachment-header"},tq={class:"orangehrm-container"},oq={class:"orangehrm-bottom-container"};function aq(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("save-interview-attachment"),d=Object(a["resolveComponent"])("edit-interview-attachment"),s=Object(a["resolveComponent"])("oxd-text"),m=Object(a["resolveComponent"])("oxd-button"),u=Object(a["resolveComponent"])("table-header"),b=Object(a["resolveComponent"])("oxd-card-table"),p=Object(a["resolveComponent"])("oxd-pagination"),h=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ZP,[n.showSaveModal?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,http:l.http,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes,onClose:r.closeModel},null,8,["http","max-file-size","allowed-file-types","onClose"])):n.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,http:l.http,data:n.editModalState,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes,onClose:r.closeModel},null,8,["http","data","max-file-size","allowed-file-types","onClose"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:2},[Object(a["createElementVNode"])("div",eq,[Object(a["createVNode"])(s,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.attachments")),1)]),_:1}),Object(a["createVNode"])(m,{"icon-name":"plus","display-type":"text",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(u,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",tq,[Object(a["createVNode"])(b,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,clickable:!1,selectable:!0,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",oq,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])],64)),Object(a["createVNode"])(h,{ref:"deleteDialog"},null,512)])}const lq={class:"orangehrm-card-container"};function nq(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("required-text"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("submit-button"),j=Object(a["resolveComponent"])("oxd-form-actions"),O=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lq,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.add_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b),Object(a["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(h)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const rq={attachment:null,comment:""};var iq={name:"SaveInterviewAttachment",props:{http:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,attachment:{...rq},rules:{comment:[co(200)],attachment:[io,No(this.maxFileSize),_o(this.allowedFileTypes)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then(()=>this.$toast.saveSuccess()).then(()=>{this.attachment={...rq},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const cq=y()(iq,[["render",nq]]);var dq=cq;const sq={class:"orangehrm-card-container"};function mq(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-group"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-input-field"),p=Object(a["resolveComponent"])("required-text"),h=Object(a["resolveComponent"])("oxd-button"),j=Object(a["resolveComponent"])("submit-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sq,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit_attachment")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{label:e.$t("general.current_file")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.currentFile),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(a["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]),_:1})]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p),Object(a["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j)]),_:1})]),_:1},8,["loading","onSubmitValid"])])}const uq={attachment:null,comment:""};var bq={name:"EditInterviewAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,currentFile:"",attachment:{...uq},rules:{comment:[co(200)],attachment:[No(this.maxFileSize),_o(this.allowedFileTypes)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then(e=>{const{data:t}=e.data;this.currentFile=t.attachment.fileName,this.attachment.comment=t.comment}).finally(()=>{this.isLoading=!1})},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{comment:this.attachment.comment,currentAttachment:null!==this.attachment.attachment?"replaceCurrent":"keepCurrent",attachment:null!==this.attachment.attachment?this.attachment.attachment:void 0}).then(()=>this.$toast.updateSuccess()).then(()=>{this.attachment={...uq},this.onCancel()})},onCancel(){this.$emit("close",!0)}}};const pq=y()(bq,[["render",mq]]);var hq=pq;const jq=e=>e.map(e=>{var t,o,a;return{id:e.id,interviewId:e.interviewId,filename:null===(t=e.attachment)||void 0===t?void 0:t.fileName,size:Gb((null===(o=e.attachment)||void 0===o?void 0:o.fileSize)||0,2),fileType:null===(a=e.attachment)||void 0===a?void 0:a.fileType,comment:e.comment}});var Oq={components:{"delete-confirmation":Yt,"save-interview-attachment":dq,"edit-interview-attachment":hq},props:{interviewId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/recruitment/interviews/${e.interviewId}/attachments`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:c,execQuery:d}=zt(t,{normalizer:jq,toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:c,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.onClickDownload,props:{name:"download"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.items)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showSaveModal=!0,this.showEditModal=!1},onClickEdit(e){this.showSaveModal=!1,this.showEditModal=!0,this.editModalState=e},closeModel(){this.showSaveModal=!1,this.showEditModal=!1,this.resetDataTable()},onClickDownload(e){const t=`${window.appGlobal.baseUrl}/recruitment/viewInterviewAttachment/interview/${this.interviewId}/attachment/${e.id}`;window.open(t,"_blank")}}};o("c98f");const gq=y()(Oq,[["render",aq],["__scopeId","data-v-12fa5e51"]]);var vq=gq,fq={"view-job-vacancy":oL,"add-job-vacancy":yL,"edit-job-vacancy":HL,"save-candidate":XU,"view-candidates-list":OA,"view-candidate-profile":nP,"shortlist-action":GU,"reject-action":qU,"interview-schedule-action":wU,"interview-passed-action":pU,"interview-failed-action":dU,"offer-job-action":DU,"offer-decline-action":IU,"hire-action":lU,"view-action-history":uP,"vacancy-list":SP,"apply-job-vacancy":KP,"view-interview-attachments":vq};const yq={class:"orangehrm-background-container"},Cq={class:"orangehrm-paper-container"},Vq={class:"orangehrm-header-container"},xq={class:"orangehrm-container"},wq={class:"orangehrm-bottom-container"};function Nq(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table"),m=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yq,[Object(a["createElementVNode"])("div",Cq,[Object(a["createElementVNode"])("div",Vq,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.my_performance_trackers")),1)]),_:1})]),Object(a["createVNode"])(d,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",xq,[Object(a["createVNode"])(s,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(a["createElementVNode"])("div",wq,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])])}const _q={"performanceTracker.trackerName":"DEFAULT","performanceTracker.addedDate":"DEFAULT","performanceTracker.modifiedDate":"DESC"};var kq={setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=Xt({sortDefinition:_q}),n=Object(a["computed"])(()=>({sortField:t.value,sortOrder:o.value})),r=new K(window.appGlobal.baseUrl,"/api/v2/performance/trackers"),{jsDateFormat:i}=ie(),{locale:c}=He(),d=e=>e.map(e=>({id:e.id,tracker:e.trackerName,addedDate:we(xe(e.addedDate),i,{locale:c}),modifiedDate:we(xe(e.modifiedDate),i,{locale:c})})),{currentPage:s,total:m,showPaginator:u,pages:b,pageSize:p,response:h,execQuery:j,isLoading:O}=zt(r,{query:n,normalizer:d});return l(j),{http:r,total:m,isLoading:O,items:h,execQuery:j,sortDefinition:e,showPaginator:u,pages:b,pageSize:p,currentPage:s}},data(){return{headers:[{name:"tracker",slot:"title",title:this.$t("performance.tracker"),sortField:"performanceTracker.trackerName",style:{flex:"30%"}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"action",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),displayType:"text"}}}}]}},methods:{onClickView(e){Y("/performance/addPerformanceTrackerLog/trackId/{id}?mode=my",{id:e.id})}}};const Sq=y()(kq,[["render",Nq]]);var Dq=Sq;const $q={class:"orangehrm-background-container"},Eq=Object(a["createElementVNode"])("br",null,null,-1),Tq={class:"orangehrm-paper-container"},Bq={class:"orangehrm-container"},Iq={class:"orangehrm-bottom-container"};function Lq(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("include-employee-dropdown"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("oxd-divider"),p=Object(a["resolveComponent"])("oxd-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("oxd-table-filter"),g=Object(a["resolveComponent"])("table-header"),v=Object(a["resolveComponent"])("oxd-card-table"),f=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$q,[Object(a["createVNode"])(O,{"filter-title":e.$t("performance.employee_performance_trackers")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.empName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.empName=e),rules:n.rules.employee,"api-path":"api/v2/performance/trackers/reviewers",params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),Eq,Object(a["createElementVNode"])("div",Tq,[Object(a["createVNode"])(g,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",Bq,[Object(a["createVNode"])(v,{order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(a["createElementVNode"])("div",Iq,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])])}const Uq={empName:null,includeEmployees:{id:1,param:"onlyCurrent",label:"Current Employees Only"}},Aq={"employee.lastName":"DEFAULT","tracker.trackerName":"DEFAULT","tracker.modifiedDate":"DESC","tracker.addedDate":"DEFAULT"};var Pq={components:{"include-employee-dropdown":bb,"employee-autocomplete":Fa},setup(){const{$t:e}=Ge(),{jsDateFormat:t}=ie(),{locale:o}=He(),l=a=>a.map(a=>{var l,n,r;return{id:a.id,title:a.title,empName:`${null===(l=a.employee)||void 0===l?void 0:l.firstName} ${null===(n=a.employee)||void 0===n?void 0:n.lastName} ${null!==(r=a.employee)&&void 0!==r&&r.terminationId?" "+e("general.past_employee"):""}`,modifiedDate:we(xe(a.modifiedDate),t,{locale:o}),addedDate:we(xe(a.addedDate),t,{locale:o})}}),n=Object(a["ref"])({...Uq}),{sortDefinition:r,sortField:i,sortOrder:c,onSort:d}=Xt({sortDefinition:Aq}),s=Object(a["computed"])(()=>{var e,t;return{sortField:i.value,sortOrder:c.value,empNumber:null===(e=n.value.empName)||void 0===e?void 0:e.id,includeEmployees:null===(t=n.value.includeEmployees)||void 0===t?void 0:t.param}}),m="api/v2/performance/employees/trackers",u=new K(window.appGlobal.baseUrl,m),{showPaginator:b,currentPage:p,total:h,pages:j,pageSize:O,isLoading:g,response:v,execQuery:f}=zt(u,{query:s,normalizer:l});return d(f),{total:h,showPaginator:b,currentPage:p,pages:j,pageSize:O,isLoading:g,items:v,api:m,http:u,execQuery:f,sortDefinition:r,filters:n}},data(){return{headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"employee.lastName",style:{flex:2}},{name:"title",title:this.$t("general.trackers"),sortField:"tracker.trackerName",style:{flex:2}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"tracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"tracker.modifiedDate",style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),class:"orangehrm-left-space",displayType:"text"}}}}],rules:{employee:[Fo]}}},methods:{async resetDataTable(){await this.execQuery()},async filterItems(){await this.execQuery()},onClickView(e){Y("/performance/addPerformanceTrackerLog/trackId/{id}",{id:e.id})}}};const qq=y()(Pq,[["render",Lq]]);var Mq=qq;const Fq=e=>(Object(a["pushScopeId"])("data-v-269f69c4"),e=e(),Object(a["popScopeId"])(),e),zq={class:"orangehrm-background-container"},Rq={class:"orangehrm-card-container"},Gq={class:"orangehrm-module-field-row"},Qq=Fq(()=>Object(a["createElementVNode"])("br",null,null,-1));function Hq(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("jobtitle-dropdown"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zq,[Object(a["createElementVNode"])("div",Rq,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.edit_key_performance_indicator")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.kpi.title=e),label:e.$t("performance.key_performance_indicator"),required:"",rules:n.rules.title,autcomplete:"off",readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.kpi.jobTitle=e),required:"",rules:n.rules.jobTitle},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=e=>n.kpi.minRating=e),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:n.rules.minRating,readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.kpi.maxRating=e),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:n.rules.maxRating,readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Gq,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.make_default_scale")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=e=>n.kpi.isDefault=e)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Qq,Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const Wq={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1};var Jq={name:"KpiSave",components:{"oxd-switch-input":Sl["a"],"jobtitle-dropdown":tb},props:{kpiId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/performance/kpis");return{http:e}},data(){return{isLoading:!1,kpi:{...Wq},isReadOnly:!1,rules:{title:[io,co(100)],jobTitle:[io],minRating:[io,Lo(0,100),Io(()=>this.kpi.maxRating,this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[io,Lo(0,100),Bo(()=>this.kpi.minRating,this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},created(){this.isLoading=!0,this.http.get(this.kpiId).then(e=>{const{data:t}=e.data,{meta:o}=e.data;this.isReadOnly=!1===o.editable,this.kpi.title=t.title,this.kpi.jobTitle=t.jobTitle.deleted?null:{id:t.jobTitle.id,label:t.jobTitle.name},this.kpi.minRating=t.minRating,this.kpi.maxRating=t.maxRating,this.kpi.isDefault=t.isDefault}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/performance/searchKpi")},onSave(){this.isLoading=!0,this.http.update(this.kpiId,{title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})}}};o("6e41");const Yq=y()(Jq,[["render",Hq],["__scopeId","data-v-269f69c4"]]);var Xq=Yq;const Kq=e=>(Object(a["pushScopeId"])("data-v-108426f4"),e=e(),Object(a["popScopeId"])(),e),Zq={class:"orangehrm-background-container"},eM={class:"orangehrm-card-container"},tM={class:"orangehrm-module-field-row"},oM=Kq(()=>Object(a["createElementVNode"])("br",null,null,-1));function aM(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("jobtitle-dropdown"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("oxd-form-row"),p=Object(a["resolveComponent"])("oxd-switch-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Zq,[Object(a["createElementVNode"])("div",eM,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.add_key_performance_indicator")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.kpi.title=e),label:e.$t("performance.key_performance_indicator"),required:"",rules:n.rules.title,autcomplete:"off"},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:n.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.kpi.jobTitle=e),required:"",rules:n.rules.jobTitle},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=e=>n.kpi.minRating=e),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:n.rules.minRating},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.kpi.maxRating=e),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:n.rules.maxRating},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",tM,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.make_default_scale")),1)]),_:1}),Object(a["createVNode"])(p,{modelValue:n.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=e=>n.kpi.isDefault=e)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),oM,Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const lM={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1};var nM={name:"KpiSave",components:{"oxd-switch-input":Sl["a"],"jobtitle-dropdown":tb},props:{defaultMinRating:{type:Number,required:!1,default:null},defaultMaxRating:{type:Number,required:!1,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/performance/kpis");return{http:e}},data(){return{isLoading:!1,kpi:{...lM},rules:{title:[io,co(100)],jobTitle:[io],minRating:[io,Lo(0,100),Io(()=>this.kpi.maxRating,this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[io,Lo(0,100),Bo(()=>this.kpi.minRating,this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},beforeMount(){this.kpi.minRating=this.defaultMinRating,this.kpi.maxRating=this.defaultMaxRating},methods:{onCancel(){Y("/performance/searchKpi")},onSave(){this.isLoading=!0,this.http.create({title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})}}};o("c02d");const rM=y()(nM,[["render",aM],["__scopeId","data-v-108426f4"]]);var iM=rM;const cM={class:"orangehrm-background-container"},dM=Object(a["createElementVNode"])("br",null,null,-1),sM={class:"orangehrm-paper-container"},mM={class:"orangehrm-header-container"},uM={class:"orangehrm-container"},bM={class:"orangehrm-bottom-container"};function pM(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("jobtitle-dropdown"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("table-header"),g=Object(a["resolveComponent"])("oxd-card-table"),v=Object(a["resolveComponent"])("oxd-pagination"),f=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",cM,[Object(a["createVNode"])(j,{"filter-title":e.$t("performance.key_performance_indicators_for_job_title")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),dM,Object(a["createElementVNode"])("div",sM,[Object(a["createElementVNode"])("div",mM,[Object(a["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(O,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",uM,[Object(a["createVNode"])(g,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",bM,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(f,{ref:"deleteDialog"},null,512)])}const hM={jobTitleId:null},jM={"kpi.title":"ASC","jobTitle.jobTitleName":"DEFAULT"};var OM={name:"KpiSearch",components:{"delete-confirmation":Yt,"jobtitle-dropdown":tb},setup(){const{$t:e}=Ge(),t=t=>t.map(t=>({id:t.id,title:t.title,jobTitleName:t.jobTitle.name,jobTitleId:t.jobTitle.id,minRating:t.minRating,maxRating:t.maxRating,isDefault:t.isDefault?e("general.yes"):"",isDeletable:t.deletable})),o=Object(a["ref"])({...hM}),{sortDefinition:l,sortField:n,sortOrder:r,onSort:i}=Xt({sortDefinition:jM}),c=Object(a["computed"])(()=>{var e;return{sortField:n.value,sortOrder:r.value,jobTitleId:null===(e=o.value.jobTitleId)||void 0===e?void 0:e.id}}),d=new K(window.appGlobal.baseUrl,"api/v2/performance/kpis"),{showPaginator:s,currentPage:m,total:u,pages:b,pageSize:p,response:h,isLoading:j,execQuery:O}=zt(d,{query:c,normalizer:t});return i(O),{http:d,showPaginator:s,currentPage:m,total:u,pages:b,pageSize:p,items:h,isLoading:j,execQuery:O,filters:o,sortDefinition:l}},data(){return{headers:[{name:"title",title:this.$t("performance.key_performance_indicator"),slot:"title",sortField:"kpi.title",style:{flex:"30%"}},{name:"jobTitleName",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"30%"}},{name:"minRating",title:this.$t("performance.min_rate"),style:{flex:"10%"}},{name:"maxRating",title:this.$t("performance.max_rate"),style:{flex:"10%"}},{name:"isDefault",title:this.$t("performance.is_default"),style:{flex:"10%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"10%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],checkedItems:[]}},methods:{cellRenderer(...[,,,e]){const t={};return t.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}},e.isDeletable&&(t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),{props:{header:{cellConfig:t}}}},onClickAdd(){Y("/performance/saveKpi")},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},onClickEdit(e){Y("/performance/saveKpi/{id}",{id:e.id})},async filterItems(){await this.execQuery()},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const gM=y()(OM,[["render",pM]]);var vM=gM;const fM={class:"orangehrm-background-container"},yM={class:"orangehrm-card-container"},CM={class:"orangehrm-button-row"};function VM(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("supervisor-autocomplete"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fM,[Object(a["createElementVNode"])("div",yM,[Object(a["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.add_review")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{ref:"formRef",loading:n.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.review.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.review.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.review.supervisorReviewer=e),rules:n.rules.supervisorReviewer,subordinate:n.review.employee,required:""},null,8,["modelValue","rules","subordinate"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.review.startDate=e),label:e.$t("performance.review_period_start_date"),rules:n.rules.startDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.review.endDate=e),label:e.$t("performance.review_period_end_date"),rules:n.rules.endDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.review.dueDate=e),label:e.$t("performance.due_date"),rules:n.rules.dueDate,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createElementVNode"])("div",CM,[Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=e=>r.onSave(!1))},null,8,["label"]),Object(a["createVNode"])(j,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=e=>r.onSave(!0))},null,8,["label"])])]),_:1})]),_:1},8,["loading"])])])}function xM(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{label:e.$t("performance.supervisor_reviewer"),clear:!1,"create-options":r.loadEmployees,required:""},null,8,["label","create-options"])}var wM={name:"SupervisorAutoComplete",components:{"employee-autocomplete":Fa},props:{subordinate:{type:Object,required:!1,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/performance/supervisors");return{http:e}},methods:{async loadEmployees(e){return new Promise(t=>{e.trim()&&this.subordinate?this.http.getAll({nameOrId:e.trim(),empNumber:this.subordinate.id}).then(({data:e})=>{t(e.data.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})))}):t([])})}}};const NM=y()(wM,[["render",xM]]);var _M=NM;const kM={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null};var SM={components:{"employee-autocomplete":Fa,"supervisor-autocomplete":_M},setup(){const{formRef:e,invalid:t,validate:o}=Xs(),{userDateFormat:a}=ie(),l=new K(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews"),{formRef:e,invalid:t,validate:o,http:l,userDateFormat:a}},data(){return{isLoading:!1,review:{...kM},rules:{employee:[io,Fo],supervisorReviewer:[io,Fo],startDate:[io,so(this.userDateFormat),Do(()=>this.review.endDate,this.$t("performance.review_period_start_date_should_be_before_end_date"))],endDate:[io,so(this.userDateFormat),yo(()=>this.review.startDate,this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[io,so(),yo(()=>this.review.endDate,this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},methods:{onCancel(){Y("/performance/searchPerformanceReview")},onSave(e=!1){this.validate().then(()=>{!0!==this.invalid&&(this.isLoading=!0,this.http.create({empNumber:this.review.employee.id,reviewerEmpNumber:this.review.supervisorReviewer.id,startDate:this.review.startDate,endDate:this.review.endDate,dueDate:this.review.dueDate,activate:e}).then(()=>!0===e?this.$toast.success({title:this.$t("general.success"),message:this.$t("general.successfully_activated")}):this.$toast.updateSuccess()).then(()=>{this.onCancel()}).catch(e=>this.$toast.warn({title:this.$t("general.warning"),message:null===e||void 0===e?void 0:e.data.error.message})).finally(()=>{this.isLoading=!1}))})}}};o("4222");const DM=y()(SM,[["render",VM],["__scopeId","data-v-3ef1235c"]]);var $M=DM;const EM={class:"orangehrm-background-container"},TM={class:"orangehrm-card-container"},BM={class:"orangehrm-button-row"};function IM(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("employee-autocomplete"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("supervisor-autocomplete"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",EM,[Object(a["createElementVNode"])("div",TM,[Object(a["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.edit_review")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,{ref:"formRef",loading:n.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.review.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.review.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.review.supervisorReviewer=e),rules:n.rules.supervisorReviewer,required:"",subordinate:n.review.employee},null,8,["modelValue","rules","subordinate"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.review.startDate=e),label:e.$t("performance.review_period_start_date"),rules:n.rules.startDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.review.endDate=e),label:e.$t("performance.review_period_end_date"),rules:n.rules.endDate,required:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.review.dueDate=e),label:e.$t("performance.due_date"),rules:n.rules.dueDate,required:""},null,8,["modelValue","label","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createElementVNode"])("div",BM,[Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=e=>r.onSave(!1))},null,8,["label"]),Object(a["createVNode"])(j,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=e=>r.onSave(!0))},null,8,["label"])])]),_:1})]),_:1},8,["loading"])])])}const LM={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null};var UM={components:{"employee-autocomplete":Fa,"supervisor-autocomplete":_M},props:{reviewId:{type:Number,required:!0}},setup(){const{formRef:e,invalid:t,validate:o}=Xs(),{userDateFormat:a}=ie(),l=new K(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews/[0-9]+"),{formRef:e,invalid:t,validate:o,http:l,userDateFormat:a}},data(){return{isLoading:!1,review:{...LM},rules:{employee:[io,Fo],supervisorReviewer:[io,Fo],startDate:[io,so(this.userDateFormat),Do(()=>this.review.endDate,this.$t("general.review_period_start_date_should_be_before_end_date"))],endDate:[io,so(this.userDateFormat),yo(()=>this.review.startDate,this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[io,so(),yo(()=>this.review.endDate,this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},created(){this.isLoading=!0,this.http.get(this.reviewId).then(e=>{const{data:t}=e.data;this.review.employee=t.employee?{id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName?t.employee.middleName:""} ${t.employee.lastName}`,isPastEmployee:!!t.employee.terminationId}:null,this.review.supervisorReviewer=t.reviewer.employee?{id:t.reviewer.employee.empNumber,label:`${t.reviewer.employee.firstName} ${t.reviewer.employee.middleName?t.reviewer.employee.middleName:""} ${t.reviewer.employee.lastName}`,isPastEmployee:!!t.reviewer.employee.terminationId}:null,this.review.startDate=t.reviewPeriodStart,this.review.endDate=t.reviewPeriodEnd,this.review.dueDate=t.dueDate}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/performance/searchPerformanceReview")},onSave(e=!1){this.validate().then(()=>{if(!0!==this.invalid){if(this.review.supervisorReviewer.isPastEmployee)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("performance.cannot_add_a_past_employee_as_a_reviewer")});this.isLoading=!0,this.http.update(this.reviewId,{empNumber:this.review.employee.id,reviewerEmpNumber:this.review.supervisorReviewer.id,startDate:this.review.startDate,endDate:this.review.endDate,dueDate:this.review.dueDate,activate:e}).then(()=>!0===e?this.$toast.success({title:this.$t("general.success"),message:this.$t("general.successfully_activated")}):this.$toast.updateSuccess()).then(()=>{this.onCancel()}).catch(e=>this.$toast.warn({title:this.$t("general.warning"),message:null===e||void 0===e?void 0:e.data.error.message})).finally(()=>{this.isLoading=!1})}})}}};o("9b84");const AM=y()(UM,[["render",IM],["__scopeId","data-v-e6a1ffe2"]]);var PM=AM;const qM={class:"orangehrm-background-container"},MM=Object(a["createElementVNode"])("br",null,null,-1),FM={class:"orangehrm-paper-container"},zM={class:"orangehrm-header-container"},RM={class:"orangehrm-container"},GM={class:"orangehrm-bottom-container"};function QM(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-table-filter"),O=Object(a["resolveComponent"])("table-header"),g=Object(a["resolveComponent"])("oxd-card-table"),v=Object(a["resolveComponent"])("oxd-pagination"),f=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qM,[Object(a["createVNode"])(j,{"filter-title":e.$t("performance.performance_trackers")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{onSubmitValid:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.empNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.empNumber=e),rules:n.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),Object(a["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid"])]),_:1},8,["filter-title"]),MM,Object(a["createElementVNode"])("div",FM,[Object(a["createElementVNode"])("div",zM,[Object(a["createVNode"])(b,{"display-type":"secondary","icon-name":"plus",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(O,{loading:l.isLoading,selected:n.checkedItems.length,total:l.total,onDelete:r.onClickDeleteSelected},null,8,["loading","selected","total","onDelete"]),Object(a["createElementVNode"])("div",RM,[Object(a["createVNode"])(g,{order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),clickable:!1,headers:n.headers,items:null===(i=l.response)||void 0===i?void 0:i.data,loading:l.isLoading,selectable:!0,"row-decorator":"oxd-table-decorator-card"},null,8,["order","selected","headers","items","loading"])]),Object(a["createElementVNode"])("div",GM,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(f,{ref:"deleteDialog"},null,512)])}const HM={empNumber:null},WM={"performanceTracker.modifiedDate":"DESC","employee.lastName":"ASC","performanceTracker.trackerName":"ASC","performanceTracker.addedDate":"DESC"};var JM={name:"TrackerList",components:{"delete-confirmation":Yt,"employee-autocomplete":Fa},props:{unselectableIds:{type:Array,default:()=>[]}},setup(){const{locale:e}=He(),{jsDateFormat:t}=ie(),{$tEmpName:o}=za(),l=a=>a.map(a=>({id:a.id,tracker:a.trackerName,addDate:we(xe(a.addedDate),t,{locale:e}),modifiedDate:we(xe(a.modifiedDate),t,{locale:e}),empName:o(a.employee,{includeMiddle:!1,excludePastEmpTag:!1})})),n=new K(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers"),r=Object(a["ref"])({...HM}),{sortDefinition:i,sortField:c,sortOrder:d,onSort:s}=Xt({sortDefinition:WM}),m=Object(a["computed"])(()=>{var e,t;return{empNumber:null===(e=r.value.empNumber)||void 0===e?void 0:e.id,sortField:c.value,sortOrder:d.value,includeEmployees:null===(t=r.value.includeEmployees)||void 0===t?void 0:t.param}}),{showPaginator:u,currentPage:b,total:p,response:h,pages:j,isLoading:O,execQuery:g}=zt(n,{query:m,normalizer:l,prefetch:!0,toastNoRecords:!0});return s(g),{http:n,total:p,isLoading:O,showPaginator:u,currentPage:b,pages:j,response:h,execQuery:g,sortDefinition:i,filters:r}},data(){return{headers:[{name:"empName",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"tracker",title:this.$t("performance.tracker"),style:{flex:1},sortField:"performanceTracker.trackerName"},{name:"addDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],rules:{employee:[Fo]}}},methods:{onClickAdd(){Y("/performance/addPerformanceTracker")},onClickEdit(e){Y("/performance/addPerformanceTracker/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map(e=>{var t;return null===(t=this.response)||void 0===t?void 0:t.data[e].id});this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){const t=this.unselectableIds.findIndex(t=>t==e.id);if(t>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...HM},this.filterItems()}}};const YM=y()(JM,[["render",QM]]);var XM=YM;const KM={class:"orangehrm-background-container"},ZM={class:"orangehrm-card-container"};function eF(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("employee-autocomplete"),p=Object(a["resolveComponent"])("reviewer-autocomplete"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",KM,[Object(a["createElementVNode"])("div",ZM,[Object(a["createVNode"])(i,{class:"orangehrm-main-title",tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.add_performance_tracker")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tracker.name=e),rules:n.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tracker.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tracker.reviewers=e),rules:n.rules.reviewers,"exclude-employee":n.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}function tF(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{label:e.$t("performance.reviewers"),multiple:!0,clear:!1,"create-options":r.loadEmployees,required:""},null,8,["label","create-options"])}var oF={name:"ReviewersAutoComplete",components:{"employee-autocomplete":Fa},props:{includeEmployees:{type:String,default:"onlyCurrent"},excludeEmployee:{type:Object,required:!1,default:null}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/performance/trackers/reviewers");return{http:e}},methods:{async loadEmployees(e){return new Promise(t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),empNumber:null==this.excludeEmployee?null:this.excludeEmployee.id}).then(({data:e})=>{t(e.data.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})))}):t([])})}}};const aF=y()(oF,[["render",tF]]);var lF=aF;const nF={name:null,employee:null,reviewers:[]};var rF={components:{"reviewer-autocomplete":lF,"employee-autocomplete":Fa},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data(){return{isLoading:!1,tracker:{...nF},rules:{tracker:[io,co(200)],employee:[io,Fo,e=>{if(null===e)return!0;const t=this.tracker.reviewers.findIndex(t=>t.id===e.id);return-1==t||this.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[io,Fo]}}},methods:{onCancel(){Y("/performance/viewPerformanceTracker")},onSave(){this.isLoading=!0,this.http.create({trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map(e=>e.id)}).then(()=>this.$toast.saveSuccess()).then(()=>{this.onCancel()})}}};const iF=y()(rF,[["render",eF]]);var cF=iF;const dF={class:"orangehrm-background-container"},sF={class:"orangehrm-card-container"};function mF(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid-item"),m=Object(a["resolveComponent"])("oxd-grid"),u=Object(a["resolveComponent"])("oxd-form-row"),b=Object(a["resolveComponent"])("employee-autocomplete"),p=Object(a["resolveComponent"])("reviewer-autocomplete"),h=Object(a["resolveComponent"])("required-text"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("submit-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",dF,[Object(a["createElementVNode"])("div",sF,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.edit_performance_tracker")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tracker.name=e),rules:n.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:n.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tracker.employee=e),rules:n.rules.employee,readonly:n.isReadOnly},null,8,["modelValue","rules","readonly"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:n.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tracker.reviewers=e),rules:n.rules.reviewers,"exclude-employee":n.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h),Object(a["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(O)]),_:1})]),_:1},8,["loading","onSubmitValid"])])])}const uF={name:null,employee:null,reviewers:[]};var bF={components:{"employee-autocomplete":Fa,"reviewer-autocomplete":lF},props:{performanceTrackerId:{type:Number,required:!0}},setup(){const e=new K(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data(){return{isLoading:!1,tracker:{...uF},isReadOnly:!1,rules:{tracker:[io,co(200)],employee:[io,Fo,e=>{if(null===e)return!0;const t=this.tracker.reviewers.findIndex(t=>t.id===e.id);return-1==t||this.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[io,Fo]}}},beforeMount(){this.isLoading=!0,this.http.get(this.performanceTrackerId).then(e=>{const{data:t}=e.data;this.isReadOnly=!1===t.ownerEditable,this.tracker.id=t.id,this.tracker.name=t.trackerName,this.tracker.employee=t.employee?{id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName} ${t.employee.lastName}`,isPastEmployee:!!t.employee.terminationId}:null,this.tracker.reviewers=t.reviewers.map(e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))}).finally(()=>{this.isLoading=!1})},methods:{onCancel(){Y("/performance/viewPerformanceTracker")},onSave(){this.isLoading=!0;const e={trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map(e=>e.id)};this.http.update(this.performanceTrackerId,e).then(()=>this.$toast.updateSuccess()).then(()=>{this.onCancel()})}}};const pF=y()(bF,[["render",mF]]);var hF=pF;const jF={class:"orangehrm-background-container"},OF={class:"orangehrm-paper-container"},gF={class:"orangehrm-header-container"},vF={class:"orangehrm-container"},fF={class:"orangehrm-bottom-container"};function yF(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("table-header"),s=Object(a["resolveComponent"])("oxd-card-table"),m=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jF,[Object(a["createElementVNode"])("div",OF,[Object(a["createElementVNode"])("div",gF,[Object(a["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.my_reviews")),1)]),_:1})]),Object(a["createVNode"])(d,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",vF,[Object(a["createVNode"])(s,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(a["createElementVNode"])("div",fF,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])])}const CF={component:"oxd-icon-button",props:{name:"eye-fill",title:"View"}},VF={component:"oxd-icon-button",props:{name:"pencil-fill",title:"Edit"}},xF={component:"oxd-icon-button",props:{name:"file-text-fill",title:"Evaluate"}},wF={component:"oxd-button",props:{label:"View",displayType:"text",size:"medium",style:{"min-width":"120px"}}},NF={component:"oxd-button",props:{label:"Edit",displayType:"text",size:"medium",style:{"min-width":"120px"}}},_F={component:"oxd-button",props:{label:"Evaluate",displayType:"text",size:"medium",style:{"min-width":"120px"}}},kF={class:"oxd-table-card-cell"},SF={class:"data"};function DF(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",kF,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",{class:"header"},Object(a["toDisplayString"])(o.header.title),513),[[a["vShow"],r.showHeader]]),Object(a["createElementVNode"])("div",SF,[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.reviewPeriodStart)+" - ",1),Object(a["createVNode"])(i,{tag:"span",class:"time"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.reviewPeriodEnd),1)]),_:1})]),_:1})])])}var $F={name:"ReviewPeriodCell",inject:["screenState"],props:{header:{type:Object,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0}},computed:{showHeader(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};o("8f2e");const EF=y()($F,[["render",DF],["__scopeId","data-v-c3cf847e"]]);var TF=EF;const BF={"performanceReview.statusId":"ASC","performanceReview.dueDate":"ASC","performanceReview.reviewPeriodStart":"DEFAULT","reviewer.status":"DEFAULT"};var IF={setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=Xt({sortDefinition:BF}),n=Object(a["computed"])(()=>({sortField:t.value,sortOrder:o.value})),r=new K(window.appGlobal.baseUrl,"/api/v2/performance/reviews"),{jsDateFormat:i}=ie(),{locale:c}=He(),d=e=>e.map(e=>({id:e.id,jobTitle:e.jobTitle.name,department:e.subunit.name,reviewPeriod:{reviewPeriodStart:we(xe(e.reviewPeriodStart),i,{locale:c}),reviewPeriodEnd:we(xe(e.reviewPeriodEnd),i,{locale:c})},dueDate:we(xe(e.dueDate),i,{locale:c}),overallStatus:e.overallStatus.statusName,selfEvaluationStatus:e.selfReviewStatus,statusId:e.overallStatus.statusId})),{currentPage:s,total:m,showPaginator:u,pages:b,pageSize:p,response:h,execQuery:j,isLoading:O}=zt(r,{query:n,normalizer:d});return l(j),{http:r,total:m,isLoading:O,items:h,execQuery:j,sortDefinition:e,showPaginator:u,pages:b,pageSize:p,currentPage:s}},data(){return{headers:[{name:"jobTitle",slot:"title",title:this.$t("general.job_title"),style:{flex:1}},{name:"department",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:2},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"selfEvaluationStatus",title:this.$t("performance.self_evaluation_status"),sortField:"reviewer.status",style:{flex:1}},{name:"overallStatus",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer}]}},methods:{actionButtonCellRenderer(...[,,,e]){const t={},o=Object(a["inject"])("screenState");return"lg"===o.screenType||"xl"===o.screenType?"Completed"===e.selfEvaluationStatus?(t.view=CF,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=xF,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):"Completed"===e.selfEvaluationStatus?(t.view=wF,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=_F,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:TF,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},onClickView(){Y("/performance/searchKpi")},onClickEvaluate(e){Y("/performance/reviewEvaluate/id/{id}",{id:e.id})}}};o("3d4e");const LF=y()(IF,[["render",yF],["__scopeId","data-v-578f8e3e"]]);var UF=LF;const AF=e=>(Object(a["pushScopeId"])("data-v-165106fc"),e=e(),Object(a["popScopeId"])(),e),PF={class:"orangehrm-background-container"},qF=AF(()=>Object(a["createElementVNode"])("br",null,null,-1)),MF={class:"orangehrm-paper-container"},FF={class:"orangehrm-container"},zF={class:"orangehrm-bottom-container"};function RF(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("jobtitle-dropdown"),m=Object(a["resolveComponent"])("subunit-dropdown"),u=Object(a["resolveComponent"])("include-employee-dropdown"),b=Object(a["resolveComponent"])("review-status-dropdown"),p=Object(a["resolveComponent"])("date-input"),h=Object(a["resolveComponent"])("oxd-grid"),j=Object(a["resolveComponent"])("oxd-divider"),O=Object(a["resolveComponent"])("oxd-button"),g=Object(a["resolveComponent"])("oxd-form-actions"),v=Object(a["resolveComponent"])("oxd-form"),f=Object(a["resolveComponent"])("oxd-table-filter"),y=Object(a["resolveComponent"])("table-header"),C=Object(a["resolveComponent"])("oxd-card-table"),V=Object(a["resolveComponent"])("oxd-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",PF,[Object(a["createVNode"])(f,{"filter-title":e.$t("performance.employee_reviews")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.subunit=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.status,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.status=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.fromDate=e),rules:n.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.toDate=e),rules:n.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])]),_:1})]),_:1}),Object(a["createVNode"])(j),Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(O,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),qF,Object(a["createElementVNode"])("div",MF,[Object(a["createVNode"])(y,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),Object(a["createElementVNode"])("div",FF,[Object(a["createVNode"])(C,{order:l.sortDefinition,"onUpdate:order":t[7]||(t[7]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(a["createElementVNode"])("div",zF,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:0,current:l.currentPage,"onUpdate:current":t[8]||(t[8]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])])])}function GF(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{type:"select",label:e.$t("performance.review_status"),clear:!1,options:n.statusOpts},null,8,["label","options"])}var QF={name:"ReviewStatusDropdown",data(){return{statusOpts:[{id:1,statusId:2,label:this.$t("performance.activated")},{id:2,statusId:3,label:this.$t("performance.in_progress")},{id:3,statusId:4,label:this.$t("performance.completed")}]}}};const HF=y()(QF,[["render",GF]]);var WF=HF;const JF={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC"};var YF={name:"ReviewList",components:{"include-employee-dropdown":bb,"review-status-dropdown":WF,"subunit-dropdown":nb,"jobtitle-dropdown":tb,"employee-autocomplete":Fa},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup(e){const{$t:t}=Ge(),{jsDateFormat:o,userDateFormat:l}=ie(),{locale:n}=He(),r=e=>we(xe(e),o,{locale:n}),i=e=>e.map(e=>{var o,a,l,n,i;return{id:e.id,employee:`${null===(o=e.employee)||void 0===o?void 0:o.firstName} ${null===(a=e.employee)||void 0===a?void 0:a.lastName} ${null!==(l=e.employee)&&void 0!==l&&l.terminationId?" "+t("general.past_employee"):""}`,jobTitle:null===(n=e.jobTitle)||void 0===n?void 0:n.name,subunit:null===(i=e.subunit)||void 0===i?void 0:i.name,reviewPeriod:{reviewPeriodStart:r(e.reviewPeriodStart),reviewPeriodEnd:r(e.reviewPeriodEnd)},dueDate:r(e.dueDate),status:2===e.overallStatus.statusId?t("performance.activated"):3===e.overallStatus.statusId?t("performance.in_progress"):t("performance.completed"),statusId:e.overallStatus.statusId}}),c={employee:null,jobTitle:null,subunit:null,status:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}},d=Object(a["ref"])({...c,...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate}}),{sortDefinition:s,sortField:m,sortOrder:u,onSort:b}=Xt({sortDefinition:JF}),p=Object(a["computed"])(()=>{var e,t,o,a,l;return{sortField:m.value,sortOrder:u.value,empNumber:null===(e=d.value.employee)||void 0===e?void 0:e.id,jobTitleId:null===(t=d.value.jobTitle)||void 0===t?void 0:t.id,subunitId:null===(o=d.value.subunit)||void 0===o?void 0:o.id,statusId:null===(a=d.value.status)||void 0===a?void 0:a.statusId,fromDate:d.value.fromDate,toDate:d.value.toDate,includeEmployees:null===(l=d.value.includeEmployees)||void 0===l?void 0:l.param}}),h=new K(window.appGlobal.baseUrl,"api/v2/performance/employees/reviews"),{showPaginator:j,currentPage:O,total:g,pages:v,pageSize:f,response:y,isLoading:C,execQuery:V}=zt(h,{query:p,normalizer:i});return b(V),{http:h,showPaginator:j,currentPage:O,isLoading:C,total:g,pages:v,pageSize:f,execQuery:V,items:y,filters:d,sortDefinition:s,userDateFormat:l}},data(){return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:1},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionCellRenderer,style:{flex:1}}],rules:{employee:[Fo],fromDate:[so(this.userDateFormat),Do(()=>this.filters.toDate,this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(this.userDateFormat),yo(()=>this.filters.fromDate,this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionCellRenderer(...[,,,e]){const t={},o=Object(a["inject"])("screenState");return"lg"===o.screenType||"xl"===o.screenType?4===e.statusId?(t.view=CF,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=xF,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):4===e.statusId?(t.view=wF,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=_F,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:TF,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},async filterItems(){await this.execQuery()},onClickEvaluate(e){Y("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})}}};o("63a1");const XF=y()(YF,[["render",RF],["__scopeId","data-v-165106fc"]]);var KF=XF;const ZF=e=>(Object(a["pushScopeId"])("data-v-25e8d295"),e=e(),Object(a["popScopeId"])(),e),ez={class:"orangehrm-background-container"},tz=ZF(()=>Object(a["createElementVNode"])("br",null,null,-1)),oz={class:"orangehrm-paper-container"},az={class:"orangehrm-header-container"},lz={class:"orangehrm-container"},nz={class:"orangehrm-bottom-container"};function rz(e,t,o,l,n,r){var i;const c=Object(a["resolveComponent"])("employee-autocomplete"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("jobtitle-dropdown"),m=Object(a["resolveComponent"])("review-status-dropdown"),u=Object(a["resolveComponent"])("include-employee-dropdown"),b=Object(a["resolveComponent"])("date-input"),p=Object(a["resolveComponent"])("oxd-grid"),h=Object(a["resolveComponent"])("oxd-divider"),j=Object(a["resolveComponent"])("oxd-button"),O=Object(a["resolveComponent"])("oxd-form-actions"),g=Object(a["resolveComponent"])("oxd-form"),v=Object(a["resolveComponent"])("oxd-table-filter"),f=Object(a["resolveComponent"])("table-header"),y=Object(a["resolveComponent"])("oxd-card-table"),C=Object(a["resolveComponent"])("oxd-pagination"),V=Object(a["resolveComponent"])("delete-confirmation-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ez,[Object(a["createVNode"])(v,{"filter-title":e.$t("performance.manage_performance_reviews")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{modelValue:l.filters.status,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.status=e),options:l.statusOpts},null,8,["modelValue","options"])]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:l.filters.reviewer,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.reviewer=e),label:e.$t("performance.reviewer"),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.fromDate=e),rules:n.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])]),_:1}),Object(a["createVNode"])(d,{class:"--offset-row-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.toDate=e),rules:n.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])]),_:1})]),_:1}),Object(a["createVNode"])(h),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(a["createVNode"])(j,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),tz,Object(a["createElementVNode"])("div",oz,[Object(a["createElementVNode"])("div",az,[Object(a["createVNode"])(j,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createVNode"])(f,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(a["createElementVNode"])("div",lz,[Object(a["createVNode"])(y,{selected:n.checkedItems,"onUpdate:selected":t[7]||(t[7]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[8]||(t[8]=e=>l.sortDefinition=e),headers:n.headers,items:null===(i=l.items)||void 0===i?void 0:i.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(a["createElementVNode"])("div",nz,[l.showPaginator?(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:0,current:l.currentPage,"onUpdate:current":t[9]||(t[9]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(V,{ref:"deleteDialog"},null,512)])}const iz={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC","jobTitle.jobTitleName":"DEFAULT","reviewerEmployee.lastName":"DEFAULT"};var cz={name:"ReviewSearch",components:{"include-employee-dropdown":bb,"review-status-dropdown":WF,"jobtitle-dropdown":tb,"employee-autocomplete":Fa,"delete-confirmation-dialog":Yt},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup(e){const{$t:t}=Ge(),{jsDateFormat:o,userDateFormat:l}=ie(),{locale:n}=He(),{$tEmpName:r}=za(),i=e=>we(xe(e),o,{locale:n}),c=[{id:1,label:t("performance.inactive")},{id:2,label:t("performance.activated")},{id:3,label:t("performance.in_progress")},{id:4,label:t("performance.completed")}],d=e=>e.map(e=>{var t,o;const a=e.employee,l=null===(t=e.reviewer)||void 0===t?void 0:t.employee;return{id:e.id,employee:r(a),reviewer:r(l),jobTitle:null===(o=e.jobTitle)||void 0===o?void 0:o.name,reviewPeriod:{reviewPeriodStart:i(e.reviewPeriodStart),reviewPeriodEnd:i(e.reviewPeriodEnd)},dueDate:i(e.dueDate),status:c.find(t=>t.id===e.overallStatus.statusId).label,statusId:e.overallStatus.statusId}}),s={employee:null,jobTitle:null,status:null,reviewer:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}},m=Object(a["ref"])({...s,...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate}}),{sortDefinition:u,sortField:b,sortOrder:p,onSort:h}=Xt({sortDefinition:iz}),j=Object(a["computed"])(()=>{var e,t,o,a,l;return{sortField:b.value,sortOrder:p.value,empNumber:null===(e=m.value.employee)||void 0===e?void 0:e.id,jobTitleId:null===(t=m.value.jobTitle)||void 0===t?void 0:t.id,statusId:null===(o=m.value.status)||void 0===o?void 0:o.id,reviewerEmpNumber:null===(a=m.value.reviewer)||void 0===a?void 0:a.id,fromDate:m.value.fromDate,toDate:m.value.toDate,includeEmployees:null===(l=m.value.includeEmployees)||void 0===l?void 0:l.param}}),O=new K(window.appGlobal.baseUrl,"api/v2/performance/manage/reviews"),{showPaginator:g,currentPage:v,total:f,pages:y,pageSize:C,response:V,isLoading:x,execQuery:w}=zt(O,{query:j,normalizer:d});return h(w),{http:O,showPaginator:g,currentPage:v,isLoading:x,total:f,pages:y,pageSize:C,execQuery:w,items:V,filters:m,sortDefinition:u,statusOpts:c,userDateFormat:l}},data(){return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:"14%"}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"14%"}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:"14%"},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:"14%"}},{name:"reviewer",title:this.$t("performance.reviewer"),sortField:"reviewerEmployee.lastName",style:{flex:"14%"}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:"14%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer,style:{flex:"16%"}}],checkedItems:[],rules:{employee:[Fo],fromDate:[so(this.userDateFormat),Do(()=>this.filters.toDate,this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[so(this.userDateFormat),yo(()=>this.filters.fromDate,this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionButtonCellRenderer(...[,,,e]){const t={},o=Object(a["inject"])("screenState");return t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},"lg"===o.screenType||"xl"===o.screenType?4===e.statusId?(t.view=CF,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):1===e.statusId?(t.edit=VF,t.edit.props.title=this.$t("general.edit"),t.edit.onClick=this.onClickEdit):(t.evaluate=xF,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):4===e.statusId?(t.view=wF,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):1===e.statusId?(t.edit=NF,t.edit.props.label=this.$t("general.edit"),t.edit.onClick=this.onClickEdit):(t.evaluate=_F,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:TF,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},onClickEdit(e){Y("/performance/saveReview/{id}",{id:e.id})},onClickAdd(){Y("/performance/saveReview")},onClickEvaluate(e){Y("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach(t=>{var o;e.push(null===(o=this.items)||void 0===o?void 0:o.data[t].id)}),this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems(e)})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e.id])})},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).then(()=>{this.isLoading=!1,this.resetDataTable()}))},async filterItems(){await this.execQuery()},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};o("ed09");const dz=y()(cz,[["render",rz],["__scopeId","data-v-25e8d295"]]);var sz=dz;const mz=e=>(Object(a["pushScopeId"])("data-v-43fa70d8"),e=e(),Object(a["popScopeId"])(),e),uz={class:"orangehrm-background-container"},bz={class:"orangehrm-card-container"},pz={class:"orangehrm-employee-tracker"},hz={class:"orangehrm-employee-tracker-image-section"},jz={class:"orangehrm-employee-tracker-image-wrapper"},Oz=["src"],gz={class:"orangehrm-employee-tracker-header-section"},vz={class:"orangehrm-employee-tracker-header"},fz={class:"orangehrm-employee-tracker-ratings"},yz={key:0,class:"orangehrm-employee-tracker-ratings-info"},Cz={key:1,class:"orangehrm-employee-tracker-ratings-info"},Vz=mz(()=>Object(a["createElementVNode"])("br",null,null,-1)),xz={class:"orangehrm-paper-container"},wz={class:"orangehrm-header-container"},Nz={ref:"scrollerRef",class:"orangehrm-container"},_z={key:0,class:"orangehrm-employee-tracker-no-records"};function kz(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("employee-tracker-log-card"),m=Object(a["resolveComponent"])("oxd-sheet"),u=Object(a["resolveComponent"])("oxd-loading-spinner"),b=Object(a["resolveComponent"])("add-tracker-log-modal"),p=Object(a["resolveComponent"])("edit-tracker-log-modal"),h=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",uz,[Object(a["createElementVNode"])("div",bz,[Object(a["createElementVNode"])("div",pz,[Object(a["createElementVNode"])("div",hz,[Object(a["createElementVNode"])("div",jz,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,Oz)])]),Object(a["createElementVNode"])("div",gz,[Object(a["createElementVNode"])("div",vz,[Object(a["createVNode"])(i,{tag:"h5",class:"orangehrm-employee-tracker-header-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.trackerName),1)]),_:1}),Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-employee-tracker-header-subtitle"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.employeeName),1)]),_:1})]),Object(a["createElementVNode"])("div",fz,[e.meta.positive>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yz,[Object(a["createVNode"])(c,{class:"orangehrm-employee-tracker-ratings-icon --positive",type:"svg",name:"thumbsup"}),Object(a["createVNode"])(i,{class:"orangehrm-employee-tracker-ratings-text --positive"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.meta.positive),1)]),_:1})])):Object(a["createCommentVNode"])("",!0),e.meta.negative>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cz,[Object(a["createVNode"])(c,{class:"orangehrm-employee-tracker-ratings-icon --negative",type:"svg",name:"thumbsdown"}),Object(a["createVNode"])(i,{class:"orangehrm-employee-tracker-ratings-text --negative"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.meta.negative),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)])])])]),Vz,Object(a["createElementVNode"])("div",xz,[Object(a["createElementVNode"])("div",wz,[Object(a["createVNode"])(i,{tag:"h5",class:"orangehrm-employee-tracker-list-header"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.tracker_logs")),1)]),_:1}),Object(a["createVNode"])(d,{label:e.$t("performance.add_log"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),Object(a["createElementVNode"])("div",Nz,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:t,gutters:!1,type:"gray-lighten-2",class:"orangehrm-scroll-card"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"tracker-log":e,onEdit:r.onClickEdit,onDelete:r.onClickDelete},null,8,["tracker-log","onEdit","onDelete"])]),_:2},1024))),128)),e.showNoRecordsFound?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_z,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.n_records_found",{count:0})),1)]),_:1})])):Object(a["createCommentVNode"])("",!0),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1,class:"orangehrm-container-loader"})):Object(a["createCommentVNode"])("",!0)],512)]),n.showAddTrackerModal?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,"tracker-id":o.trackerId,onClose:r.onAddTrackerModalClose},null,8,["tracker-id","onClose"])):Object(a["createCommentVNode"])("",!0),n.showEditTrackerModal?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:1,"tracker-id":o.trackerId,"tracker-log-id":n.editTrackerLogId,onClose:r.onEditTrackerModalClose},null,8,["tracker-id","tracker-log-id","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(h,{ref:"deleteDialog"},null,512)])}function Sz(e,{refName:t="scrollerRef",scrollDistance:o=100,debounceInterval:l=100}={}){let n=0,r=!1;const i=Object(a["ref"])(),c=Object(rl["a"])(async()=>e(),l),d=()=>{let e,t,a;i.value?({scrollHeight:e,clientHeight:t,scrollTop:a}=i.value.$el||i.value):(a=window.scrollY,e=document.body.scrollHeight,t=document.body.clientHeight),r=a>n,n=a;const l=a+t>=e-(o||0);r&&l&&c()};return Object(a["onMounted"])(async()=>{await Object(a["nextTick"])(),i.value?(i.value.$el||i.value).addEventListener("scroll",d):document.addEventListener("scroll",d)}),Object(a["onBeforeUnmount"])(()=>{i.value?(i.value.$el||i.value).removeEventListener("scroll",d):document.removeEventListener("scroll",d)}),{[t]:i}}const Dz={class:"orangehrm-modal-header"},$z={class:"orangehrm-add-tracker-log-ratings-container"};function Ez(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("tracker-log-rating-button"),u=Object(a["resolveComponent"])("required-text"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Dz,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.add_tracker_log")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=e=>n.trackerLog.log=e),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:n.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",$z,[Object(a["createVNode"])(m,{label:e.$t("performance.positive"),selected:n.rating,type:"positive",onClick:r.onClickPositive},null,8,["label","selected","onClick"]),Object(a["createVNode"])(m,{label:e.$t("performance.negative"),selected:!n.rating,type:"negative",onClick:r.onClickNegative},null,8,["label","selected","onClick"])])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.trackerLog.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:n.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{class:"orangehrm-form-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}function Tz(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{"display-type":"text",label:o.label,class:Object(a["normalizeClass"])(r.buttonClasses),onClick:t[0]||(t[0]=t=>e.$emit("click"))},{icon:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"svg",name:r.iconName,class:Object(a["normalizeClass"])(r.iconClasses)},null,8,["name","class"])]),_:1},8,["label","class"])}var Bz={name:"TrackerLogRatingButton",components:{"oxd-icon":Jo["a"]},props:{label:{type:String,required:!0},selected:{type:Boolean,required:!0},type:{type:String,required:!0,validator:function(e){return-1!==["positive","negative"].indexOf(e)}}},emits:["click"],computed:{iconName(){return"thumbs"+("positive"===this.type?"up":"down")},buttonClasses(){return{"orangehrm-tracker-rating-button":!0,"--deselected":!this.selected}},iconClasses(){return{"orangehrm-tracker-rating-icon":!0,["--"+this.type]:!0}}}};o("df74");const Iz=y()(Bz,[["render",Tz],["__scopeId","data-v-7bf3fc1e"]]);var Lz=Iz;const Uz={log:"",comment:""};var Az={name:"AddTrackerLogModal",components:{"oxd-dialog":ee["a"],"tracker-log-rating-button":Lz},props:{trackerId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/performance/trackers/${e.trackerId}/logs`);return{http:t}},data(){return{isLoading:!1,rating:!0,trackerLog:{...Uz},rules:{log:[io,co(150)],comment:[io,co(3e3)]}}},methods:{onClickPositive(){this.rating=!0},onClickNegative(){this.rating=!1},onSave(){this.isLoading=!0,this.http.create({log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then(()=>{this.$toast.saveSuccess(),this.onCancel()})},onCancel(){this.$emit("close")}}};o("b5c9");const Pz=y()(Az,[["render",Ez],["__scopeId","data-v-6c86161f"]]);var qz=Pz;const Mz={class:"orangehrm-modal-header"},Fz={class:"orangehrm-add-tracker-log-ratings-container"};function zz(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("tracker-log-rating-button"),u=Object(a["resolveComponent"])("required-text"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Mz,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.edit_tracker_log")),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=e=>n.trackerLog.log=e),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:n.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Fz,[Object(a["createVNode"])(m,{label:e.$t("performance.positive"),selected:n.rating,type:"positive",onClick:r.onClickPositive},null,8,["label","selected","onClick"]),Object(a["createVNode"])(m,{label:e.$t("performance.negative"),selected:!n.rating,type:"negative",onClick:r.onClickNegative},null,8,["label","selected","onClick"])])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.trackerLog.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:n.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(p,{class:"orangehrm-form-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}const Rz={log:"",comment:""};var Gz={name:"EditTrackerLogModal",components:{"oxd-dialog":ee["a"],"tracker-log-rating-button":Lz},props:{trackerId:{type:Number,required:!0},trackerLogId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/performance/trackers/${e.trackerId}/logs`);return{http:t}},data(){return{isLoading:!1,rating:!0,trackerLog:{...Rz},rules:{log:[io,co(150)],comment:[io,co(3e3)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.trackerLogId).then(e=>{const{data:t}=e.data;this.trackerLog.log=t.log,this.trackerLog.comment=t.comment,this.rating="1"===t.achievement}).finally(()=>{this.isLoading=!1})},methods:{onClickPositive(){this.rating=!0},onClickNegative(){this.rating=!1},onSave(){this.isLoading=!0,this.http.update(this.trackerLogId,{log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then(()=>{this.$toast.updateSuccess(),this.onCancel()})},onCancel(){this.$emit("close")}}};o("bf3d");const Qz=y()(Gz,[["render",zz],["__scopeId","data-v-cf04cf4c"]]);var Hz=Qz;const Wz={class:"orangehrm-employee-tracker-log"},Jz={class:"orangehrm-employee-tracker-log-image-section"},Yz={class:"orangehrm-employee-tracker-log-image-wrapper"},Xz=["src"],Kz={class:"orangehrm-employee-tracker-log-content-section"},Zz={class:"orangehrm-employee-tracker-log-reviewer-name"},eR={class:"orangehrm-employee-tracker-log-content-container"},tR={class:"orangehrm-employee-tracker-log-header"},oR={class:"orangehrm-employee-tracker-log-title"},aR={class:"orangehrm-employee-tracker-log-body"},lR={class:"orangehrm-employee-tracker-log-reviewer-date"},nR={class:"orangehrm-employee-tracker-log-reviewer-date-container"},rR={key:0,class:"orangehrm-employee-tracker-log-reviewer-date-container"};function iR(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon"),d=Object(a["resolveComponent"])("oxd-dropdown");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Wz,[Object(a["createElementVNode"])("div",Jz,[Object(a["createElementVNode"])("div",Yz,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:o.trackerLog.reviewerPictureSrc},null,8,Xz)])]),Object(a["createElementVNode"])("div",Kz,[Object(a["createElementVNode"])("div",Zz,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.trackerLog.reviewerName),1)]),_:1})]),Object(a["createElementVNode"])("div",eR,[Object(a["createElementVNode"])("div",tR,[Object(a["createElementVNode"])("div",oR,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-employee-tracker-log-title-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.trackerLog.log),1)]),_:1}),Object(a["createVNode"])(c,{type:"svg",class:Object(a["normalizeClass"])({"orangehrm-employee-tracker-log-title-icon":!0,"--positive":"1"===o.trackerLog.achievement,"--negative":"2"===o.trackerLog.achievement}),name:"thumbs"+("1"===o.trackerLog.achievement?"up":"down")},null,8,["class","name"])]),o.trackerLog.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,options:n.dropdownOptions,onClick:t[0]||(t[0]=e=>r.onTrackerDropdownAction(e,o.trackerLog))},null,8,["options"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",aR,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-employee-tracker-log-body-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.trackerLog.comment),1)]),_:1})])]),Object(a["createElementVNode"])("div",lR,[Object(a["createElementVNode"])("div",nR,[Object(a["createVNode"])(c,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"calendar-plus",title:e.$t("performance.added_on")},null,8,["title"]),Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.trackerLog.addedDate),1)]),_:1})]),o.trackerLog.modifiedDate?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rR,[Object(a["createVNode"])(c,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"pencil",title:e.$t("performance.modified_on")},null,8,["title"]),Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.trackerLog.modifiedDate),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)])])])}var cR=o("ad9d"),dR={name:"EmployeeTrackerLogCard",components:{"oxd-icon":Jo["a"],"oxd-dropdown":cR["a"]},props:{trackerLog:{type:Object,required:!0}},emits:["edit","delete"],data(){return{dropdownOptions:[{label:this.$t("general.edit"),context:"edit"},{label:this.$t("performance.delete"),context:"delete"}]}},methods:{onTrackerDropdownAction(e,t){switch(e.context){case"edit":this.$emit("edit",t.id);break;case"delete":this.$emit("delete",t.id);break}}}};o("6e9c");const sR=y()(dR,[["render",iR],["__scopeId","data-v-65916948"]]);var mR=sR,uR={name:"ViewEmployeeTrackerLogs",components:{"oxd-icon":Jo["a"],"oxd-sheet":kl["a"],"oxd-loading-spinner":Z["a"],"add-tracker-log-modal":qz,"edit-tracker-log-modal":Hz,"delete-confirmation":Yt,"employee-tracker-log-card":mR},props:{trackerId:{type:Number,required:!0},empNumber:{type:Number,required:!0}},setup(e){const t=new K(window.appGlobal.baseUrl,`api/v2/performance/trackers/${e.trackerId}/logs`),o=10,l=Object(a["reactive"])({total:0,items:[],meta:{positive:0,negative:0},infinite:!1,isLoading:!1,showNoRecordsFound:!1}),{$tEmpName:n}=za(),{jsDateFormat:r}=ie(),{locale:i}=He(),c=()=>{l.showNoRecordsFound=!1,l.isLoading=!0,t.getAll({limit:o,offset:0===l.items.length?0:o}).then(e=>{const{data:t,meta:o}=e.data;l.total=(null===o||void 0===o?void 0:o.total)||0,Array.isArray(t)&&(l.items=[...l.items,...t.map(e=>({...e,reviewerPictureSrc:`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.reviewer.empNumber}`,reviewerName:n(e.reviewer),addedDate:we(xe(e.addedDate),r,{locale:i}),modifiedDate:we(xe(e.modifiedDate),r,{locale:i})}))],l.meta={...l.meta,...o})}).finally(()=>{l.showNoRecordsFound=0===l.total,l.isLoading=!1})},{scrollerRef:d}=Sz(()=>{l.items.length>=l.total||c()}),s=Object(a["computed"])(()=>`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.empNumber}`);return{http:t,scrollerRef:d,fetchData:c,...Object(a["toRefs"])(l),imgSrc:s}},data(){return{trackerName:"",employeeName:"",showAddTrackerModal:!1,showEditTrackerModal:!1,editTrackerLogId:null}},beforeMount(){this.http.request({method:"GET",url:"api/v2/performance/employees/trackers/"+this.trackerId}).then(e=>{const{data:t}=e.data;this.trackerName=t.trackerName,this.employeeName=`${t.employee.firstName} ${t.employee.lastName} ${t.employee.terminationId?" "+this.$t("general.past_employee"):""}`}).then(()=>{this.fetchData()})},methods:{onClickAdd(){this.showAddTrackerModal=!0},onAddTrackerModalClose(){this.showAddTrackerModal=!1,this.resetItems()},onEditTrackerModalClose(){this.showEditTrackerModal=!1,this.resetItems()},onClickEdit(e){this.editTrackerLogId=e,this.showEditTrackerModal=!0},onClickDelete(e){this.$refs.deleteDialog.showDialog().then(t=>{"ok"===t&&this.deleteItems([e])})},deleteItems(e){e instanceof Array&&(this.items=[],this.isLoading=!0,this.http.deleteAll({ids:e}).then(()=>this.$toast.deleteSuccess()).finally(()=>{this.fetchData()}))},resetItems(){this.items=[],this.fetchData()}}};o("1acb");const bR=y()(uR,[["render",kz],["__scopeId","data-v-43fa70d8"]]);var pR=bR;const hR=e=>(Object(a["pushScopeId"])("data-v-3f2b21cf"),e=e(),Object(a["popScopeId"])(),e),jR={class:"orangehrm-background-container"},OR={class:"orangehrm-card-container"},gR=hR(()=>Object(a["createElementVNode"])("br",null,null,-1)),vR=hR(()=>Object(a["createElementVNode"])("br",null,null,-1)),fR=hR(()=>Object(a["createElementVNode"])("br",null,null,-1)),yR={class:"orangehrm-performance-review-actions"};function CR(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("review-confirm-modal"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("review-summary"),s=Object(a["resolveComponent"])("evaluation-form"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("final-evaluation"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jR,[Object(a["createVNode"])(i,{ref:"confirmDialog"},null,512),Object(a["createElementVNode"])("div",OR,[Object(a["createVNode"])(c,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.performance_review")),1)]),_:1})]),gR,Object(a["createVNode"])(d,{loading:n.isLoading,status:o.status,"due-date":o.dueDate,employee:n.employee.details,"job-title":n.employee.jobTitle,"review-period-end":o.reviewPeriodEnd,"review-period-start":o.reviewPeriodStart,"final-rating":n.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),vR,Object(a["createVNode"])(h,{ref:"formRef",loading:n.isLoading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.employeeReview,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:r.hasSupervisorUpdateAction,collapsed:n.employee.status<3,collapsible:3===n.employee.status,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","editable","collapsed","collapsible","employee","job-title","status","title"]),fR,Object(a["createVNode"])(s,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[6]||(t[6]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:r.hasSaveAction||r.hasCompleteAction,collapsible:!0,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:n.isFinalizeRequired,"final-rating":n.finalRating,"onUpdate:final-rating":t[1]||(t[1]=e=>n.finalRating=e),"final-comment":n.finalComment,"onUpdate:final-comment":t[2]||(t[2]=e=>n.finalComment=e),"completed-date":n.completedDate,"onUpdate:completed-date":t[3]||(t[3]=e=>n.completedDate=e),status:o.status,"is-required":n.isFinalizeRequired},null,8,["final-rating","final-comment","completed-date","status","is-required"])),Object(a["withDirectives"])(Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createElementVNode"])("div",yR,[r.hasCancelAction?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickCancel},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),r.hasSaveAction?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[4]||(t[4]=e=>r.onSubmit(!1))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasCompleteAction?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[5]||(t[5]=e=>r.onSubmit(!0))},null,8,["label"])):Object(a["createCommentVNode"])("",!0)])]),_:1},512),[[a["vShow"],r.hasActions]])]),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])]),_:1},8,["loading"])])}const VR={class:"orangehrm-card-container"},xR={class:"orangehrm-performance-review-summary"},wR={class:"orangehrm-performance-review-owner"},NR=["src"],_R={class:"orangehrm-performance-review-owner-employee-section"},kR={class:"orangehrm-performance-review-owner-employee"},SR={class:"orangehrm-performance-review-rating"};function DR(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",VR,[Object(a["createElementVNode"])("div",xR,[Object(a["createVNode"])(i,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.review_summary")),1)]),_:1}),Object(a["createVNode"])(m,{loading:o.loading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"orangehrm-performance-review-details"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",wR,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,NR),Object(a["createElementVNode"])("div",_R,[Object(a["createElementVNode"])("div",kR,[Object(a["createVNode"])(i,{tag:"h5",class:"orangehrm-performance-review-owner-employee-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeName),1)]),_:1}),Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-performance-review-owner-employee-job"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.jobTitle),1)]),_:1})])])])]),_:1}),Object(a["withDirectives"])(Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",SR,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.final_rating")),1)]),_:1}),Object(a["createVNode"])(i,{tag:"h4",class:"orangehrm-performance-review-rating-number"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.finalRating),1)]),_:1})])]),_:1},512),[[a["vShow"],4===o.status]])]),_:1})]),_:1}),Object(a["createVNode"])(s,{class:"orangehrm-performance-review-details"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-performance-review-column"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.review_status")),1)]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-performance-review-bold"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.reviewStatus),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-performance-review-column"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.review_period")),1)]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-performance-review-bold"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.reviewPeriod),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-performance-review-column"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.review_due_date")),1)]),_:1}),Object(a["createVNode"])(i,{class:"orangehrm-performance-review-bold"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.reviewDueDate),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])])])}const $R=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var ER={name:"ReviewSummary",props:{employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},loading:{type:Boolean,required:!0},finalRating:{type:Number,default:0}},setup(e){const{$t:t}=Ge(),{locale:o}=He(),{jsDateFormat:l}=ie(),{$tEmpName:n}=za(),r=[{id:1,label:t("performance.inactive")},{id:2,label:t("performance.activated")},{id:3,label:t("performance.in_progress")},{id:4,label:t("performance.completed")}],i=e=>we(xe(e),l,{locale:o}),c=Object(a["computed"])(()=>e.employee.empNumber?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employee.empNumber}`:$R),d=r.find(t=>t.id===e.status).label,s=`${i(e.reviewPeriodStart)} - ${i(e.reviewPeriodEnd)}`,m=i(e.dueDate),u=Object(a["computed"])(()=>n(e.employee,{includeMiddle:!0,excludePastEmpTag:!1}));return{imgSrc:c,reviewStatus:d,reviewPeriod:s,reviewDueDate:m,employeeName:u}}};o("98a9");const TR=y()(ER,[["render",DR],["__scopeId","data-v-9eeafcc4"]]);var BR=TR;const IR=e=>(Object(a["pushScopeId"])("data-v-ade3d550"),e=e(),Object(a["popScopeId"])(),e),LR=IR(()=>Object(a["createElementVNode"])("br",null,null,-1)),UR={key:1,class:"orangehrm-performance-review-read"},AR={key:1,class:"orangehrm-performance-review-read"},PR={key:1,class:"orangehrm-performance-review-read"};function qR(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("date-input"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-grid");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(i,{class:"orangehrm-performance-review-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.review_finalization")),1)]),_:1}),LR,Object(a["createVNode"])(m,{cols:4,class:"orangehrm-performance-review-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.date_of_completion")),1)]),_:1}),l.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,"model-value":o.completedDate,rules:n.rules.completedDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:completedDate",t))},null,8,["model-value","rules"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",UR,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.formattedCompletedDate),1)]),_:1})]))]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-performance-review-grid-rating"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.final_rating")),1)]),_:1}),l.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,"model-value":o.finalRating,rules:n.rules.finalRating,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:finalRating",t))},null,8,["model-value","rules"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AR,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.finalRating),1)]),_:1})]))]),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.final_comments")),1)]),_:1}),l.editable?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,rows:"1",type:"textarea","model-value":o.finalComment,rules:n.rules.finalComment,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:finalComment",t))},null,8,["model-value","rules"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",PR,[Object(a["createVNode"])(i,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.finalComment),1)]),_:1})]))]),_:1})]),_:1})])}var MR={name:"FinalEvaluation",props:{completedDate:{type:String,default:null,required:!1},finalRating:{type:Number,default:null,required:!1},finalComment:{type:String,default:null,required:!1},status:{type:Number,required:!0},isRequired:{type:Boolean,required:!0}},emits:["update:finalRating","update:finalComment","update:completedDate"],setup(e){const{locale:t}=He(),{jsDateFormat:o,userDateFormat:l}=ie(),n=Object(a["computed"])(()=>4!==e.status),r=Object(a["computed"])(()=>we(xe(e.completedDate),o,{locale:t}));return{editable:n,userDateFormat:l,formattedCompletedDate:r}},data(){return{rules:{completedDate:[so(this.userDateFormat),...this.isRequired?[io]:[]],finalRating:[Po(0,this.$t("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:0})),qo(100,this.$t("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:100})),...this.isRequired?[io]:[]],finalComment:[...this.isRequired?[io]:[]]}}}};o("639e");const FR=y()(MR,[["render",qR],["__scopeId","data-v-ade3d550"]]);var zR=FR;const RR={class:"orangehrm-evaluation orangehrm-card-container"},GR={class:"orangehrm-evaluation-header"},QR=["src"],HR={class:"orangehrm-evaluation-title-name"};function WR(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-grid"),s=Object(a["resolveComponent"])("oxd-icon-button"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",RR,[Object(a["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.title),1)]),_:1}),Object(a["createElementVNode"])("div",GR,[Object(a["createVNode"])(d,{cols:3,class:"orangehrm-evaluation-header-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-evaluation-title"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("img",{class:"orangehrm-evaluation-title-profile-image",alt:"profile picture",src:l.profileImgSrc},null,8,QR),Object(a["createElementVNode"])("div",HR,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeName),1)]),_:1}),Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.jobTitle),1)]),_:1})])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.status")),1)]),_:1}),Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.evaluationLabel),1)]),_:1})]),_:1})]),_:1}),o.collapsible?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,"with-container":!1,name:l.isCollapsed?"chevron-down":"chevron-up",onClick:l.toggleForm},null,8,["name","onClick"])):Object(a["createCommentVNode"])("",!0)]),l.isCollapsed?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(m),Object(a["createVNode"])(d,{cols:4,class:"orangehrm-evaluation-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.kpis")),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.rating")),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-header"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.comments")),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-spacer-md"}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.kpis,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:t.id},[Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.kpi")),1)]),_:1}),Object(a["createVNode"])(i,{title:t.title,tag:"p",class:"orangehrm-evaluation-grid-kpi-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.title),1)]),_:2},1032,["title"]),Object(a["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.min"))+": "+Object(a["toDisplayString"])(t.minRating),1)]),_:2},1024),Object(a["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.max"))+": "+Object(a["toDisplayString"])(t.maxRating),1)]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.rating")),1)]),_:1}),Object(a["createVNode"])(u,{type:"input",disabled:!o.editable,rules:o.rules[n],"model-value":o.modelValue.kpis[n].rating,"onUpdate:modelValue":e=>l.onUpdateRating(e,n)},null,8,["disabled","rules","model-value","onUpdate:modelValue"])]),_:2},1024),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.comment")),1)]),_:1}),Object(a["createVNode"])(u,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!o.editable,rules:l.commentValidators,"model-value":o.modelValue.kpis[n].comment,"onUpdate:modelValue":e=>l.onUpdateComment(e,n)},null,8,["disabled","rules","model-value","onUpdate:modelValue"])]),_:2},1024),Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-spacer-md"})],64))),128))]),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(d,{cols:3,class:"orangehrm-evaluation-grid"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{class:"orangehrm-evaluation-grid-general"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-evaluation-grid-general-label"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.general_comment")),1)]),_:1})]),_:1}),Object(a["createVNode"])(c,{class:"--span-column-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!o.editable,rules:l.commentValidators,"model-value":o.modelValue.generalComment,"onUpdate:modelValue":t[0]||(t[0]=e=>l.onUpdateGeneralComment(e))},null,8,["disabled","rules","model-value"])]),_:1})]),_:1}),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)],64))])}o("0541");const JR=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var YR={components:{"oxd-divider":c["a"]},props:{kpis:{type:Array,required:!0},title:{type:String,required:!0},editable:{type:Boolean,required:!0},collapsible:{type:Boolean,required:!0},employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},rules:{type:Array,required:!0},modelValue:{type:Object,required:!0,validator:e=>Object.hasOwn(e,"kpis")&&Object.hasOwn(e,"generalComment")},collapsed:{type:Boolean,default:!1},status:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,t){const{$t:o}=Ge(),{$tEmpName:l}=za(),n=Object(a["ref"])(e.collapsed),r=[co(2e3)],i=Object(a["computed"])(()=>e.employee.empNumber?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employee.empNumber}`:JR),c=Object(a["computed"])(()=>l(e.employee)),d=()=>{n.value=!n.value},s=(o,a)=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis.map((e,t)=>t===a?{...e,rating:o}:e),generalComment:e.modelValue.generalComment})},m=(o,a)=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis.map((e,t)=>t===a?{...e,comment:o}:e),generalComment:e.modelValue.generalComment})},u=o=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis,generalComment:o})},b=[{id:1,label:o("performance.evaluation_activated")},{id:2,label:o("performance.evaluation_in_progress")},{id:3,label:o("performance.evaluation_completed")}],p=Object(a["computed"])(()=>b.find(t=>t.id===e.status).label);return{toggleForm:d,isCollapsed:n,employeeName:c,profileImgSrc:i,onUpdateRating:s,onUpdateComment:m,onUpdateGeneralComment:u,commentValidators:r,evaluationLabel:p}}};o("c4bb");const XR=y()(YR,[["render",WR],["__scopeId","data-v-e26e3ed8"]]);var KR=XR;function ZR(e){const{$t:t}=Ge(),o=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/kpis`}),a=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/supervisor`}),l=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/employee`}),n=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/final`}),r=(t,o)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/final`,data:{...o,finalComment:""===o.finalComment?null:o.finalComment}}),i=(t,o,a)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/employee`,data:{complete:o,ratings:a.kpis,generalComment:a.generalComment}}),c=(t,o)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/supervisor`,data:{ratings:o.kpis,generalComment:o.generalComment}}),d=e=>e.map(e=>[Po(e.minRating,t("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:e.minRating})),qo(e.maxRating,t("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:e.maxRating}))]),s=e=>({kpis:e.map(e=>({kpiId:e.id,rating:null,comment:null})),generalComment:null}),m=(e,t,o)=>({kpis:o.map(({kpiId:t})=>{const o=e.find(e=>e.kpi.id===t);return{kpiId:t,rating:null===o||void 0===o?void 0:o.rating,comment:null===o||void 0===o?void 0:o.comment}}),generalComment:t}),u=e=>({details:{empNumber:e.employee.empNumber,firstName:e.employee.firstName,lastName:e.employee.lastName,middleName:e.employee.middleName,terminationId:e.employee.terminationId},jobTitle:e.employee.jobTitle.name,status:e.status}),b=e=>new Map(null===e||void 0===e?void 0:e.map(e=>[e.action,e.name]));return{getAllKpis:o,getEmployeeReview:l,getSupervisorReview:a,getFinalReview:n,generateRules:d,generateModel:s,generateReviewerData:u,generateAllowedActions:b,generateEvaluationFormData:m,finalizeReview:r,saveEmployeeReview:i,saveSupervisorReview:c}}const eG={class:"orangehrm-modal-header"},tG={class:"orangehrm-text-center-align"},oG={class:"orangehrm-modal-footer"};function aG(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#app"},[n.show?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",eG,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.confirm_review_submission")),1)]),_:1})]),Object(a["createElementVNode"])("div",tG,[Object(a["createVNode"])(i,{type:"subtitle-2"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.confirm_review_submission_message")),1)]),_:1})]),Object(a["createElementVNode"])("div",oG,[Object(a["createVNode"])(c,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(c,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:r.onConfirm},null,8,["label","onClick"])])]),_:1},8,["onUpdate:show"])):Object(a["createCommentVNode"])("",!0)])}var lG={name:"ReviewConfirmModal",components:{"oxd-dialog":ee["a"]},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise((e,t)=>{this.resolve=e,this.reject=t,this.show=!0})},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};o("2f6a");const nG=y()(lG,[["render",aG],["__scopeId","data-v-3ac14d53"]]);var rG=nG;const iG={details:{empNumber:null,firstName:"",lastName:"",middleName:"",terminationId:null},jobTitle:"",status:1,actions:new Map};var cG={components:{"review-summary":BR,"final-evaluation":zR,"evaluation-form":KR,"review-confirm-modal":rG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},isReviewer:{type:Boolean,default:!1}},setup(){const{formRef:e,invalid:t,validate:o}=Xs(),a=new K(window.appGlobal.baseUrl,""),{getAllKpis:l,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,generateRules:c,generateModel:d,generateReviewerData:s,generateAllowedActions:m,generateEvaluationFormData:u,finalizeReview:b,saveEmployeeReview:p,saveSupervisorReview:h}=ZR(a);return{http:a,invalid:t,formRef:e,validate:o,getAllKpis:l,generateRules:c,generateModel:d,generateReviewerData:s,generateAllowedActions:m,generateEvaluationFormData:u,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,finalizeReview:b,saveEmployeeReview:p,saveSupervisorReview:h}},data(){return{kpis:[],rules:[],employee:{...iG},employeeReview:{},supervisor:{...iG},supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null,isFinalizeRequired:!1}},computed:{hasSupervisorUpdateAction(){return this.employee.actions.has("supervisorUpdate")},hasSaveAction(){return this.supervisor.actions.has("save")},hasCompleteAction(){return this.supervisor.actions.has("complete")},hasCancelAction(){return 4!==this.status},hasActions(){return this.hasSupervisorUpdateAction||this.hasSaveAction||this.hasCompleteAction||this.hasCancelAction}},beforeMount(){this.isLoading=!0,this.getAllKpis(this.reviewId).then(e=>{const{data:t}=e.data;return this.kpis=[...t],this.rules=this.generateRules(t),this.employeeReview=this.generateModel(t),this.supervisorReview=this.generateModel(t),this.getEmployeeReview(this.reviewId)}).then(e=>{const{data:t}=e.data,{meta:o}=e.data;return this.employee=this.generateReviewerData(o.reviewer),this.employee.actions=this.generateAllowedActions(o.allowedActions),this.employeeReview=this.generateEvaluationFormData(t,o.generalComment,this.employeeReview.kpis),this.getSupervisorReview(this.reviewId)}).then(e=>{const{data:t}=e.data,{meta:o}=e.data;return this.supervisor=this.generateReviewerData(o.reviewer),this.supervisor.actions=this.generateAllowedActions(o.allowedActions),this.supervisorReview=this.generateEvaluationFormData(t,o.generalComment,this.supervisorReview.kpis),this.getFinalReview(this.reviewId)}).then(e=>{const{data:t}=e.data;this.finalRating=t.finalRating,this.finalComment=t.finalComment,this.completedDate=t.completedDate}).finally(()=>{this.isLoading=!1})},methods:{onSubmit(e=!1){this.isFinalizeRequired=e,this.$nextTick().then(()=>this.validate()).then(()=>{!0!==this.invalid&&(e?this.$refs.confirmDialog.showDialog().then(e=>{"ok"===e&&this.submitReview(!0)}):this.submitReview(!1))})},submitReview(e=!1){this.isLoading=!0,this.saveSupervisorReview(this.reviewId,this.supervisorReview).then(()=>{if(this.hasSupervisorUpdateAction)return this.saveEmployeeReview(this.reviewId,!0,this.employeeReview)}).then(()=>this.finalizeReview(this.reviewId,{complete:e,finalRating:this.finalRating,finalComment:this.finalComment,completedDate:this.completedDate})).then(()=>this.$toast.saveSuccess()).finally(()=>{X()})},onClickCancel(){Y(this.isReviewer?"/performance/searchEvaluatePerformanceReview":"/performance/searchPerformanceReview")}}};o("e69d");const dG=y()(cG,[["render",CR],["__scopeId","data-v-3f2b21cf"]]);var sG=dG;const mG=e=>(Object(a["pushScopeId"])("data-v-4cfb0e3c"),e=e(),Object(a["popScopeId"])(),e),uG={class:"orangehrm-background-container"},bG={class:"orangehrm-card-container"},pG=mG(()=>Object(a["createElementVNode"])("br",null,null,-1)),hG=mG(()=>Object(a["createElementVNode"])("br",null,null,-1)),jG={key:0},OG=mG(()=>Object(a["createElementVNode"])("br",null,null,-1)),gG={class:"orangehrm-performance-review-actions"},vG={key:1},fG=mG(()=>Object(a["createElementVNode"])("br",null,null,-1));function yG(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("review-confirm-modal"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("review-summary"),s=Object(a["resolveComponent"])("evaluation-form"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("final-evaluation"),h=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",uG,[Object(a["createVNode"])(i,{ref:"confirmDialog"},null,512),Object(a["createElementVNode"])("div",bG,[Object(a["createVNode"])(c,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.performance_review")),1)]),_:1})]),pG,Object(a["createVNode"])(d,{loading:n.isLoading,status:o.status,"due-date":o.dueDate,employee:n.employee.details,"job-title":n.employee.jobTitle,"review-period-end":o.reviewPeriodEnd,"review-period-start":o.reviewPeriodStart,"final-rating":n.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),hG,Object(a["createVNode"])(h,{ref:"formRef",loading:n.isLoading},{default:Object(a["withCtx"])(()=>[o.status<4?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jG,[Object(a["createVNode"])(s,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[0]||(t[0]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsible:!1,collapsed:!0,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),OG,Object(a["createVNode"])(s,{modelValue:n.employeeReview,"onUpdate:modelValue":t[3]||(t[3]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:n.employee.status<3,collapsed:!1,collapsible:!0,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createElementVNode"])("div",gG,[r.hasCancelAction?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickCancel},null,8,["label","onClick"])):Object(a["createCommentVNode"])("",!0),r.hasSaveAction?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[1]||(t[1]=e=>r.onSubmit(!1))},null,8,["label"])):Object(a["createCommentVNode"])("",!0),r.hasCompleteAction?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[2]||(t[2]=e=>r.onSubmit(!0))},null,8,["label"])):Object(a["createCommentVNode"])("",!0)])]),_:1},512),[[a["vShow"],r.hasActions]])]),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])])):Object(a["createCommentVNode"])("",!0),4===o.status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vG,[Object(a["createVNode"])(s,{modelValue:n.employeeReview,"onUpdate:modelValue":t[4]||(t[4]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsed:!1,collapsible:!0,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),fG,Object(a["createVNode"])(s,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[8]||(t[8]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsible:!0,collapsed:!1,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m),Object(a["createVNode"])(p,{"final-rating":n.finalRating,"onUpdate:final-rating":t[5]||(t[5]=e=>n.finalRating=e),"final-comment":n.finalComment,"onUpdate:final-comment":t[6]||(t[6]=e=>n.finalComment=e),"completed-date":n.completedDate,"onUpdate:completed-date":t[7]||(t[7]=e=>n.completedDate=e),status:o.status,"is-required":!1},null,8,["final-rating","final-comment","completed-date","status"])]),_:1},8,["modelValue","kpis","rules","employee","job-title","status","title"])])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading"])])}const CG={details:{empNumber:null,firstName:"",lastName:"",terminationId:null},jobTitle:"",status:1,actions:new Map};var VG={name:"SelfEvaluation",components:{"review-summary":BR,"final-evaluation":zR,"evaluation-form":KR,"review-confirm-modal":rG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0}},setup(){const{formRef:e,invalid:t,validate:o}=Xs(),a=new K(window.appGlobal.baseUrl,""),{getAllKpis:l,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,generateRules:c,generateModel:d,generateReviewerData:s,generateAllowedActions:m,generateEvaluationFormData:u,finalizeReview:b,saveEmployeeReview:p}=ZR(a);return{http:a,invalid:t,formRef:e,validate:o,getAllKpis:l,generateRules:c,generateModel:d,generateReviewerData:s,generateAllowedActions:m,generateEvaluationFormData:u,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,finalizeReview:b,saveEmployeeReview:p}},data(){return{kpis:[],rules:[],employee:{...CG},employeeReview:{},supervisor:{...CG},supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null}},computed:{hasSaveAction(){return this.employee.actions.has("save")},hasCompleteAction(){return this.employee.actions.has("complete")},hasCancelAction(){var e;return!(4===this.status||3===(null===(e=this.employee)||void 0===e?void 0:e.status))},hasActions(){return this.hasSaveAction||this.hasCancelAction||this.hasCompleteAction}},beforeMount(){this.isLoading=!0,this.getAllKpis(this.reviewId).then(e=>{const{data:t}=e.data;return this.kpis=[...t],this.rules=this.generateRules(t),this.employeeReview=this.generateModel(t),this.supervisorReview=this.generateModel(t),this.getEmployeeReview(this.reviewId)}).then(e=>{const{data:t}=e.data,{meta:o}=e.data;return this.employee=this.generateReviewerData(o.reviewer),this.employee.actions=this.generateAllowedActions(o.allowedActions),this.employeeReview=this.generateEvaluationFormData(t,o.generalComment,this.employeeReview.kpis),this.getSupervisorReview(this.reviewId)}).then(e=>{const{data:t}=e.data,{meta:o}=e.data;return this.supervisor=this.generateReviewerData(o.reviewer),this.supervisor.actions=this.generateAllowedActions(o.allowedActions),this.supervisorReview=this.generateEvaluationFormData(t,o.generalComment,this.supervisorReview.kpis),4===this.status?this.getFinalReview(this.reviewId):{}}).then(e=>{if(0!==Object.keys(e).length){const{data:t}=e.data;this.finalRating=t.finalRating,this.finalComment=t.finalComment,this.completedDate=t.completedDate}}).finally(()=>{this.isLoading=!1})},methods:{onSubmit(e=!1){this.$nextTick().then(()=>this.validate()).then(async()=>{!0!==this.invalid&&(e?this.$refs.confirmDialog.showDialog().then(e=>{"ok"===e&&this.submitReview(!0)}):this.submitReview(!1))})},submitReview(e=!1){this.isLoading=!0,this.saveEmployeeReview(this.reviewId,e,this.employeeReview).then(()=>this.$toast.saveSuccess()).finally(()=>{X()})},onClickCancel(){Y("/performance/myPerformanceReview")}}};o("047c");const xG=y()(VG,[["render",yG],["__scopeId","data-v-4cfb0e3c"]]);var wG=xG,NG={"my-tracker":Dq,"employee-trackers":Mq,"kpi-search":vM,"kpi-save":iM,"kpi-edit":Xq,"add-review":$M,"edit-review":PM,"performance-tracker-list":XM,"performance-tracker-save":cF,"performance-tracker-edit":hF,"my-reviews":UF,"review-list":KF,"review-search":sz,"employee-tracker-logs":pR,"admin-evaluation":sG,"self-evaluation":wG};const _G=e=>(Object(a["pushScopeId"])("data-v-2cff612c"),e=e(),Object(a["popScopeId"])(),e),kG={class:"orangehrm-background-container"},SG=_G(()=>Object(a["createElementVNode"])("br",null,null,-1)),DG={class:"orangehrm-corporate-directory"},$G={class:"orangehrm-paper-container"},EG={ref:"scrollerRef",class:"orangehrm-container"},TG=_G(()=>Object(a["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1)),BG={key:0,class:"orangehrm-corporate-directory-sidebar"};function IG(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-autocomplete"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-button"),p=Object(a["resolveComponent"])("submit-button"),h=Object(a["resolveComponent"])("oxd-form-actions"),j=Object(a["resolveComponent"])("oxd-form"),O=Object(a["resolveComponent"])("oxd-table-filter"),g=Object(a["resolveComponent"])("table-header"),v=Object(a["resolveComponent"])("employee-details"),f=Object(a["resolveComponent"])("summary-card"),y=Object(a["resolveComponent"])("oxd-loading-spinner"),C=Object(a["resolveComponent"])("summary-card-details");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",kG,[Object(a["createVNode"])(O,{"filter-title":e.$t("general.directory")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,{onSubmitValid:r.onSearch,onReset:r.onReset},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:3},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:e.filters.employeeNumber,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.employeeNumber=t),rules:l.rules.employee,"api-path":"api/v2/directory/employees"},null,8,["modelValue","rules"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.filters.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.jobTitleId=t),type:"select",label:e.$t("general.job_title"),options:o.jobTitles},null,8,["modelValue","label","options"])]),_:1}),Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.filters.locationId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.locationId=t),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(u),Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{label:e.$t("general.reset"),"display-type":"ghost",type:"reset"},null,8,["label"]),Object(a["createVNode"])(p,{label:e.$t("general.search")},null,8,["label"])]),_:1})]),_:1},8,["onSubmitValid","onReset"])]),_:1},8,["filter-title"]),SG,Object(a["createElementVNode"])("div",DG,[Object(a["createElementVNode"])("div",$G,[Object(a["createVNode"])(g,{selected:0,total:e.total,loading:!1,"show-divider":!1},null,8,["total"]),Object(a["createElementVNode"])("div",EG,[Object(a["createVNode"])(s,{cols:r.colSize},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.employees,(t,o)=>(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:t},{default:Object(a["withCtx"])(()=>[r.isMobile&&e.currentIndex===o?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:e=>r.showEmployeeDetails(o)},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{"employee-id":t.id,"is-mobile":r.isMobile},null,8,["employee-id","is-mobile"])]),_:2},1032,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"])):(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:1,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:e=>r.showEmployeeDetails(o)},null,8,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"]))]),_:2},1024))),128))]),_:1},8,["cols"]),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"orangehrm-container-loader"})):Object(a["createCommentVNode"])("",!0)],512),TG]),r.isEmployeeSelected&&!1===r.isMobile?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",BG,[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{"employee-designation":e.employees[e.currentIndex].employeeJobTitle,"employee-id":e.employees[e.currentIndex].id,"employee-location":e.employees[e.currentIndex].employeeLocation,"employee-name":e.employees[e.currentIndex].employeeName,"employee-sub-unit":e.employees[e.currentIndex].employeeSubUnit,onHideDetails:t[3]||(t[3]=e=>r.hideEmployeeDetails())},null,8,["employee-designation","employee-id","employee-location","employee-name","employee-sub-unit"])]),_:1})])):Object(a["createCommentVNode"])("",!0)])])}const LG={class:"orangehrm-directory-card-body"};function UG(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("profile-picture"),s=Object(a["resolveComponent"])("oxd-sheet");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{gutters:!1,class:"orangehrm-directory-card"},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",{class:"orangehrm-directory-card-top",onClick:t[0]||(t[0]=t=>e.$emit("hide-details",!1))},[Object(a["createVNode"])(i,{name:"arrow-right"})],512),[[a["vShow"],o.showBackButton]]),Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.cardTitleClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.employeeName),1)]),_:1},8,["class"]),Object(a["createVNode"])(d,{id:o.employeeId},null,8,["id"]),Object(a["withDirectives"])(Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.cardSubTitleClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.employeeDesignation),1)]),_:1},8,["class"]),[[a["vShow"],o.employeeDesignation]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",LG,[Object(a["createVNode"])(i,{class:"orangehrm-directory-card-icon",name:"geo-alt-fill"}),Object(a["createElementVNode"])("div",null,[Object(a["withDirectives"])(Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.cardDescriptionClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.employeeSubUnit),1)]),_:1},8,["class"]),[[a["vShow"],o.employeeSubUnit]]),Object(a["withDirectives"])(Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.cardDescriptionClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.employeeLocation),1)]),_:1},8,["class"]),[[a["vShow"],o.employeeLocation]])])],512),[[a["vShow"],o.employeeSubUnit||o.employeeLocation]]),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)]),_:3})}const AG={class:"orangehrm-profile-picture"},PG=["src"];function qG(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AG,[Object(a["createElementVNode"])("img",{src:l.imgSrc,alt:"Profile Picture",class:"orangehrm-profile-picture-img"},null,8,PG)])}const MG=window.appGlobal.baseUrl+"/../dist/img/user-default-400.png";var FG={name:"ProfilePicture",props:{id:{type:Number,required:!0}},setup(e){const t=Object(a["computed"])(()=>e.id?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.id}`:MG);return{imgSrc:t}}};o("61a4");const zG=y()(FG,[["render",qG],["__scopeId","data-v-5e2d1196"]]);var RG=zG,GG={name:"SummaryCard",components:{"oxd-sheet":kl["a"],"oxd-icon":Jo["a"],"profile-picture":RG},props:{employeeId:{type:Number,required:!0},employeeName:{type:String,required:!0},employeeDesignation:{type:String,required:!1,default:null},employeeSubUnit:{type:String,default:""},employeeLocation:{type:String,default:""},showBackButton:{type:Boolean,default:!1}},emits:["hide-details"],computed:{hasDefaultSlot(){return!!this.$slots.default},cardTitleClasses(){return{"orangehrm-directory-card-header":!0,"--break-words":!this.hasDefaultSlot}},cardSubTitleClasses(){return{"orangehrm-directory-card-subtitle":!0,"--break-words":!this.hasDefaultSlot}},cardDescriptionClasses(){return{"orangehrm-directory-card-description":!0,"--break-words":!this.hasDefaultSlot}}}};o("c613");const QG=y()(GG,[["render",UG],["__scopeId","data-v-71a98c3a"]]);var HG=QG;const WG={class:"orangehrm-directory-card-rounded-body"},JG={class:"orangehrm-directory-card-icon"},YG={class:"orangehrm-directory-card-icon"},XG={class:"orangehrm-directory-card-hover-body"},KG={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"},ZG={class:"orangehrm-directory-card-hover-body"},eQ={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"};function tQ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-divider"),c=Object(a["resolveComponent"])("oxd-icon-button"),d=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["withDirectives"])(Object(a["createVNode"])(i,null,null,512),[[a["vShow"],n.employeeWorkEmail||n.employeeWorkTelephone]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",WG,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",JG,[Object(a["createVNode"])(c,{"display-type":"success",name:"telephone-fill",onClick:Object(a["withModifiers"])(r.openClientTelephone,["stop"])},null,8,["onClick"])],512),[[a["vShow"],n.employeeWorkTelephone]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",YG,[Object(a["createVNode"])(c,{"display-type":"danger",name:"envelope-fill",onClick:Object(a["withModifiers"])(r.openClientEmail,["stop"])},null,8,["onClick"])],512),[[a["vShow"],n.employeeWorkEmail]])],512),[[a["vShow"],n.employeeWorkEmail||n.employeeWorkTelephone]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[0]||(t[0]=e=>n.showTelephoneClip=!1),onMouseover:t[1]||(t[1]=e=>n.showTelephoneClip=!0)},[Object(a["createElementVNode"])("div",XG,[Object(a["createVNode"])(d,{type:"toast-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("pim.work_telephone")),1)]),_:1}),Object(a["createVNode"])(d,{ref:"cloneTelephone",type:"toast-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.employeeWorkTelephone),1)]),_:1},512)]),Object(a["createElementVNode"])("div",KG,[Object(a["withDirectives"])(Object(a["createVNode"])(c,{name:"files",onClick:Object(a["withModifiers"])(r.copyTelephone,["stop"])},null,8,["onClick"]),[[a["vShow"],n.showTelephoneClip||o.isMobile]])])],544),[[a["vShow"],n.employeeWorkTelephone]]),Object(a["withDirectives"])(Object(a["createVNode"])(i,null,null,512),[[a["vShow"],n.employeeWorkTelephone]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[2]||(t[2]=e=>n.showEmailClip=!1),onMouseover:t[3]||(t[3]=e=>n.showEmailClip=!0)},[Object(a["createElementVNode"])("div",ZG,[Object(a["createVNode"])(d,{type:"toast-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.work_email")),1)]),_:1}),Object(a["createVNode"])(d,{ref:"cloneEmail",type:"toast-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.employeeWorkEmail),1)]),_:1},512)]),Object(a["createElementVNode"])("div",eQ,[Object(a["withDirectives"])(Object(a["createVNode"])(c,{name:"files",onClick:Object(a["withModifiers"])(r.copyEmail,["stop"])},null,8,["onClick"]),[[a["vShow"],n.showEmailClip||o.isMobile]])])],544),[[a["vShow"],n.employeeWorkEmail]]),Object(a["withDirectives"])(Object(a["createVNode"])(i,null,null,512),[[a["vShow"],n.employeeWorkEmail]])],64)}var oQ={name:"EmployeeDetails",components:{"oxd-divider":c["a"]},props:{employeeId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/directory/employees");return{http:e}},data(){return{employeeWorkTelephone:null,employeeWorkEmail:null,showTelephoneClip:!1,showEmailClip:!1,toGoEmail:null}},watch:{employeeId:function(){this.callEmployeeDetailsApi()}},beforeMount(){this.callEmployeeDetailsApi()},methods:{openClientTelephone(){window.location.href="tel:"+this.employeeWorkTelephone},openClientEmail(){window.location.href="mailto:"+this.employeeWorkEmail},copyEmail(){var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(this.employeeWorkEmail)},copyTelephone(){var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(this.employeeWorkTelephone)},callEmployeeDetailsApi(){this.http.get(this.employeeId,{model:"detailed"}).then(e=>{var t,o;const{data:a}=e.data;this.employeeWorkTelephone=null===(t=a.contactInfo)||void 0===t?void 0:t.workTelephone,this.employeeWorkEmail=null===(o=a.contactInfo)||void 0===o?void 0:o.workEmail})}}};o("bf28");const aQ=y()(oQ,[["render",tQ],["__scopeId","data-v-2d312e42"]]);var lQ=aQ;function nQ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-details"),c=Object(a["resolveComponent"])("summary-card");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{"employee-id":o.employeeId,"show-back-button":!0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{"employee-id":o.employeeId},null,8,["employee-id"])]),_:1},8,["employee-id"])}var rQ={name:"SummaryCardDetails",components:{"employee-details":lQ,"summary-card":HG},props:{employeeId:{type:Number,required:!0}}};const iQ=y()(rQ,[["render",nQ]]);var cQ=iQ;const dQ={employeeNumber:null,jobTitleId:null,locationId:null};var sQ={name:"CorporateDirectory",components:{"summary-card":HG,"oxd-loading-spinner":Z["a"],"employee-details":lQ,"summary-card-details":cQ,"employee-autocomplete":Fa},props:{jobTitles:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]}},setup(){const{$t:e}=Ge(),{noRecordsFound:t}=At(),o=Object(VP["c"])(),l={employee:[Fo]},n=t=>t.map(t=>{var o,a,l,n,r;return{id:t.empNumber,employeeName:`${t.firstName} ${t.middleName} ${t.lastName} `+(t.terminationId?e("general.past_employee"):""),employeeJobTitle:null!==(o=t.jobTitle)&&void 0!==o&&o.isDeleted?(null===(a=t.jobTitle)||void 0===a?void 0:a.title)+" "+e("general.deleted"):null===(l=t.jobTitle)||void 0===l?void 0:l.title,employeeSubUnit:null===(n=t.subunit)||void 0===n?void 0:n.name,employeeLocation:null===(r=t.location)||void 0===r?void 0:r.name}}),r=new K(window.appGlobal.baseUrl,"api/v2/directory/employees"),i=14,c=Object(a["reactive"])({total:0,offset:0,employees:[],currentIndex:-1,isLoading:!1,filters:{...dQ}}),d=()=>{var e,o,a;c.isLoading=!0,r.getAll({limit:i,offset:c.offset,locationId:null===(e=c.filters.locationId)||void 0===e?void 0:e.id,empNumber:null===(o=c.filters.employeeNumber)||void 0===o?void 0:o.id,jobTitleId:null===(a=c.filters.jobTitleId)||void 0===a?void 0:a.id}).then(e=>{const{data:o,meta:a}=e.data;c.total=(null===a||void 0===a?void 0:a.total)||0,Array.isArray(o)&&(c.employees=[...c.employees,...n(o)]),0===c.total&&t()}).finally(()=>c.isLoading=!1)},{scrollerRef:s}=Sz(()=>{c.employees.length>=c.total||(c.offset+=i,d())});return{rules:l,fetchData:d,scrollerRef:s,...Object(a["toRefs"])(c),...Object(a["toRefs"])(o)}},computed:{isMobile(){return this.windowWidth<800},isEmployeeSelected(){return this.currentIndex>=0},oxdGridClasses(){return{"orangehrm-container":!0,"orangehrm-container-min-display":this.isEmployeeSelected}},colSize(){return this.windowWidth>=1920?this.isEmployeeSelected?5:7:this.isEmployeeSelected?3:4}},beforeMount(){this.fetchData()},methods:{hideEmployeeDetails(){this.currentIndex=-1},showEmployeeDetails(e){this.currentIndex!=e?this.currentIndex=e:this.hideEmployeeDetails()},onSearch(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.fetchData()},onReset(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.filters={...dQ},this.fetchData()}}};o("f50b");const mQ=y()(sQ,[["render",IG],["__scopeId","data-v-2cff612c"]]);var uQ=mQ,bQ={"corporate-directory-employee-list":uQ};const pQ=e=>(Object(a["pushScopeId"])("data-v-30b9e6c4"),e=e(),Object(a["popScopeId"])(),e),hQ={class:"orangehrm-login-form"},jQ={class:"orangehrm-login-error"},OQ=["value"],gQ={class:"orangehrm-login-forgot"},vQ=pQ(()=>Object(a["createElementVNode"])("br",null,null,-1)),fQ={class:"orangehrm-login-footer"},yQ={key:0,class:"orangehrm-login-footer-sm"},CQ={href:"https://www.linkedin.com/company/orangehrm/mycompany/",target:"_blank"},VQ={href:"https://www.facebook.com/OrangeHRM/",target:"_blank"},xQ={href:"https://twitter.com/orangehrm?lang=en",target:"_blank"},wQ={href:"https://www.youtube.com/c/OrangeHRMInc",target:"_blank"};function NQ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-alert"),d=Object(a["resolveComponent"])("oxd-sheet"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form-actions"),p=Object(a["resolveComponent"])("oxd-form"),h=Object(a["resolveComponent"])("oxd-icon"),j=Object(a["resolveComponent"])("login-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(j,null,{default:Object(a["withCtx"])(()=>{var l;return[Object(a["createVNode"])(i,{class:"orangehrm-login-title",tag:"h5"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.login")),1)]),_:1}),Object(a["createElementVNode"])("div",hQ,[Object(a["createElementVNode"])("div",jQ,[Object(a["createVNode"])(c,{show:null!==o.error,message:(null===(l=o.error)||void 0===l?void 0:l.message)||"",type:"error"},null,8,["show","message"]),o.isDemoMode?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,type:"gray-lighten-2",class:"orangehrm-demo-credentials"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Username : Admin")]),_:1}),Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Password : admin123")]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(p,{ref:"loginForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("input",{name:"_token",value:o.token,type:"hidden"},null,8,OQ),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),name:"username",label:e.$t("general.username"),"label-icon":"person",placeholder:e.$t("auth.username"),rules:n.rules.username,autofocus:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),name:"password",label:e.$t("general.password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:n.rules.password},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(b,{class:"orangehrm-login-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"orangehrm-login-button","display-type":"main",label:e.$t("auth.login"),type:"submit"},null,8,["label"])]),_:1}),Object(a["createElementVNode"])("div",gQ,[Object(a["createVNode"])(i,{class:"orangehrm-login-forgot-header",onClick:r.navigateUrl},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.forgot_password"))+"? ",1)]),_:1},8,["onClick"])])]),_:1},8,["action","onSubmitValid"]),vQ]),Object(a["createElementVNode"])("div",fQ,[o.showSocialMedia?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yQ,[Object(a["createElementVNode"])("a",CQ,[Object(a["createVNode"])(h,{type:"svg",class:"orangehrm-sm-icon",name:"linkedinFill"})]),Object(a["createElementVNode"])("a",VQ,[Object(a["createVNode"])(h,{type:"svg",class:"orangehrm-sm-icon",name:"facebookFill"})]),Object(a["createElementVNode"])("a",xQ,[Object(a["createVNode"])(h,{type:"svg",class:"orangehrm-sm-icon",name:"twitterFill"})]),Object(a["createElementVNode"])("a",wQ,[Object(a["createVNode"])(h,{type:"svg",class:"orangehrm-sm-icon",name:"youtubeFill"})])])):Object(a["createCommentVNode"])("",!0),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])]}),_:3})}const _Q={class:"orangehrm-login-layout"},kQ={class:"orangehrm-login-layout-blob"},SQ={class:"orangehrm-login-container"},DQ={class:"orangehrm-login-slot-wrapper"},$Q={class:"orangehrm-login-slot"},EQ={class:"orangehrm-login-logo-mobile"},TQ=["src"],BQ={class:"orangehrm-login-logo"},IQ=["src"];function LQ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("login-branding");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_Q,[Object(a["createElementVNode"])("div",kQ,[Object(a["createElementVNode"])("div",SQ,[Object(a["createElementVNode"])("div",DQ,[Object(a["createVNode"])(i,{"img-src":o.loginBannerSrc},null,8,["img-src"]),Object(a["createElementVNode"])("div",$Q,[Object(a["createElementVNode"])("div",EQ,[Object(a["createElementVNode"])("img",{src:o.loginLogoSrc,alt:"orangehrm-logo"},null,8,TQ)]),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)])])]),Object(a["createElementVNode"])("div",BQ,[Object(a["createElementVNode"])("img",{src:o.loginLogoSrc,alt:"orangehrm-logo"},null,8,IQ)])])])}const UQ={class:"orangehrm-login-branding"},AQ=["src"];function PQ(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",UQ,[Object(a["createElementVNode"])("img",{src:o.imgSrc,alt:"company-branding"},null,8,AQ)])}var qQ={name:"LoginBranding",props:{imgSrc:{type:String,required:!0}}};o("0ab1");const MQ=y()(qQ,[["render",PQ],["__scopeId","data-v-3dda64e6"]]);var FQ=MQ,zQ={name:"LoginLayout",components:{"login-branding":FQ},props:{loginLogoSrc:{type:String,required:!0},loginBannerSrc:{type:String,required:!0}}};o("7745");const RQ=y()(zQ,[["render",LQ],["__scopeId","data-v-50815349"]]);var GQ=RQ,QQ={components:{"oxd-icon":Jo["a"],"oxd-alert":at["a"],"oxd-sheet":kl["a"],"login-layout":GQ},props:{error:{type:Object,default:()=>null},token:{type:String,required:!0},showSocialMedia:{type:Boolean,default:!0},isDemoMode:{type:Boolean,default:!1}},data(){return{username:"",password:"",rules:{username:[io],password:[io]}}},computed:{submitUrl(){return J("/auth/validate")}},beforeMount(){setTimeout(()=>{X()},12e5)},methods:{onSubmit(){this.$refs.loginForm.$el.submit()},navigateUrl(){Y("/auth/requestPasswordResetCode")}}};o("7bdc");const HQ=y()(QQ,[["render",NQ],["__scopeId","data-v-30b9e6c4"]]);var WQ=HQ;function JQ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-alert");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{show:!0,type:"error",message:e.$t("auth.credential_required")},null,8,["message"])}var YQ={components:{"oxd-alert":at["a"]}};const XQ=y()(YQ,[["render",JQ]]);var KQ=XQ;const ZQ=e=>(Object(a["pushScopeId"])("data-v-8fe511d8"),e=e(),Object(a["popScopeId"])(),e),eH={class:"orangehrm-admin-access-container"},tH={class:"orangehrm-card-container"},oH=ZQ(()=>Object(a["createElementVNode"])("br",null,null,-1)),aH=["value"],lH={class:"orangehrm-admin-access-button-container"},nH=ZQ(()=>Object(a["createElementVNode"])("br",null,null,-1));function rH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-alert"),d=Object(a["resolveComponent"])("oxd-input-field"),s=Object(a["resolveComponent"])("oxd-form-row"),m=Object(a["resolveComponent"])("oxd-button"),u=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",eH,[Object(a["createElementVNode"])("div",tH,[Object(a["createVNode"])(u,{ref:"verifyForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:Object(a["withCtx"])(()=>{var l;return[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-admin-access-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.admin_access")),1)]),_:1}),oH,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(n.noteContainerClass)},[Object(a["createVNode"])(i,{tag:"toast-message"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.admin_access_note")),1)]),_:1})],2),Object(a["createVNode"])(c,{show:null!==o.error,type:"error",message:null===(l=o.error)||void 0===l?void 0:l.message},null,8,["show","message"]),Object(a["createElementVNode"])("input",{name:"_token",value:o.token,type:"hidden"},null,8,aH),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{"model-value":o.username,name:"username",label:e.$t("general.username"),"label-icon":"person",disabled:""},null,8,["model-value","label"])]),_:1}),Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:n.password,"onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),name:"password",label:e.$t("general.password"),"label-icon":"key",type:"password",rules:n.rules.password,autofocus:""},null,8,["modelValue","label","rules"])]),_:1}),Object(a["createElementVNode"])("div",lH,[Object(a["createVNode"])(m,{class:"orangehrm-admin-access-button","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(m,{class:"orangehrm-admin-access-button","display-type":"secondary",size:"large",label:e.$t("general.confirm"),type:"submit"},null,8,["label"])])]}),_:1},8,["action","onSubmitValid"])]),nH,Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var iH={name:"AdministratorAccess",components:{"oxd-alert":at["a"]},props:{username:{type:String,required:!0},error:{type:Object,default:()=>null},token:{type:String,required:!0},backUrl:{type:String,default:null}},data(){return{password:"",rules:{password:[io]},noteClasses:{"orangehrm-admin-access-note":!0,"--padding":null===this.error},noteContainerClass:{"orangehrm-admin-access-note-container":null===this.error}}},computed:{submitUrl(){return J("/auth/adminVerify")}},methods:{onSubmit(){this.$refs.verifyForm.$el.submit()},onCancel(){Y(this.backUrl)}}};o("d777");const cH=y()(iH,[["render",rH],["__scopeId","data-v-8fe511d8"]]);var dH=cH;const sH={class:"orangehrm-forgot-password-container"},mH={class:"orangehrm-forgot-password-wrapper"},uH={class:"orangehrm-card-container"},bH=["value"],pH={class:"orangehrm-forgot-password-button-container"};function hH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("card-note"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sH,[Object(a["createElementVNode"])("div",mH,[Object(a["createElementVNode"])("div",uH,[Object(a["createVNode"])(b,{ref:"resetForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.reset_password")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(d,{"note-text":e.$t("auth.username_identify_reset_note"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(a["createElementVNode"])("input",{name:"_token",value:o.token,type:"hidden"},null,8,bH),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),name:"username",label:e.$t("auth.username"),"label-icon":"person",rules:n.rules.username,placeholder:e.$t("auth.username")},null,8,["modelValue","label","rules","placeholder"])]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",pH,[Object(a["createVNode"])(u,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--cancel","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(u,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--reset","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]),_:1},8,["action","onSubmitValid"])])]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}function jH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{class:Object(a["normalizeClass"])({"orangehrm-card-note":!0,"orangehrm-card-note--background":o.hasNote,"orangehrm-card-note--icon":o.hasNoteIcon})},{default:Object(a["withCtx"])(()=>[o.hasNote?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"orangehrm-sub-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.note"))+": ",1)]),_:1})):Object(a["createCommentVNode"])("",!0),o.hasNoteIcon?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,tag:"span",class:"orangehrm-card-note-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{name:"exclamation-triangle",class:"orangehrm-card-icon"})]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(i,{class:Object(a["normalizeClass"])({"orangehrm-card-note-text":o.hasNoteIcon})},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.noteText),1)]),_:1},8,["class"])]),_:1},8,["class"])}var OH={name:"CardNote",components:{"oxd-icon":Jo["a"]},props:{noteText:{type:String,required:!0},hasNote:{type:Boolean,default:!1},hasNoteIcon:{type:Boolean,required:!1}}};o("c7f7");const gH=y()(OH,[["render",jH],["__scopeId","data-v-0869a3f6"]]);var vH=gH,fH={name:"RequestResetPassword",components:{"card-note":vH},props:{token:{type:String,required:!0}},data(){return{username:"",rules:{username:[io]}}},computed:{submitUrl(){return J("/auth/requestResetPassword")}},methods:{onCancel(){Y("/auth/login")},onSubmit(){this.$refs.resetForm.$el.submit()}}};o("5e6d");const yH=y()(fH,[["render",hH],["__scopeId","data-v-6c72eeff"]]);var CH=yH;const VH={class:"orangehrm-forgot-password-container"},xH={class:"orangehrm-forgot-password-wrapper"},wH={class:"orangehrm-card-container"};function NH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("card-note");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",VH,[Object(a["createElementVNode"])("div",xH,[Object(a["createElementVNode"])("div",wH,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.reset_password_link_sent_successfully")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(d,{"note-text":e.$t("auth.reset_password_link_via_email"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(a["createVNode"])(d,{"note-text":e.$t("auth.follow_link_to_select_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(a["createVNode"])(d,{"note-text":e.$t("auth.email_not_receive_note"),class:"orangehrm-forgot-password-card-note","has-note":""},null,8,["note-text"])])]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var _H={name:"ResetPasswordSuccess",components:{"card-note":vH}};o("6f06");const kH=y()(_H,[["render",NH],["__scopeId","data-v-3198c915"]]);var SH=kH;const DH={class:"orangehrm-forgot-password-container"},$H={class:"orangehrm-forgot-password-wrapper"},EH={class:"orangehrm-card-container"};function TH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("card-note");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",DH,[Object(a["createElementVNode"])("div",$H,[Object(a["createElementVNode"])("div",EH,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.reset_password")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(d,{"note-text":e.$t("auth.reset_password_token_expired_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(a["createVNode"])(i,{class:"orangehrm-forgot-password-reset"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:r.navigateUrl},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.click_here")),1)]),_:1},8,["onClick"]),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("auth.request_new_password_token")),1)]),_:1})])]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var BH={name:"ResetPasswordError",components:{"card-note":vH},methods:{navigateUrl(){Y("/auth/requestPasswordResetCode")}}};o("9906");const IH=y()(BH,[["render",TH],["__scopeId","data-v-0928170e"]]);var LH=IH;const UH={class:"orangehrm-forgot-password-container"},AH={class:"orangehrm-forgot-password-wrapper"},PH={class:"orangehrm-card-container"},qH=["value"],MH={class:"orangehrm-forgot-password-buttons"};function FH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("card-note"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",UH,[Object(a["createElementVNode"])("div",AH,[Object(a["createElementVNode"])("div",PH,[Object(a["createVNode"])(b,{ref:"resetForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"h6"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.reset_password")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(d,{"note-text":e.$t("auth.set_new_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(a["createElementVNode"])("input",{name:"_token",value:o.token,type:"hidden"},null,8,qH),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{value:o.username,name:"username",label:e.$t("auth.username"),"label-icon":"person",readonly:""},null,8,["value","label"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.user.newPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.newPassword=e),name:"password",label:e.$t("auth.new_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:n.rules.newPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.user.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.confirmPassword=e),name:"confirmPassword",label:e.$t("general.confirm_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:n.rules.confirmPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]),_:1}),Object(a["createVNode"])(c),Object(a["createElementVNode"])("div",MH,[Object(a["createVNode"])(u,{class:"orangehrm-forgot-password-button","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]),_:1},8,["action","onSubmitValid"])])]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var zH={name:"ResetPassword",components:{"card-note":vH},props:{username:{type:String,required:!0},token:{type:String,required:!0}},data(){return{user:{username:"",newPassword:"",confirmPassword:""},rules:{newPassword:[io,co(64),ol],confirmPassword:[io,co(64),e=>!!e&&e===this.user.newPassword||"Passwords do not match"]}}},computed:{submitUrl(){return J("/auth/resetPassword")}},methods:{onSubmit(){this.$refs.resetForm.$el.submit()}}};o("95fe");const RH=y()(zH,[["render",FH],["__scopeId","data-v-59ff5668"]]);var GH=RH;const QH={class:"orangehrm-forgot-password-container"},HH={class:"orangehrm-forgot-password-wrapper"},WH={class:"orangehrm-card-container"};function JH(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("card-note");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",QH,[Object(a["createElementVNode"])("div",HH,[Object(a["createElementVNode"])("div",WH,[Object(a["createVNode"])(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("auth.reset_password")),1)]),_:1}),Object(a["createVNode"])(c),Object(a["createVNode"])(d,{"note-text":e.$t("auth.configured_receive_email_notification_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(a["createVNode"])(i,{class:"orangehrm-forgot-password-reset"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:r.navigateUrl},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.click_here")),1)]),_:1},8,["onClick"]),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("auth.back_to_login")),1)]),_:1})])]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var YH={name:"EmailConfigurationWarning",components:{"card-note":vH},methods:{navigateUrl(){Y("/auth/login")}}};o("88f6");const XH=y()(YH,[["render",JH],["__scopeId","data-v-64d8674c"]]);var KH=XH,ZH={"auth-login":WQ,"auth-forbidden":KQ,"auth-admin-access":dH,"request-reset-password":CH,"reset-password-success":SH,"reset-password-error":LH,"reset-password":GH,"email-configuration-warning":KH};function eW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("employee-attendance-widget"),c=Object(a["resolveComponent"])("oxd-grid-item"),d=Object(a["resolveComponent"])("my-action-summary-widget"),s=Object(a["resolveComponent"])("quick-launch-widget"),m=Object(a["resolveComponent"])("buzz-latest-post-widget"),u=Object(a["resolveComponent"])("employees-on-leave-widget"),b=Object(a["resolveComponent"])("employee-subunit-widget"),p=Object(a["resolveComponent"])("employee-location-widget"),h=Object(a["resolveComponent"])("oxd-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{class:"orangehrm-dashboard-grid",cols:3},{default:Object(a["withCtx"])(()=>[e.$can.read("dashboard_time_widget")?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i)]),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(c,{class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d)]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s)]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m)]),_:1}),e.$can.read("dashboard_leave_widget")?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1,class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u)]),_:1})):Object(a["createCommentVNode"])("",!0),e.$can.read("dashboard_subunit_widget")?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:2,class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b)]),_:1})):Object(a["createCommentVNode"])("",!0),e.$can.read("dashboard_location_widget")?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:3,class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p)]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1})}const tW=["title"];function oW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-grid-item"),s=Object(a["resolveComponent"])("oxd-grid"),m=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(m,{icon:"lightning-charge-fill",empty:r.isEmpty,loading:n.isLoading,title:e.$t("dashboard.quick_launch")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{cols:3,class:"orangehrm-quick-launch"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.sortedActions,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:e,class:"orangehrm-quick-launch-card"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{"icon-type":"svg",class:"orangehrm-quick-launch-icon",name:e.icon,title:e.label,onClick:t=>r.onClickAction(e.path)},null,8,["name","title","onClick"]),Object(a["createElementVNode"])("div",{class:"orangehrm-quick-launch-heading",title:e.label},[Object(a["createVNode"])(c,{tag:"p",class:"--text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]),_:2},1024)],8,tW)]),_:2},1024))),128))]),_:1})]),_:1},8,["empty","loading","title"])}const aW={class:"orangehrm-dashboard-widget-header"},lW={class:"orangehrm-dashboard-widget-name"},nW={key:0,class:"orangehrm-dashboard-widget-body-nocontent"},rW=["src"];function iW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-loading-spinner"),m=Object(a["resolveComponent"])("oxd-sheet");return Object(a["openBlock"])(),Object(a["createBlock"])(m,{gutters:!1,class:"orangehrm-dashboard-widget"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",aW,[Object(a["createElementVNode"])("div",lW,[Object(a["createVNode"])(i,{name:o.icon,type:o.iconType,class:"orangehrm-dashboard-widget-icon"},null,8,["name","type"]),Object(a["createVNode"])(c,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.title),1)]),_:1})]),Object(a["renderSlot"])(e.$slots,"action",{},void 0,!0)]),Object(a["createVNode"])(d),o.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,class:"orangehrm-dashboard-widget-loader"})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,ref:"widgetRef",class:Object(a["normalizeClass"])(l.widgetBodyClasses)},[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0),o.empty?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nW,[Object(a["createElementVNode"])("img",{src:l.defaultPic,alt:"No Content",class:"orangehrm-dashboard-widget-img"},null,8,rW),Object(a["createVNode"])(c,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.emptyText||e.$t("dashboard.not_available")),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)],2))]),_:3})}var cW={name:"BaseWidget",components:{"oxd-sheet":kl["a"],"oxd-icon":Jo["a"],"oxd-loading-spinner":Z["a"]},props:{icon:{type:String,required:!0},title:{type:String,required:!0},loading:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},emptyText:{type:String,default:null},iconType:{type:String,default:void 0}},setup(){const e=Object(a["ref"])(),t=window.appGlobal.baseUrl+"/../images/dashboard_empty_widget_watermark.png",o=Object(a["computed"])(()=>{var t,o;return{"orangehrm-dashboard-widget-body":!0,"--scroll-visible":(null===(t=e.value)||void 0===t?void 0:t.scrollHeight)>(null===(o=e.value)||void 0===o?void 0:o.clientHeight)}});return{widgetRef:e,defaultPic:t,widgetBodyClasses:o}}};o("0462");const dW=y()(cW,[["render",iW],["__scopeId","data-v-37accaed"]]);var sW=dW,mW={name:"QuickLaunchWidget",components:{"base-widget":sW},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/shortcuts");return{http:e}},data(){return{isLoading:!1,quickLaunchActions:[]}},computed:{isEmpty(){return 0===this.quickLaunchActions.length},sortedActions(){return[...this.quickLaunchActions].sort((e,t)=>e.order-t.order)}},beforeMount(){this.isLoading=!0;const e={"leave.assign_leave":{order:1,icon:"leaveassign",label:this.$t("leave.assign_leave"),path:"/leave/assignLeave"},"leave.leave_list":{order:2,icon:"leavelist",label:this.$t("leave.leave_list"),path:"/leave/viewLeaveList"},"time.employee_timesheet":{order:3,icon:"timesheets",label:this.$t("general.timesheets"),path:"/time/viewEmployeeTimesheet"},"leave.apply_leave":{order:4,icon:"leaveapply",label:this.$t("leave.apply_leave"),path:"/leave/applyLeave"},"leave.my_leave":{order:5,icon:"myleaves",label:this.$t("general.my_leave"),path:"/leave/viewMyLeaveList"},"time.my_timesheet":{order:6,icon:"mytimesheet",label:this.$t("time.my_timesheet"),path:"/time/viewMyTimesheet"}};this.http.getAll().then(t=>{const{data:o}=t.data;for(const a in o)o[a]&&this.quickLaunchActions.push(e[a])}).finally(()=>{this.isLoading=!1})},methods:{onClickAction(e){e&&Y(e)}}};o("5bfc");const uW=y()(mW,[["render",oW],["__scopeId","data-v-1a81b0c7"]]);var bW=uW;const pW={class:"orangehrm-buzz-widget-header-text"},hW=["src"];function jW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("video-frame"),m=Object(a["resolveComponent"])("oxd-grid-item"),u=Object(a["resolveComponent"])("oxd-grid"),b=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(b,{icon:"camera-fill",empty:l.isEmpty,loading:l.isLoading,title:e.$t("dashboard.buzz_latest_posts"),"empty-text":e.$t("dashboard.no_posts_added")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{class:"orangehrm-buzz-widget",cols:1},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.posts,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:e,class:"orangehrm-buzz-widget-card"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",{class:"orangehrm-buzz-widget-header",onClick:t[0]||(t[0]=(...e)=>l.onClickPost&&l.onClickPost(...e))},[Object(a["createVNode"])(i,{employee:e.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",pW,[Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-widget-header-emp"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.employeeFullName),1)]),_:2},1024),Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-widget-header-time"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.dateTime),1)]),_:2},1024)])]),Object(a["createVNode"])(d,{class:"orangehrm-buzz-widget-divider"}),e.text?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,tag:"p",class:"orangehrm-buzz-widget-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.text),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0),e.postImgSrc?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:1,src:e.postImgSrc,class:"orangehrm-buzz-widget-picture"},null,8,hW)):Object(a["createCommentVNode"])("",!0),e.postVideoSrc?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:2,"video-src":e.postVideoSrc},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["empty","loading","title","empty-text"])}const OW={class:"orangehrm-buzz-video"},gW=["src"];function vW(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",OW,[Object(a["createElementVNode"])("iframe",{src:r.embedURL,frameborder:"0",class:"orangehrm-buzz-video-frame",title:"OrangeHRM buzz video frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,gW)])}var fW={name:"VideoFrame",props:{videoSrc:{type:String,required:!0}},computed:{embedURL(){return new String(this.videoSrc).trim()}}};o("570d");const yW=y()(fW,[["render",vW],["__scopeId","data-v-2cbd4256"]]);var CW=yW;function VW(e){const t=(t,o=0,a=!1)=>e.request({method:"GET",url:`api/v2/buzz/shares/${t}/comments`,params:{limit:o,...a&&{model:"detailed"}}}),o=(t,o)=>e.request({method:"POST",url:`api/v2/buzz/shares/${t}/comments`,data:{text:o}}),a=(t,o,a)=>e.request({method:"PUT",url:`api/v2/buzz/shares/${t}/comments/${o}`,data:{text:a}}),l=(t,o)=>e.request({method:"DELETE",url:`api/v2/buzz/shares/${t}/comments/${o}`}),n=t=>e.request({method:"GET",url:`api/v2/buzz/shares/${t}/likes`}),r=(t,o,a,l)=>e.request({method:"GET",url:"api/v2/buzz/feed",params:{limit:t,offset:o,sortOrder:a,sortField:l}}),i=(t,o)=>e.request({method:o?"DELETE":"POST",url:`api/v2/buzz/shares/${t}/likes`}),c=(t,o)=>e.request({method:o?"DELETE":"POST",url:`api/v2/buzz/comments/${t}/likes`}),d=t=>e.request({method:"DELETE",url:"/api/v2/buzz/shares/"+t}),s=(t,o)=>("photo"===o.type&&delete o["link"],"video"===o.type&&(delete o["photos"],delete o["deletedPhotos"]),"text"===o.type&&(delete o["link"],delete o["photos"]),e.request({method:"PUT",url:"api/v2/buzz/posts/"+t,data:{...o},params:{model:"detailed"}})),m=(t,o)=>e.request({method:"PUT",url:"api/v2/buzz/shares/"+t,data:{text:o},params:{model:"detailed"}});return{fetchPosts:r,updatePost:s,deletePost:d,updatePostLike:i,fetchPostLikes:n,savePostComment:o,updateSharedPost:m,updatePostComment:a,deletePostComment:l,fetchPostComments:t,updateCommentLike:c}}const xW={class:"orangehrm-buzz-profile-image"},wW=["src"];function NW(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xW,[Object(a["createElementVNode"])("img",{alt:"profile picture",src:r.imageSrc},null,8,wW)])}var _W={name:"ProfileImage",props:{employee:{type:Object,required:!0}},computed:{imageSrc(){return"../pim/viewPhoto/empNumber/"+this.employee.empNumber}}};o("48c7");const kW=y()(_W,[["render",NW],["__scopeId","data-v-7d93b59a"]]);var SW=kW,DW={name:"BuzzLatestPostWidget",components:{"base-widget":sW,"video-frame":CW,"profile-image":SW},setup(){const e=Object(a["ref"])([]),t=Object(a["ref"])(!1),{locale:o}=He(),{jsDateFormat:l}=ie(),{$tEmpName:n}=za(),{fetchPosts:r}=VW(new K(window.appGlobal.baseUrl,"")),i=Object(a["computed"])(()=>0===e.value.length),c=()=>Y("/buzz/viewBuzz");return Object(a["onBeforeMount"])(()=>{t.value=!0,r(5,0,"DESC","share.createdAtUtc").then(t=>{const{data:a}=t.data;e.value=a.map(e=>{var t;const{employee:a,createdDate:r,createdTime:i,originalPost:c}=e,d=(null===(t=e.video)||void 0===t?void 0:t.link)||null,s=xe(`${r} ${i} +00:00`,"yyyy-MM-dd HH:mm xxx"),m=we(s,l+" HH:mm",{locale:o}),u=n(a,{includeMiddle:!0,excludePastEmpTag:!1}),b=Array.isArray(null===e||void 0===e?void 0:e.photoIds)?`${window.appGlobal.baseUrl}/buzz/photo/${e.photoIds[0]}`:null,p=c?c.text:e.text;return{...e,text:p,dateTime:m,postImgSrc:b,postVideoSrc:d,employeeFullName:u}})}).finally(()=>{t.value=!1})}),{posts:e,isEmpty:i,isLoading:t,onClickPost:c}}};o("6aca");const $W=y()(DW,[["render",jW],["__scopeId","data-v-a2c4f010"]]);var EW=$W;function TW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-pie-chart"),c=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{icon:"pie-chart-fill",loading:n.isLoading,title:e.$t("dashboard.employee_distribution_by_sub_unit")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{data:n.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])]),_:1},8,["loading","title"])}var BW=o("61d9"),IW=o("221d"),LW={name:"EmployeeSubunitWidget",components:{"base-widget":sW,"oxd-pie-chart":IW["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/employees/subunit");return{http:e}},data(){return{dataset:[],isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t,meta:o}=e.data,a=[BW["a"].COLOR_HEAT_WAVE,BW["a"].COLOR_CHROME_YELLOW,BW["a"].COLOR_YELLOW_GREEN,BW["a"].COLOR_MOUNTAIN_MEADOW,BW["a"].COLOR_PACIFIC_BLUE,BW["a"].COLOR_BLEU_DE_FRANCE,BW["a"].COLOR_MAJORELLE_BLUE,BW["a"].COLOR_MEDIUM_ORCHID,BW["a"].COLOR_FANDANGO_PINK];this.dataset=t.map((e,t)=>!!e.count&&{value:e.count,color:a[t],label:e.subunit.name}).filter(e=>e),null!==o&&void 0!==o&&o.otherEmployeeCount&&this.dataset.push({value:o.otherEmployeeCount,color:BW["a"].COLOR_FANDANGO_PINK,label:this.$t("pim.other")}),null!==o&&void 0!==o&&o.unassignedEmployeeCount&&this.dataset.push({value:o.unassignedEmployeeCount,color:BW["a"].COLOR_TART_ORANGE,label:this.$t("dashboard.unassigned")})}).finally(()=>{this.isLoading=!1})}};o("aedb");const UW=y()(LW,[["render",TW],["__scopeId","data-v-1aa2c630"]]);var AW=UW;const PW={key:0,class:"orangehrm-todo-list"},qW={key:0,class:"orangehrm-todo-list-item"},MW={key:1,class:"orangehrm-todo-list-item"},FW={key:2,class:"orangehrm-todo-list-item"},zW={key:3,class:"orangehrm-todo-list-item"},RW={key:4,class:"orangehrm-todo-list-item"};function GW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{icon:"list-check",empty:r.isEmpty,"empty-text":r.emptyText,loading:e.isLoading,title:e.$t("dashboard.my_actions")},{default:Object(a["withCtx"])(()=>[n.myActions.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",PW,[n.leaveRequestCount>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qW,[Object(a["createVNode"])(i,{class:"orangehrm-report-icon",name:"attendanceAlt","icon-type":"svg","display-type":"success",onClick:r.onClickPendingLeave},null,8,["onClick"]),Object(a["createVNode"])(c,{tag:"p",onClick:r.onClickPendingLeave},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.n_pending_leave_request",{pendingActionsCount:n.leaveRequestCount})),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0),n.timeSheetCount>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",MW,[Object(a["createVNode"])(i,{class:"orangehrm-report-icon",name:"timeAlt","icon-type":"svg","display-type":"warn",onClick:r.onClickPendingTimesheet},null,8,["onClick"]),Object(a["createVNode"])(c,{tag:"p",onClick:r.onClickPendingTimesheet},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.n_pending_time_sheet",{pendingActionsCount:n.timeSheetCount})),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0),n.reviewCount>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",FW,[Object(a["createVNode"])(i,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:r.onClickPendingReview},null,8,["onClick"]),Object(a["createVNode"])(c,{tag:"p",onClick:r.onClickPendingReview},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.n_pending_performance_evaluate",{pendingActionsCount:n.reviewCount})),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0),n.selfReviewCount>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zW,[Object(a["createVNode"])(i,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:r.onClickPendingReview},null,8,["onClick"]),Object(a["createVNode"])(c,{tag:"p",onClick:r.onClickSelfReview},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.n_pending_self_review",{pendingActionsCount:n.selfReviewCount})),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0),n.interviewCount>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",RW,[Object(a["createVNode"])(i,{class:"orangehrm-report-icon",name:"interview","icon-type":"svg","display-type":"info",onClick:r.onClickPendingInterview},null,8,["onClick"]),Object(a["createVNode"])(c,{tag:"p",onClick:r.onClickPendingInterview},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.n_pending_candidate_interview",{pendingActionsCount:n.interviewCount})),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["empty","empty-text","loading","title"])}var QW={name:"MyActionSummaryWidget",components:{"base-widget":sW},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/employees/action-summary");return{http:e}},data(){return{myActions:[],leaveRequestCount:0,timeSheetCount:0,reviewCount:0,selfReviewCount:0,interviewCount:0}},computed:{isEmpty(){return 0===this.myActions.length},emptyText(){return this.$t("dashboard.no_pending_actions")}},beforeMount(){this.isLoading=!1,this.http.getAll().then(e=>{const{data:t}=e.data;this.myActions=t.map(e=>{const{group:t,pendingActionCount:o}=e;"Leave Requests To Approve"===t&&(this.leaveRequestCount=o),"Timesheets To Approve"===t&&(this.timeSheetCount=o),"Pending Appraisal Reviews"===t&&(this.reviewCount=o),"Pending Self Reviews"===t&&(this.selfReviewCount=o),"Candidates To Interview"===t&&(this.interviewCount=o)})}).finally(()=>{this.isLoading=!1})},methods:{onClickPendingLeave(){Y("/leave/viewLeaveList")},onClickPendingTimesheet(){Y("/time/viewEmployeeTimesheet")},onClickPendingReview(){Y("/performance/searchEvaluatePerformanceReview")},onClickPendingInterview(){Y("/recruitment/viewCandidates",void 0,{statusId:4})},onClickSelfReview(){Y("/performance/myPerformanceReview")}}};o("99f2");const HW=y()(QW,[["render",GW],["__scopeId","data-v-e05a2afc"]]);var WW=HW;function JW(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-pie-chart"),c=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{icon:"pie-chart-fill",loading:n.isLoading,title:e.$t("dashboard.employee_distribution_by_location")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{data:n.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])]),_:1},8,["loading","title"])}var YW={name:"EmployeeLocationWidget",components:{"base-widget":sW,"oxd-pie-chart":IW["a"]},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/employees/locations");return{http:e}},data(){return{dataset:[],isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t,meta:o}=e.data,a=[BW["a"].COLOR_HEAT_WAVE,BW["a"].COLOR_CHROME_YELLOW,BW["a"].COLOR_YELLOW_GREEN,BW["a"].COLOR_MOUNTAIN_MEADOW,BW["a"].COLOR_PACIFIC_BLUE,BW["a"].COLOR_BLEU_DE_FRANCE,BW["a"].COLOR_MAJORELLE_BLUE,BW["a"].COLOR_MEDIUM_ORCHID,BW["a"].COLOR_FANDANGO_PINK];this.dataset=t.map((e,t)=>!!e.count&&{value:e.count,color:a[t],label:e.location.name}).filter(e=>e),null!==o&&void 0!==o&&o.otherEmployeeCount&&this.dataset.push({value:o.otherEmployeeCount,color:BW["a"].COLOR_FANDANGO_PINK,label:this.$t("pim.other")}),null!==o&&void 0!==o&&o.unassignedEmployeeCount&&this.dataset.push({value:o.unassignedEmployeeCount,color:BW["a"].COLOR_TART_ORANGE,label:this.$t("dashboard.unassigned")})}).finally(()=>{this.isLoading=!1})}};o("1b9c");const XW=y()(YW,[["render",JW],["__scopeId","data-v-f094c426"]]);var KW=XW;const ZW={class:"orangehrm-leave-card-profile-image"},eJ=["src"],tJ={class:"orangehrm-leave-card-details"};function oJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("base-widget"),s=Object(a["resolveComponent"])("employees-on-leave-config-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,{icon:"leaveAlt","icon-type":"svg",class:"emp-leave-chart",empty:r.isEmpty,"empty-text":r.emptyText,loading:n.isLoading,title:e.$t("dashboard.employees_on_leave_today")},Object(a["createSlots"])({default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.leaveList,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"orangehrm-leave-card"},[Object(a["createElementVNode"])("div",ZW,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:"../pim/viewPhoto/empNumber/"+e.empNumber},null,8,eJ)]),Object(a["createElementVNode"])("div",tJ,[Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-leave-card-emp-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.empName),1)]),_:2},1024),e.leaveType?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,tag:"p",class:"orangehrm-leave-card-leave-details"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.leaveType),1)]),_:2},1024)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-leave-card-emp-id"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.employeeId),1)]),_:2},1024)]))),128))]),_:2},[e.$can.update("dashboard_employees_on_leave_today_config")?{name:"action",fn:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{class:"orangehrm-leave-card-icon",name:"gear-fill",onClick:r.onClickConfig},null,8,["onClick"])]),key:"0"}:void 0]),1032,["empty","empty-text","loading","title"]),n.showConfigModal?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,onClose:r.onConfigModalClose},null,8,["onClose"])):Object(a["createCommentVNode"])("",!0)],64)}const aJ={class:"orangehrm-modal-header"},lJ={class:"orangehrm-config-title"};function nJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-input-field"),m=Object(a["resolveComponent"])("oxd-form-row"),u=Object(a["resolveComponent"])("oxd-button"),b=Object(a["resolveComponent"])("submit-button"),p=Object(a["resolveComponent"])("oxd-form-actions"),h=Object(a["resolveComponent"])("oxd-form"),j=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",aJ,[Object(a["createVNode"])(i,{type:"svg",name:"leaveAlt"}),Object(a["createElementVNode"])("div",lJ,[Object(a["createVNode"])(c,{type:"card-body"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.employees_on_leave_today")),1)]),_:1}),Object(a["createVNode"])(c,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.configurations")),1)]),_:1})])]),Object(a["createVNode"])(d),Object(a["createVNode"])(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{class:"orangehrm-config-checkbox"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:n.showAccessibleEmployeesOnly,"onUpdate:modelValue":t[0]||(t[0]=e=>n.showAccessibleEmployeesOnly=e),type:"switch",label:e.$t("dashboard.only_show_accessible_employees_on_leave_for_other_users")},null,8,["modelValue","label"])]),_:1}),Object(a["createVNode"])(d),Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),Object(a["createVNode"])(b)]),_:1})]),_:1},8,["loading","onSubmitValid"])]),_:1},8,["onUpdate:show"])}var rJ={name:"EmployeesOnLeaveConfigModal",components:{"oxd-icon":Jo["a"],"oxd-dialog":ee["a"]},emits:["close"],setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/config/employee-on-leave-today");return{http:e}},data(){return{isLoading:!1,showAccessibleEmployeesOnly:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t}=e.data;this.showAccessibleEmployeesOnly=t.showOnlyAccessibleEmployeesOnLeaveToday}).finally(()=>this.isLoading=!1)},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{showOnlyAccessibleEmployeesOnLeaveToday:this.showAccessibleEmployeesOnly}}).then(()=>{this.$toast.updateSuccess(),this.onCancel()})},onCancel(){this.$emit("close",!0)}}};o("e61f");const iJ=y()(rJ,[["render",nJ],["__scopeId","data-v-40964c42"]]);var cJ=iJ,dJ={name:"EmployeesOnLeaveWidget",components:{"oxd-icon":Jo["a"],"base-widget":sW,"employees-on-leave-config-modal":cJ},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/dashboard/employees/leaves"),{$tEmpName:t}=za();return{http:e,tEmpName:t}},data(){return{leaveList:[],isLoading:!1,leavePeriod:null,showConfigModal:!1}},computed:{isEmpty(){return 0===this.leaveList.length},emptyText(){return this.leavePeriod?this.$t("dashboard.no_employees_are_on_leave_today"):this.$t("dashboard.leave_period_not_defined")}},beforeMount(){this.isLoading=!0,this.http.getAll({date:we(Ve(),"yyyy-MM-dd")}).then(e=>{const{data:t,meta:o}=e.data;this.leaveList=t.map(e=>{const{employee:t,leaveType:o,duration:a}=e;let l=null===o||void 0===o?void 0:o.name;return l&&"half_day_morning"===a&&(l+=` (${this.$t("leave.half_day_morning")})`),l&&"half_day_afternoon"===a&&(l+=` (${this.$t("leave.half_day_evening")})`),l&&"specify_time"===a&&(l+=` (${e.startTime} - ${e.endTime})`),{leaveType:l,empNumber:t.empNumber,employeeId:t.employeeId,empName:this.tEmpName(t,{includeMiddle:!1,excludePastEmpTag:!1})}}),this.leavePeriod=null===o||void 0===o?void 0:o.leavePeriodDefined}).finally(()=>{this.isLoading=!1})},methods:{onClickConfig(){this.showConfigModal=!0},onConfigModalClose(){this.showConfigModal=!1}}};o("19de");const sJ=y()(dJ,[["render",oJ],["__scopeId","data-v-1498ebc3"]]);var mJ=sJ;const uJ={class:"orangehrm-attendance-card"},bJ={class:"orangehrm-attendance-card-profile"},pJ={class:"orangehrm-attendance-card-profile-image"},hJ=["src"],jJ={class:"orangehrm-attendance-card-profile-record"},OJ={class:"orangehrm-attendance-card-bar"},gJ={class:"orangehrm-attendance-card-summary"},vJ={class:"orangehrm-attendance-card-summary-week"},fJ={class:"orangehrm-attendance-card-summary-total"};function yJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-icon-button"),d=Object(a["resolveComponent"])("oxd-divider"),s=Object(a["resolveComponent"])("oxd-icon"),m=Object(a["resolveComponent"])("oxd-bar-chart"),u=Object(a["resolveComponent"])("base-widget");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{icon:"clock-fill",loading:n.isLoading,title:e.$t("dashboard.time_at_work")},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",uJ,[Object(a["createElementVNode"])("div",bJ,[Object(a["createElementVNode"])("div",pJ,[Object(a["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:"../pim/viewPhoto/empNumber/"+n.empNumber},null,8,hJ)]),Object(a["createElementVNode"])("div",jJ,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-card-state"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.lastState),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-card-details"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.lastRecord),1)]),_:1})])]),Object(a["createElementVNode"])("div",OJ,[Object(a["createVNode"])(i,{tag:"span",class:"orangehrm-attendance-card-fulltime"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(n.dayTotal.hours)+"h",1),Object(a["createTextVNode"])(),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(n.dayTotal.minutes)+"m",1),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("dashboard.today")),1)]),_:1}),Object(a["createVNode"])(c,{name:"stopwatch","display-type":"solid-main",class:"orangehrm-attendance-card-action",onClick:r.onClickPunchIn},null,8,["onClick"])]),Object(a["createVNode"])(d),Object(a["createElementVNode"])("div",gJ,[Object(a["createElementVNode"])("div",vJ,[Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("dashboard.this_week")),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.currentWeek),1)]),_:1})]),Object(a["createElementVNode"])("div",fJ,[Object(a["createVNode"])(s,{name:"stopwatch",class:"orangehrm-attendance-card-icon"}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-attendance-card-fulltime"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.weekTotal.hours)+"h "+Object(a["toDisplayString"])(n.weekTotal.minutes)+"m ",1)]),_:1})])])]),Object(a["createVNode"])(m,{grid:!1,data:n.dataset,"y-axsis":!1,"aspect-ratio":!1,"wrapper-classes":"emp-attendance-chart"},null,8,["data"])]),_:1},8,["loading","title"])}var CJ=o("500db"),VJ={name:"EmployeeAttendanceWidget",components:{"oxd-icon":Jo["a"],"base-widget":sW,"oxd-bar-chart":CJ["a"]},setup(){const{locale:e}=He(),t=new K(window.appGlobal.baseUrl,"api/v2/dashboard/employees/time-at-work");return{http:t,locale:e}},data(){return{dataset:[],state:null,endDate:null,userDate:null,userTime:null,startDate:null,isLoading:!1,empNumber:null,timezoneOffset:null,dayTotal:{hours:0,minutes:0},weekTotal:{hours:0,minutes:0}}},computed:{lastState(){switch(this.state){case"PUNCHED IN":return this.$t("attendance.punched_in");case"PUNCHED OUT":return this.$t("attendance.punched_out");default:return this.$t("attendance.not_punched_in")}},lastRecord(){if(!this.userDate||!this.userTime)return null;const e=xe(`${this.userDate} ${this.userTime}`,"yyyy-MM-dd HH:mm"),t=we(e,"hh:mm a",{locale:this.locale});if(!Object(ye["a"])(e)){const o=we(e,"MMM do",{locale:this.locale});return this.$t("dashboard.state_date_at_time_timezone_offset",{lastState:this.lastState,date:o,time:t,timezoneOffset:this.timezoneOffset})}return this.$t("dashboard.state_today_at_time_timezone_offset",{lastState:this.lastState,time:t,timezoneOffset:this.timezoneOffset})},currentWeek(){if(!this.startDate||!this.endDate)return null;const e=we(xe(this.startDate),"MMM dd",{locale:this.locale}),t=we(xe(this.endDate),"MMM dd",{locale:this.locale});return`${e} - ${t}`}},beforeMount(){this.fetchWidgetData()},methods:{onClickPunchIn(){Y("/attendance/punchIn")},fetchWidgetData(){this.isLoading=!0;const e=Ve(),t=e.getTimezoneOffset()/60*-1;this.http.getAll({timezoneOffset:t,currentDate:we(e,"yyyy-MM-dd"),currentTime:we(new Date,"HH:mm")}).then(e=>{const{data:t,meta:o}=e.data;this.dataset=t.map(e=>({value:e.totalTime.hours+e.totalTime.minutes/60,label:this.$t("general."+new String(e.workDay.day).toLowerCase()),color:BW["b"]}));const{lastAction:a,currentDay:l,currentWeek:n,currentUser:r}=o;var i,c;(a&&(this.state=a.state,this.userDate=a.userDate,this.userTime=a.userTime,this.timezoneOffset=a.timezoneOffset),n)&&(this.weekTotal=n.totalTime,this.endDate=null===(i=n.endDate)||void 0===i?void 0:i.date,this.startDate=null===(c=n.startDate)||void 0===c?void 0:c.date);l&&(this.dayTotal=l.totalTime),r&&(this.empNumber=r.empNumber)}).finally(()=>{this.isLoading=!1})}}};o("9d86");const xJ=y()(VJ,[["render",yJ],["__scopeId","data-v-434444ee"]]);var wJ=xJ,NJ={components:{"quick-launch-widget":bW,"buzz-latest-post-widget":EW,"employee-subunit-widget":AW,"my-action-summary-widget":WW,"employee-location-widget":KW,"employees-on-leave-widget":mJ,"employee-attendance-widget":wJ},mounted(){const e=new K(window.appGlobal.baseUrl,"events/push");e.create()}};o("fddc");const _J=y()(NJ,[["render",eW],["__scopeId","data-v-3be5d56e"]]);var kJ=_J,SJ={"view-dashboard":kJ};function DJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("post-filters"),c=Object(a["resolveComponent"])("news-feed"),d=Object(a["resolveComponent"])("oxd-tab-panel"),s=Object(a["resolveComponent"])("upcoming-anniversaries"),m=Object(a["resolveComponent"])("oxd-tab-container"),u=Object(a["resolveComponent"])("oxd-grid-item"),b=Object(a["resolveComponent"])("oxd-grid");return l.isMobile?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,ref:"swipeRef",modelValue:l.tabSelector,"onUpdate:modelValue":t[0]||(t[0]=e=>l.tabSelector=e),"keep-alive":!0},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{key:"buzz_newsfeed",name:e.$t("buzz.buzz_newsfeed")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{mobile:!0,employee:o.employee,"sort-field":l.sortField},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{mobile:!0,filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])]),_:1},8,["employee","sort-field"])]),_:1},8,["name"]),Object(a["createVNode"])(d,{key:"buzz_anniversary",name:e.$t("buzz.upcoming_anniversaries")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s)]),_:1},8,["name"])]),_:1},8,["modelValue"])):l.width<1920?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1,cols:2,class:"orangehrm-buzz-layout"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{employee:o.employee,"sort-field":l.sortField},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])]),_:1},8,["employee","sort-field"])]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s)]),_:1})]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:2,cols:3,class:"orangehrm-buzz-layout"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{employee:o.employee,"sort-field":l.sortField},null,8,["employee","sort-field"])]),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s)]),_:1})]),_:1}))}var $J=o("c8b5"),EJ=o.n($J);function TJ(e){let t;const o=Object(a["ref"])();return Object(a["onMounted"])(()=>{var a;if(!o.value)return;t=new EJ.a.Manager((null===(a=o.value)||void 0===a?void 0:a.$el)||o.value);const l=new EJ.a.Swipe;t.add(l),t.on("swipe",e)}),Object(a["onBeforeUnmount"])(()=>{var e;null===(e=t)||void 0===e||e.destroy()}),{swipeContainer:o}}var BJ=o("7897");const IJ={class:"orangehrm-buzz-newsfeed"},LJ=["src"];function UJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("create-post"),d=Object(a["resolveComponent"])("post-body"),s=Object(a["resolveComponent"])("post-actions"),m=Object(a["resolveComponent"])("post-stats"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("post-comment-container"),p=Object(a["resolveComponent"])("post-container"),h=Object(a["resolveComponent"])("oxd-grid-item"),j=Object(a["resolveComponent"])("oxd-grid"),O=Object(a["resolveComponent"])("oxd-loading-spinner"),g=Object(a["resolveComponent"])("edit-post-modal"),v=Object(a["resolveComponent"])("share-post-modal"),f=Object(a["resolveComponent"])("photo-carousel"),y=Object(a["resolveComponent"])("delete-confirmation");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",IJ,[Object(a["createVNode"])(i,{type:"card-title",class:"orangehrm-buzz-newsfeed-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.buzz_newsfeed")),1)]),_:1}),(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:e.posts,employee:o.employee,onRefresh:l.resetFeed},null,8,["employee","onRefresh"])),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(a["createVNode"])(j,{cols:1,class:"orangehrm-buzz-newsfeed-posts"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.posts,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:e},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{post:e,onEdit:e=>l.onEdit(t),onDelete:e=>l.onDelete(t)},Object(a["createSlots"])({content:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{post:e,onSelectPhoto:e=>l.onSelectPhoto(e,t)},null,8,["post","onSelectPhoto"])]),actionButton:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{post:e,onLike:e=>l.onLike(t),onShare:e=>l.onShare(t),onComment:e=>l.onComment(t)},null,8,["post","onLike","onShare","onComment"])]),postStats:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{post:e,mobile:o.mobile,onComment:e=>l.onComment(t)},null,8,["post","mobile","onComment"])]),_:2},[e.showComments?{name:"comments",fn:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u),Object(a["createVNode"])(b,{"post-id":e.id,employee:o.employee,onCreate:e=>l.onCreateComment(t),onDelete:e=>l.onDeleteComment(t)},null,8,["post-id","employee","onCreate","onDelete"])]),key:"0"}:void 0]),1032,["post","onEdit","onDelete"])]),_:2},1024))),128)),Object(a["withDirectives"])(Object(a["createVNode"])(h,{class:"orangehrm-buzz-newsfeed-noposts"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("img",{src:l.noPostsPic,alt:"No Posts"},null,8,LJ),Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.no_posts_available")),1)]),_:1})]),_:1},512),[[a["vShow"],!e.isLoading&&0===e.posts.length]])]),_:1}),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,class:"orangehrm-buzz-newsfeed-loader"})):Object(a["createCommentVNode"])("",!0)]),e.showEditModal?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0,employee:o.employee,data:e.editModalState.post,onClose:l.onCloseEditModal},null,8,["employee","data","onClose"])):Object(a["createCommentVNode"])("",!0),e.showShareModal?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:1,employee:o.employee,data:e.shareModalState,onClose:l.onCloseShareModal},null,8,["employee","data","onClose"])):Object(a["createCommentVNode"])("",!0),e.showPhotoCarousel?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:2,mobile:o.mobile,post:e.photoCarouselState.post,"photo-index":e.photoCarouselState.photoIndex,onClose:l.onClosePhotoCarousel,onLike:t[0]||(t[0]=t=>l.onLike(e.photoCarouselState.postIndex)),onCreateComment:t[1]||(t[1]=t=>l.onCreateComment(e.photoCarouselState.postIndex)),onDeleteComment:t[2]||(t[2]=t=>l.onDeleteComment(e.photoCarouselState.postIndex))},null,8,["mobile","post","photo-index","onClose"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(y,{ref:"deleteDialog",message:e.$t("buzz.post_delete_confirmation_message")},null,8,["message"])],64)}const AJ={class:"orangehrm-buzz-post-body"},PJ={key:1},qJ=["onClick"],MJ=["onClick"],FJ={key:0};function zJ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("video-frame"),d=Object(a["resolveComponent"])("oxd-icon"),s=Object(a["resolveComponent"])("photo-frame");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AJ,[o.post.text?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,tag:"p",class:Object(a["normalizeClass"])(l.postClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.post.text),1)]),_:1},8,["class"])):Object(a["createCommentVNode"])("",!0),Object(a["withDirectives"])(Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-post-body-readmore",onClick:l.onClickReadMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.read_more")),1)]),_:1},8,["onClick"]),[[a["vShow"],!e.readMore]]),!o.post.text||"video"!==o.post.type&&"photo"!==o.post.type?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",PJ)),"video"===o.post.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:2,"video-src":o.post.video.link},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0),"photo"===o.post.type?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:3,media:o.post.photoIds},{content:Object(a["withCtx"])(({index:e})=>[3===e&&5===o.post.photoIds.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"orangehrm-buzz-post-body-picture --more",onClick:t=>l.onClickPicture(e)},[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-post-body-more"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("+1")]),_:1}),Object(a["createVNode"])(d,{class:"orangehrm-buzz-post-body-more",name:"images"})],8,qJ)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:"orangehrm-buzz-post-body-picture",onClick:t=>l.onClickPicture(e)},null,8,MJ))]),_:1},8,["media"])):Object(a["createCommentVNode"])("",!0),l.originalPost?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:4},[o.post.text||"video"===o.post.type||"photo"===o.post.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",FJ)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-post-body-employee"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.employee),1)]),_:1}),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-post-body-date"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.dateTime),1)]),_:1}),l.originalPost.text?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,tag:"p",class:"orangehrm-buzz-post-body-original-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.text),1)]),_:1})):Object(a["createCommentVNode"])("",!0)],64)):Object(a["createCommentVNode"])("",!0)])}const RJ=["src"];function GJ(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(r.classes)},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.photos,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"orangehrm-buzz-photos-item"},[Object(a["renderSlot"])(e.$slots,"content",{data:t,index:o},void 0,!0),Object(a["createElementVNode"])("img",{src:t},null,8,RJ)]))),128))],2)}var QJ={name:"PhotoFrame",props:{media:{type:Array,required:!0}},computed:{classes(){return{"orangehrm-buzz-photos":!0,"--two-thumbnails":2===this.media.length,"--three-thumbnails":3===this.media.length,"--four-thumbnails":4===this.media.length,"--five-thumbnails":5===this.media.length}},photos(){return(this.media||[]).map(e=>{if("number"===typeof e)return`${window.appGlobal.baseUrl}/buzz/photo/${e}`;const{type:t,base64:o}=e;return`data:${t};base64,${o}`})}}};o("4238");const HJ=y()(QJ,[["render",GJ],["__scopeId","data-v-5b8540a6"]]);var WJ=HJ,JJ={name:"PostBody",components:{"oxd-icon":Jo["a"],"photo-frame":WJ,"video-frame":CW},props:{post:{type:Object,required:!0}},emits:["close","selectPhoto"],setup(e,t){var o;const{locale:l}=He(),{jsDateFormat:n}=ie(),{$tEmpName:r}=za(),i=Object(a["reactive"])({readMore:new String(null===(o=e.post)||void 0===o?void 0:o.text).length<500}),c=Object(a["computed"])(()=>({"orangehrm-buzz-post-body-text":!0,"--truncate":!1===i.readMore})),d=()=>{i.readMore=!i.readMore},s=e=>{t.emit("selectPhoto",e)},m=Object(a["computed"])(()=>{if(null===e.post.originalPost)return null;const{createdDate:t,createdTime:o}=e.post.originalPost,a=xe(`${t} ${o} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:e.post.originalPost.text,employee:r(e.post.originalPost.employee,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:we(a,n+" HH:mm",{locale:l})}});return{postClasses:c,originalPost:m,onClickPicture:s,onClickReadMore:d,...Object(a["toRefs"])(i)}}};o("57ef");const YJ=y()(JJ,[["render",zJ],["__scopeId","data-v-48a4b8ee"]]);var XJ=YJ;const KJ={class:"orangehrm-buzz-stats"},ZJ={class:"orangehrm-buzz-stats-row"},eY={class:"orangehrm-buzz-stats-row"};function tY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("post-stats-modal"),s=Object(a["resolveDirective"])("click-outside");return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",KJ,[Object(a["createElementVNode"])("div",ZJ,[Object(a["createVNode"])(i,{name:"heart-fill",class:"orangehrm-buzz-stats-like-icon"}),Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.likesClasses),onClick:r.onShowLikeList},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.likesCount),1)]),_:1},8,["class","onClick"]),n.showLikeList?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,type:"likes",icon:"heart-fill",mobile:o.mobile,"post-id":o.post.id,onClose:r.onClose},null,8,["mobile","post-id","onClose"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",eY,[Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-stats-active",onClick:r.onShowComments},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.commentsCount),1)]),_:1},8,["onClick"]),r.sharesCount?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(" ‚  "),Object(a["createVNode"])(c,{tag:"p",class:Object(a["normalizeClass"])(r.sharesClasses),onClick:r.onShowSharesList},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.sharesCount),1)]),_:1},8,["class","onClick"])],64)):Object(a["createCommentVNode"])("",!0),n.showSharesList?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,type:"shares",icon:"share-fill",mobile:o.mobile,"post-id":o.post.post.id,onClose:r.onClose},null,8,["mobile","post-id","onClose"])):Object(a["createCommentVNode"])("",!0)])])),[[s,r.onClose]])}const oY={class:"orangehrm-buzz-stats-dialog-header"};function aY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-loading-spinner"),s=Object(a["resolveComponent"])("oxd-sheet"),m=Object(a["resolveComponent"])("oxd-icon"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-dialog");return o.mobile?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1,class:"orangehrm-buzz-stats-dialog","onUpdate:show":l.onClose},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",oY,[Object(a["createVNode"])(m,{class:Object(a["normalizeClass"])({"orangehrm-buzz-stats-dialog-icon":!0,"--likes":"likes"===o.type}),name:o.icon,"with-container":!0},null,8,["class","name"]),"shares"===o.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.n_share",{shareCount:e.total})),1)]),_:1})):Object(a["createCommentVNode"])("",!0),"likes"===o.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:1},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.n_like",{likesCount:e.total})),1)]),_:1})):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(u),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.users,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"orangehrm-buzz-stats-dialog-employee"},[Object(a["createVNode"])(i,{employee:e.employee},null,8,["employee"]),Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-stats-dialog-employee-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.fullName),1)]),_:2},1024)]))),128)),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-buzz-loader"})):Object(a["createCommentVNode"])("",!0)]),_:1},8,["onUpdate:show"])):(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,gutters:!1,type:"white",class:"orangehrm-buzz-stats-modal"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.users,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"orangehrm-buzz-stats-modal-employee"},[Object(a["createVNode"])(i,{employee:e.employee},null,8,["employee"]),Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-stats-modal-employee-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.fullName),1)]),_:2},1024)]))),128)),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,class:"orangehrm-buzz-loader"})):Object(a["createCommentVNode"])("",!0)]),_:1}))}var lY={name:"PostStatsModal",components:{"oxd-icon":Jo["a"],"oxd-sheet":kl["a"],"oxd-dialog":ee["a"],"profile-image":SW,"oxd-loading-spinner":Z["a"]},props:{postId:{type:Number,required:!0},type:{type:String,required:!0},icon:{type:String,required:!0},mobile:{type:Boolean,default:!1}},emits:["close"],setup(e,t){let o;const l=10,{$tEmpName:n}=za();switch(e.type){case"likes":o=`api/v2/buzz/shares/${e.postId}/likes`;break;case"shares":o=`api/v2/buzz/posts/${e.postId}/shares`;break;default:break}const r=new K(window.appGlobal.baseUrl,o),i=Object(a["reactive"])({total:0,offset:0,users:[],isLoading:!1}),c=()=>{i.isLoading=!0,r.getAll({limit:l,offset:i.offset}).then(e=>{const{data:t,meta:o}=e.data;if(i.total=(null===o||void 0===o?void 0:o.total)||0,Array.isArray(t)){const e=t.map(e=>{const{employee:t}=e;return{employee:t,fullName:n(t,{includeMiddle:!1,excludePastEmpTag:!1})}});i.users=[...i.users,...e]}}).finally(()=>i.isLoading=!1)};Sz(()=>{i.users.length>=i.total||(i.offset+=l,c())}),Object(a["onBeforeMount"])(()=>c());const d=()=>{t.emit("close")};return{onClose:d,fetchData:c,...Object(a["toRefs"])(i)}}};o("2274");const nY=y()(lY,[["render",aY],["__scopeId","data-v-e6adb97c"]]);var rY=nY,iY=o("ceb4"),cY={name:"PostStats",components:{"oxd-icon":Jo["a"],"post-stats-modal":rY},directives:{"click-outside":iY["a"]},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1}},emits:["comment"],data(){return{showLikeList:!1,showSharesList:!1}},computed:{likesCount(){var e;return this.$t("buzz.n_like",{likesCount:(null===(e=this.post.stats)||void 0===e?void 0:e.numOfLikes)||0})},sharesCount(){var e,t;return null===(null===(e=this.post.stats)||void 0===e?void 0:e.numOfShares)?null:this.$t("buzz.n_share",{shareCount:(null===(t=this.post.stats)||void 0===t?void 0:t.numOfShares)||0})},commentsCount(){var e;return this.$t("buzz.n_comment",{commentCount:(null===(e=this.post.stats)||void 0===e?void 0:e.numOfComments)||0})},likesClasses(){var e;return{"orangehrm-buzz-stats-active":(null===(e=this.post.stats)||void 0===e?void 0:e.numOfLikes)>0}},sharesClasses(){var e;return{"orangehrm-buzz-stats-active":(null===(e=this.post.stats)||void 0===e?void 0:e.numOfShares)>0}}},methods:{onShowComments(){this.$emit("comment")},onShowLikeList(){var e;this.showSharesList=!1,null!==(e=this.post.stats)&&void 0!==e&&e.numOfLikes&&(this.showLikeList=!0)},onShowSharesList(){var e;this.showLikeList=!1,null!==(e=this.post.stats)&&void 0!==e&&e.numOfShares&&(this.showSharesList=!0)},onClose(){this.showLikeList=!1,this.showSharesList=!1}}};o("15f5");const dY=y()(cY,[["render",tY],["__scopeId","data-v-5df826fe"]]);var sY=dY;const mY={class:"orangehrm-buzz-create-post-header"},uY={class:"orangehrm-buzz-create-post-header-text"},bY={class:"orangehrm-buzz-create-post-actions"};function pY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-button"),d=Object(a["resolveComponent"])("oxd-buzz-post-input"),s=Object(a["resolveComponent"])("oxd-form"),m=Object(a["resolveComponent"])("oxd-divider"),u=Object(a["resolveComponent"])("oxd-glass-button"),b=Object(a["resolveComponent"])("oxd-sheet"),p=Object(a["resolveComponent"])("share-video-modal"),h=Object(a["resolveComponent"])("share-photo-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(b,{class:"orangehrm-buzz-create-post"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",mY,[Object(a["createVNode"])(i,{employee:o.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",uY,[Object(a["createVNode"])(s,{onSubmitValid:l.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:l.post,"onUpdate:modelValue":t[0]||(t[0]=e=>l.post=e),rules:l.rules,placeholder:e.$t("buzz.post_placeholder")},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{type:"submit",label:e.$t("buzz.post")},null,8,["label"])]),_:1},8,["modelValue","rules","placeholder"])]),_:1},8,["onSubmitValid"])])]),Object(a["createVNode"])(m),Object(a["createElementVNode"])("div",bY,[Object(a["createVNode"])(u,{icon:"cameraglass",label:e.$t("buzz.share_photos"),onClick:l.onClickSharePhotos},null,8,["label","onClick"]),Object(a["createVNode"])(u,{icon:"videoglass",label:e.$t("buzz.share_video"),onClick:l.onClickShareVideos},null,8,["label","onClick"])])]),_:1}),l.showVideoModal?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,text:l.post,employee:o.employee,onClose:l.onCloseVideoModal},null,8,["text","employee","onClose"])):Object(a["createCommentVNode"])("",!0),l.showPhotoModal?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:1,text:l.post,employee:o.employee,onClose:l.onClosePhotoModal},null,8,["text","employee","onClose"])):Object(a["createCommentVNode"])("",!0)],64)}var hY=o("a670"),jY=o("adc3");function OY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-buzz-post-input"),c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("video-frame"),s=Object(a["resolveComponent"])("post-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{loading:e.isLoading,title:e.$t("buzz.share_video"),onSubmit:l.onSubmit,onClose:t[2]||(t[2]=t=>e.$emit("close",!1))},{header:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:e.post.url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.url=t),type:"textarea",rules:l.rules.url,label:e.$t("buzz.video_url"),placeholder:e.$t("buzz.paste_video_url")},null,8,["modelValue","rules","label","placeholder"]),e.embedURL?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"video-src":e.embedURL},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","title","onSubmit"])}const gY={class:"orangehrm-modal-header"},vY={class:"orangehrm-buzz-post-modal-header"},fY={class:"orangehrm-buzz-post-modal-header-text"};function yY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider"),d=Object(a["resolveComponent"])("profile-image"),s=Object(a["resolveComponent"])("oxd-button"),m=Object(a["resolveComponent"])("oxd-form-actions"),u=Object(a["resolveComponent"])("oxd-form"),b=Object(a["resolveComponent"])("oxd-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])(b,{class:"orangehrm-dialog-modal",persistent:!0,"onUpdate:show":l.onCancel},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",gY,[Object(a["createVNode"])(i,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.title),1)]),_:1})]),Object(a["createVNode"])(c),Object(a["createVNode"])(u,{loading:o.loading,onSubmitValid:l.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",vY,[Object(a["createVNode"])(d,{employee:o.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",fY,[Object(a["renderSlot"])(e.$slots,"header",{},void 0,!0)])]),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(a["createVNode"])(m,{class:"orangehrm-buzz-post-modal-actions"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{type:"submit",disabled:o.disabled,label:o.actionLabel||e.$t("buzz.share")},null,8,["disabled","label"])]),_:1})]),_:3},8,["loading","onSubmitValid"])]),_:3},8,["onUpdate:show"])}var CY={name:"PostModal",components:{"oxd-dialog":ee["a"],"profile-image":SW},props:{title:{type:String,required:!0},employee:{type:Object,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},actionLabel:{type:String,default:null,required:!1}},emits:["close","submit"],setup(e,t){const o=()=>{t.emit("submit")},a=()=>{t.emit("close")};return{onSubmit:o,onCancel:a}}};o("87e2");const VY=y()(CY,[["render",yY],["__scopeId","data-v-24b1be85"]]);var xY=VY,wY={name:"ShareVideoModal",components:{"post-modal":xY,"video-frame":CW,"oxd-buzz-post-input":jY["a"]},props:{text:{type:String,default:null}},emits:["close"],setup(e,t){const{$t:o}=Ge(),l=new K(window.appGlobal.baseUrl,"api/v2/buzz/posts"),n=Object(a["reactive"])({post:{text:e.text||null,url:null},embedURL:null,isLoading:!1}),r={url:[io,Object(rl["a"])(async e=>{if(!e)return!0;n.embedURL=null;const t=await l.request({method:"GET",url:"api/v2/buzz/validation/links",params:{url:e}}),{data:a}=t.data;return!0===(null===a||void 0===a?void 0:a.valid)?(n.embedURL=a.embeddedURL,!0):o("general.invalid_video_url_message")},500)],text:[co(65530)]},i=()=>{n.isLoading=!0,l.create({type:"video",link:n.post.url,text:n.post.text}).then(()=>t.emit("close",!0))};return{rules:r,onSubmit:i,...Object(a["toRefs"])(n)}}};const NY=y()(wY,[["render",OY]]);var _Y=NY;function kY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-buzz-post-input"),c=Object(a["resolveComponent"])("photo-input"),d=Object(a["resolveComponent"])("post-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{loading:e.isLoading,disabled:l.isDisabled,title:e.$t("buzz.share_photos"),onSubmit:l.onSubmit,onClose:t[2]||(t[2]=t=>e.$emit("close",!1))},{header:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{modelValue:e.post.photos,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.photos=t)},null,8,["modelValue"])]),_:1},8,["loading","disabled","title","onSubmit"])}const SY={class:"orangehrm-photo-input"},DY={class:"orangehrm-photo-input-field"};function $Y(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("oxd-alert"),d=Object(a["resolveComponent"])("photo-upload-area"),s=Object(a["resolveComponent"])("oxd-button"),m=Object(a["resolveComponent"])("oxd-input-field"),u=Object(a["resolveComponent"])("photo-frame");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",SY,[Object(a["createVNode"])(c,{type:"error",show:!!l.validationMessage,message:l.validationMessage},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{name:"x",class:"orangehrm-photo-input-remove",onClick:l.onClickCloseAlert},null,8,["onClick"])]),_:1},8,["show","message"]),l.showUploadArea?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,"onUpdate:modelValue":l.onFileChange},null,8,["onUpdate:modelValue"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",DY,[l.showUploadButton?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,type:"file","onUpdate:modelValue":l.onFileChange},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"icon-name":"file-image",label:e.$t("buzz.add_photos")},null,8,["label"])]),_:1},8,["onUpdate:modelValue"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(u,{media:o.modelValue},{content:Object(a["withCtx"])(({index:e})=>[Object(a["createVNode"])(i,{name:"x",class:"orangehrm-photo-input-remove --float",onClick:t=>l.onClickRemove(e)},null,8,["onClick"])]),_:1},8,["media"])])}const EY={class:"orangehrm-photo-upload-area"};function TY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-input-field");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{type:"file"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",EY,[Object(a["createVNode"])(i,{class:"orangehrm-photo-upload-icon",name:"images"}),Object(a["createVNode"])(c,{type:"card-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.add_photos")),1)]),_:1})])]),_:1})}var BY={name:"PhotoUploadArea",components:{"oxd-icon":Jo["a"]}};o("6c50");const IY=y()(BY,[["render",TY],["__scopeId","data-v-2e5d9110"]]);var LY=IY,UY={name:"PhotoInput",components:{"oxd-alert":at["a"],"photo-frame":WJ,"photo-upload-area":LY},props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,t){const{$t:o}=Ge(),l=Object(a["ref"])(""),n=_o(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/x-png"]),r=No(2097152),i=a=>{if(a)return l.value="",!0!==r(a)?l.value=o("buzz.file_size_validation_message"):!0!==n(a)?l.value=o("buzz.file_type_validation_message"):void t.emit("update:modelValue",[...e.modelValue||[],a])},c=o=>{l.value="",t.emit("update:modelValue",(e.modelValue||[]).filter((e,t)=>o!==t))},d=()=>{l.value=""},s=Object(a["computed"])(()=>Array.isArray(e.modelValue)&&e.modelValue.length<1),m=Object(a["computed"])(()=>Array.isArray(e.modelValue)&&e.modelValue.length>0&&e.modelValue.length<5);return{onFileChange:i,onClickRemove:c,showUploadArea:s,showUploadButton:m,onClickCloseAlert:d,validationMessage:l}}};o("9d4f");const AY=y()(UY,[["render",$Y],["__scopeId","data-v-6d7c6766"]]);var PY=AY,qY={name:"SharePhotoModal",components:{"post-modal":xY,"photo-input":PY,"oxd-buzz-post-input":jY["a"]},props:{text:{type:String,default:null}},emits:["close"],setup(e,t){const o={text:[co(65530)]},l=new K(window.appGlobal.baseUrl,"api/v2/buzz/posts"),n=Object(a["reactive"])({post:{text:e.text||null,photos:[]},isLoading:!1}),r=()=>{n.isLoading=!0,l.create({type:"photo",text:n.post.text,photos:n.post.photos}).then(()=>t.emit("close",!0))},i=Object(a["computed"])(()=>0===n.post.photos.length);return{rules:o,onSubmit:r,isDisabled:i,...Object(a["toRefs"])(n)}}};const MY=y()(qY,[["render",kY]]);var FY=MY,zY={name:"CreatePost",components:{"oxd-sheet":kl["a"],"profile-image":SW,"oxd-glass-button":hY["a"],"oxd-buzz-post-input":jY["a"],"share-video-modal":_Y,"share-photo-modal":FY},props:{employee:{type:Object,required:!0}},emits:["refresh"],setup(e,t){const o=Object(a["ref"])(null),{saveSuccess:l}=At(),n=Object(a["ref"])(!1),r=Object(a["ref"])(!1),i=[co(65530)],c=new K(window.appGlobal.baseUrl,"api/v2/buzz/posts"),d=()=>{null!==o.value&&""!==String(o.value).trim()&&c.create({type:"text",text:o.value}).then(()=>{l(),o.value=null,t.emit("refresh")})},s=()=>{r.value=!0},m=()=>{n.value=!0},u=e=>{n.value=!1,e&&(l(),t.emit("refresh"))},b=e=>{r.value=!1,e&&(l(),t.emit("refresh"))};return{post:o,rules:i,onSubmit:d,showVideoModal:n,showPhotoModal:r,onCloseVideoModal:u,onClosePhotoModal:b,onClickSharePhotos:s,onClickShareVideos:m}}};o("e0b5");const RY=y()(zY,[["render",pY],["__scopeId","data-v-0c6d7236"]]);var GY=RY;const QY={class:"orangehrm-buzz-post-actions"};function HY(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("post-like"),c=Object(a["resolveComponent"])("post-comment"),d=Object(a["resolveComponent"])("post-share");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",QY,[Object(a["createVNode"])(i,{like:o.post.liked,onClick:t[0]||(t[0]=e=>l.onClickAction("like"))},null,8,["like"]),Object(a["createVNode"])(c,{onClick:t[1]||(t[1]=e=>l.onClickAction("comment"))}),Object(a["createVNode"])(d,{onClick:t[2]||(t[2]=e=>l.onClickAction("share"))})])}const WY=Object(a["createStaticVNode"])('<g id="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)" data-v-45195491><path id="heart" class="orangehrm-heart-icon-path" d="M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z" fill="#64728c" data-v-45195491></path><circle class="orangehrm-heart-icon-circle" fill="#E2264D" opacity="0" cx="29.5" cy="29.5" r="1.5" data-v-45195491></circle><g class="orangehrm-heart-icon-group7" opacity="0" transform="translate(7 6)" data-v-45195491><circle class="orangehrm-heart-icon-oval1" fill="#9CD8C3" cx="2" cy="6" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval2" fill="#8CE8C3" cx="5" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group6" opacity="0" transform="translate(0 28)" data-v-45195491><circle class="orangehrm-heart-icon-oval1" fill="#CC8EF5" cx="2" cy="7" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval2" fill="#91D2FA" cx="3" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group3" opacity="0" transform="translate(52 28)" data-v-45195491><circle class="orangehrm-heart-icon-oval2" fill="#9CD8C3" cx="2" cy="7" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval1" fill="#8CE8C3" cx="4" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group2" opacity="0" transform="translate(44 6)" data-v-45195491><circle class="orangehrm-heart-icon-oval2" fill="#CC8EF5" cx="5" cy="6" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval1" fill="#CC8EF5" cx="2" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group5" opacity="0" transform="translate(14 50)" data-v-45195491><circle class="orangehrm-heart-icon-oval1" fill="#91D2FA" cx="6" cy="5" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval2" fill="#91D2FA" cx="2" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group4" opacity="0" transform="translate(35 50)" data-v-45195491><circle class="orangehrm-heart-icon-oval1" fill="#F48EA7" cx="6" cy="5" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval2" fill="#F48EA7" cx="2" cy="2" r="2" data-v-45195491></circle></g><g class="orangehrm-heart-icon-group1" opacity="0" transform="translate(24)" data-v-45195491><circle class="orangehrm-heart-icon-oval1" fill="#9FC7FA" cx="2.5" cy="3" r="2" data-v-45195491></circle><circle class="orangehrm-heart-icon-oval2" fill="#9FC7FA" cx="7.5" cy="2" r="2" data-v-45195491></circle></g></g>',1),JY=[WY];function YY(e,t,o,l,n,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])({"orangehrm-like-animation":o.like})},[(Object(a["openBlock"])(),Object(a["createElementBlock"])("svg",{id:"heart-svg",class:"orangehrm-heart-icon",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg",onClick:t[0]||(t[0]=(...t)=>e.addLike&&e.addLike(...t))},JY))],2)}var XY={name:"PostLikeButton",props:{like:{type:Boolean,required:!0}}};o("0bfc");const KY=y()(XY,[["render",YY],["__scopeId","data-v-45195491"]]);var ZY=KY;function eX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{name:"share-fill","with-container":!0})}var tX={name:"PostShareButton"};const oX=y()(tX,[["render",eX]]);var aX=oX;function lX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{name:"chat-text-fill","with-container":!0})}var nX={name:"PostCommentButton"};const rX=y()(nX,[["render",lX]]);var iX=rX,cX={name:"PostActions",components:{"post-like":ZY,"post-share":aX,"post-comment":iX},props:{post:{type:Object,required:!0}},emits:["like","comment","share"],setup(e,t){let o=!1;const{updatePostLike:a}=VW(new K(window.appGlobal.baseUrl,"")),l=l=>{switch(l){case"comment":t.emit("comment");break;case"share":t.emit("share");break;case"like":o||(o=!0,a(e.post.id,e.post.liked).then(()=>{o=!1,t.emit("like")}));break;default:break}};return{onClickAction:l}}};o("77d5");const dX=y()(cX,[["render",HY],["__scopeId","data-v-d8622bd0"]]);var sX=dX;const mX={key:2};function uX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-buzz-post-input"),c=Object(a["resolveComponent"])("video-frame"),d=Object(a["resolveComponent"])("photo-frame"),s=Object(a["resolveComponent"])("oxd-text"),m=Object(a["resolveComponent"])("photo-input"),u=Object(a["resolveComponent"])("oxd-input-field"),b=Object(a["resolveComponent"])("post-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(b,{loading:e.isLoading,title:e.$t("buzz.edit_post"),"action-label":e.$t("buzz.post"),onSubmit:l.onSubmit,onClose:t[3]||(t[3]=t=>e.$emit("close",!1))},{header:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text},null,8,["modelValue","rules"])]),default:Object(a["withCtx"])(()=>[o.data.originalPost?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},["video"===o.data.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,"video-src":o.data.video.link},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0),"photo"===o.data.type?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,media:o.data.photoIds},null,8,["media"])):Object(a["createCommentVNode"])("",!0),"video"===o.data.type||"photo"===o.data.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",mX)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,{tag:"p",class:"orangehrm-buzz-share-employee"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.employee),1)]),_:1}),Object(a["createVNode"])(s,{tag:"p",class:"orangehrm-buzz-share-date"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.dateTime),1)]),_:1}),l.originalPost.text?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:3,tag:"p",class:"orangehrm-buzz-share-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.text),1)]),_:1})):Object(a["createCommentVNode"])("",!0)],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},["text"===e.post.type||"photo"===e.post.type?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,modelValue:e.post.photos,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.photos=t)},null,8,["modelValue"])):Object(a["createCommentVNode"])("",!0),"video"===e.post.type?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1,modelValue:e.post.video,"onUpdate:modelValue":t[2]||(t[2]=t=>e.post.video=t),type:"textarea",rules:l.rules.url,label:e.$t("buzz.video_url")},null,8,["modelValue","rules","label"])):Object(a["createCommentVNode"])("",!0),e.embedURL?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:2,"video-src":e.embedURL},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0)],64))]),_:1},8,["loading","title","action-label","onSubmit"])}var bX={name:"EditPostModal",components:{"post-modal":xY,"photo-frame":WJ,"photo-input":PY,"video-frame":CW,"oxd-buzz-post-input":jY["a"]},props:{data:{type:Object,required:!0}},emits:["close"],setup(e,t){var o,l;const{$t:n}=Ge(),{locale:r}=He(),{jsDateFormat:i}=ie(),{$tEmpName:c}=za(),d=new K(window.appGlobal.baseUrl,""),{updateSuccess:s}=At(),{updatePost:m,updateSharedPost:u}=VW(d),b=Object(a["reactive"])({post:{text:e.data.text,type:e.data.type,photos:e.data.photoIds||[],video:(null===(o=e.data.video)||void 0===o?void 0:o.link)||null},isLoading:!1,embedURL:(null===(l=e.data.video)||void 0===l?void 0:l.link)||null}),p=()=>{let o="text";b.isLoading=!0,b.post.photos.length>0&&(o="photo"),b.post.video&&(o="video"),new Promise(t=>{e.data.originalPost?t(u(e.data.id,b.post.text)):t(m(e.data.post.id,{type:o,text:b.post.text,link:b.post.video,photos:b.post.photos.filter(e=>"object"===typeof e),deletedPhotos:(e.data.photoIds||[]).filter(e=>-1===b.post.photos.findIndex(t=>t===e))}))}).then(e=>{s(),t.emit("close",e.data)})},h={url:[io,Object(rl["a"])(async e=>{if(!e)return!0;b.embedURL=null;const t=await d.request({method:"GET",url:"api/v2/buzz/validation/links",params:{url:e}}),{data:o}=t.data;return!0===(null===o||void 0===o?void 0:o.valid)?(b.embedURL=o.embeddedURL,!0):n("general.invalid_video_url_message")},500)],text:[co(65530),t=>"video"===e.data.type||b.post.photos.length>0||io(t)]},j=Object(a["computed"])(()=>{var t,o;const a=null===(t=e.data.originalPost)||void 0===t?void 0:t.text,l=null===(o=e.data.originalPost)||void 0===o?void 0:o.employee,{createdDate:n,createdTime:d}=e.data.originalPost,s=xe(`${n} ${d} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:a,employee:c(l,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:we(s,i+" HH:mm",{locale:r})}});return{rules:h,onSubmit:p,originalPost:j,...Object(a["toRefs"])(b)}}};o("d757");const pX=y()(bX,[["render",uX],["__scopeId","data-v-6e884f8e"]]);var hX=pX;function jX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("post-actions-pill"),c=Object(a["resolveComponent"])("photo-viewer"),d=Object(a["resolveComponent"])("post-details");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(l.layoutClasses)},[l.showPhoto?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,post:o.post,"photo-index":o.photoIndex,onClose:t[1]||(t[1]=t=>e.$emit("close",!1))},{default:Object(a["withCtx"])(()=>[o.mobile?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,post:o.post,onLike:t[0]||(t[0]=t=>e.$emit("like")),onComment:l.onClickComment},null,8,["post","onComment"])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["post","photo-index"])):Object(a["createCommentVNode"])("",!0),l.showDetails?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,post:o.post,mobile:o.mobile,onLike:t[2]||(t[2]=t=>e.$emit("like")),onClose:t[3]||(t[3]=t=>e.$emit("close",!1)),onCreateComment:t[4]||(t[4]=t=>e.$emit("createComment",t)),onDeleteComment:t[5]||(t[5]=t=>e.$emit("deleteComment",t))},null,8,["post","mobile"])):Object(a["createCommentVNode"])("",!0)],2)}const OX={class:"orangehrm-photo-viewer"},gX=["src"],vX=["src"],fX={key:0,class:"orangehrm-photo-viewer-controls"},yX={class:"orangehrm-photo-viewer-actions"};function CX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",OX,[Object(a["createElementVNode"])("img",{class:"orangehrm-photo-viewer-background",alt:"photo",src:l.selectedPhoto},null,8,gX),Object(a["createElementVNode"])("img",{class:"orangehrm-photo-viewer-photo",alt:"background",src:l.selectedPhoto},null,8,vX),o.post.photoIds.length>1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fX,[Object(a["createVNode"])(i,{class:"orangehrm-photo-viewer-icon actions",name:"chevron-left",disabled:0===e.index,onClick:l.onClickPreviousPhoto},null,8,["disabled","onClick"]),Object(a["createVNode"])(i,{class:"orangehrm-photo-viewer-icon actions",name:"chevron-right",disabled:e.index===o.post.photoIds.length-1,onClick:l.onClickNextPhoto},null,8,["disabled","onClick"])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",yX,[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)]),Object(a["createVNode"])(i,{class:"orangehrm-photo-viewer-close actions",name:"x",onClick:l.onClickClose},null,8,["onClick"])])}var VX={name:"PhotoViewer",props:{post:{type:Object,required:!0},photoIndex:{type:Number,required:!0}},emits:["close"],setup(e,t){const o=Object(a["reactive"])({index:e.photoIndex}),l=()=>o.index++,n=()=>o.index--,r=Object(a["computed"])(()=>{const t=e.post.photoIds[o.index];return`${window.appGlobal.baseUrl}/buzz/photo/${t}`}),i=e=>{e.key&&"Escape"!==e.key||t.emit("close")};return window.addEventListener("keydown",i),Object(a["onBeforeUnmount"])(()=>window.removeEventListener("keydown",i)),{onClickClose:i,selectedPhoto:r,onClickNextPhoto:l,onClickPreviousPhoto:n,...Object(a["toRefs"])(o)}}};o("5b2b");const xX=y()(VX,[["render",CX],["__scopeId","data-v-0dc3c4a2"]]);var wX=xX;const NX={class:"orangehrm-post-details"},_X={class:"orangehrm-post-details-header"},kX={class:"orangehrm-post-details-header-text"},SX={class:"orangehrm-post-details-actions"};function DX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-icon-button"),c=Object(a["resolveComponent"])("profile-image"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("oxd-divider"),m=Object(a["resolveComponent"])("post-like"),u=Object(a["resolveComponent"])("post-stats"),b=Object(a["resolveComponent"])("post-comment-container");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",NX,[Object(a["createVNode"])(i,{class:"orangehrm-post-details-close",name:"x","with-container":!1,onClick:l.onClickClose},null,8,["onClick"]),Object(a["createElementVNode"])("div",_X,[Object(a["createVNode"])(c,{employee:o.post.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",kX,[Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-details-emp-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeFullName),1)]),_:1}),Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-details-time"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.postDateTime),1)]),_:1})])]),o.post.text?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,tag:"p",class:Object(a["normalizeClass"])(l.postClasses)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.post.text),1)]),_:1},8,["class"])):Object(a["createCommentVNode"])("",!0),Object(a["withDirectives"])(Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-details-readmore",onClick:l.onClickReadMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.read_more")),1)]),_:1},8,["onClick"]),[[a["vShow"],!l.readMore]]),Object(a["createVNode"])(s),Object(a["createElementVNode"])("div",SX,[Object(a["createVNode"])(m,{like:o.post.liked,onClick:l.onClickLike},null,8,["like","onClick"]),Object(a["createVNode"])(u,{post:o.post,mobile:o.mobile},null,8,["post","mobile"])]),Object(a["createVNode"])(s),Object(a["createVNode"])(b,{"post-id":o.post.id,employee:o.post.employee,onCreate:t[0]||(t[0]=t=>e.$emit("createComment",t)),onDelete:t[1]||(t[1]=t=>e.$emit("deleteComment",t))},null,8,["post-id","employee"])])}const $X={class:"orangehrm-buzz-comment"},EX={class:"orangehrm-buzz-comment-add"},TX={key:0};function BX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-form"),s=Object(a["resolveComponent"])("post-comment"),m=Object(a["resolveComponent"])("oxd-text"),u=Object(a["resolveComponent"])("delete-confirmation"),b=Object(a["resolveDirective"])("autofocus");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$X,[Object(a["createElementVNode"])("div",EX,[Object(a["createVNode"])(i,{employee:o.employee},null,8,["employee"]),Object(a["createVNode"])(d,{onSubmitValid:l.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(c,{modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.text=t),placeholder:e.$t("buzz.write_your_comment")},null,8,["modelValue","placeholder"]),[[b]])]),_:1},8,["onSubmitValid"])]),e.total>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",TX)):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.comments,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:e,data:e,"post-id":o.postId,onEdit:l.onEditComment,onLike:l.onLikeComment,onDelete:l.onDeleteComment},null,8,["data","post-id","onEdit","onLike","onDelete"]))),128)),e.total>4?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1,tag:"p",class:"orangehrm-buzz-comment-readmore",onClick:l.onClickShowMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.showAllComments?e.$t("general.show_less"):e.$t("general.show_more")),1)]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(u,{ref:"deleteDialog",message:e.$t("buzz.post_delete_confirmation_message")},null,8,["message"])])}function IX(){const e={mounted(e){var t;e&&(null===(t=e.querySelector("input"))||void 0===t||t.focus())}};return{autofocus:e}}const LX={class:"orangehrm-comment-wrapper"},UX={class:"orangehrm-post-comment"},AX={key:1,class:"orangehrm-post-comment-area"},PX={key:0,class:"orangehrm-post-comment-stats"},qX={key:2,class:"orangehrm-post-comment-action-area"};function MX(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-input-field"),d=Object(a["resolveComponent"])("oxd-text"),s=Object(a["resolveComponent"])("oxd-form"),m=Object(a["resolveComponent"])("oxd-icon"),u=Object(a["resolveDirective"])("autofocus");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",LX,[Object(a["createVNode"])(i,{employee:o.data.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",UX,[e.edit?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,onSubmitValid:l.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(c,{modelValue:e.comment,"onUpdate:modelValue":t[0]||(t[0]=t=>e.comment=t),rules:l.rules,onKeydown:Object(a["withKeys"])(Object(a["withModifiers"])(l.onCancelComment,["stop"]),["esc"])},null,8,["modelValue","rules","onKeydown"]),[[u]]),Object(a["createVNode"])(d,{tag:"span"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.press_esc_to"))+" ",1)]),_:1}),Object(a["createVNode"])(d,{tag:"span",class:"orangehrm-post-comment-action --cancel",onClick:l.onCancelComment},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["onSubmitValid"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",AX,[Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-comment-employee"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeFullName),1)]),_:1}),Object(a["createVNode"])(d,{tag:"span",class:Object(a["normalizeClass"])({"orangehrm-post-comment-text":!0,"--truncate":!1===e.readMore})},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.comment),1)]),_:1},8,["class"]),Object(a["withDirectives"])(Object(a["createVNode"])(d,{tag:"span",class:"orangehrm-post-comment-readmore",onClick:l.onClickReadMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.read_more")),1)]),_:1},8,["onClick"]),[[a["vShow"],!e.readMore]]),Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-comment-datetime"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.dateTime),1)]),_:1}),o.data.comment.numOfLikes>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",PX,[Object(a["createVNode"])(m,{name:"heart-fill",class:"orangehrm-post-comment-stats-icon"}),Object(a["createVNode"])(d,{tag:"p",class:"orangehrm-post-comment-stats-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.data.comment.numOfLikes),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)])),e.edit?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qX,[Object(a["createVNode"])(d,{tag:"p",class:Object(a["normalizeClass"])({"orangehrm-post-comment-action":!0,"--liked":!0===o.data.comment.liked}),onClick:l.onClickLike},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.like")),1)]),_:1},8,["class","onClick"]),o.data.permission.canUpdate?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,tag:"p",class:"orangehrm-post-comment-action",onClick:l.onClickEdit},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.edit")),1)]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),o.data.permission.canDelete?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,tag:"p",class:"orangehrm-post-comment-action",onClick:l.onClickDelete},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("performance.delete")),1)]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)]))])])}var FX={name:"PostComment",components:{"oxd-icon":Jo["a"],"profile-image":SW},directives:{...IX()},props:{postId:{type:Number,required:!0},data:{type:Object,required:!0}},emits:["edit","delete","like"],setup(e,t){let o=!1;const{locale:l}=He(),{jsDateFormat:n}=ie(),{$tEmpName:r}=za(),i=[io,co(65530)],c=Object(a["reactive"])({edit:!1,comment:e.data.comment.text,readMore:new String(e.data.comment.text).length<500}),{updatePostComment:d,updateCommentLike:s}=VW(new K(window.appGlobal.baseUrl,"")),m=()=>{d(e.postId,e.data.comment.id,c.comment).then(()=>{c.edit=!1,t.emit("edit",e.data.comment.id)})},u=()=>{c.edit=!0},b=()=>{o||(o=!0,s(e.data.comment.id,e.data.comment.liked).then(()=>{o=!1,t.emit("like",e.data.comment.id)}))},p=()=>{t.emit("delete",e.data.comment.id)},h=()=>{c.readMore=!c.readMore},j=()=>{c.comment=e.data.comment.text,c.edit=!1},O=Object(a["computed"])(()=>{const{createdDate:t,createdTime:o}=e.data.comment,a=xe(`${t} ${o} +00:00`,"yyyy-MM-dd HH:mm xxx");return we(a,n+" HH:mm",{locale:l})}),g=Object(a["computed"])(()=>r(e.data.employee,{includeMiddle:!0,excludePastEmpTag:!1}));return{rules:i,dateTime:O,onSubmit:m,onClickLike:b,onClickEdit:u,onClickDelete:p,onClickReadMore:h,onCancelComment:j,employeeFullName:g,...Object(a["toRefs"])(c)}}};o("b2ae");const zX=y()(FX,[["render",MX],["__scopeId","data-v-86db3496"]]);var RX=zX,GX={name:"PostCommentContainer",components:{"post-comment":RX,"profile-image":SW,"delete-confirmation":Yt},directives:{...IX()},props:{postId:{type:Number,required:!0},employee:{type:Object,required:!0}},emits:["create","delete"],setup(e,t){const o=Object(a["ref"])(),l=Object(a["reactive"])({text:null,total:0,comments:[],showAllComments:!1}),{saveSuccess:n,updateSuccess:r,deleteSuccess:i}=At(),{fetchPostComments:c,savePostComment:d,deletePostComment:s}=VW(new K(window.appGlobal.baseUrl,"")),m=()=>{c(e.postId,l.showAllComments?0:4,!0).then(e=>{const{data:t,meta:o}=e.data;l.total=o.total,l.comments=[...t]})},u=()=>{l.text&&d(e.postId,l.text).then(()=>{l.text=null,m(),n(),t.emit("create")})},b=()=>{l.showAllComments=!l.showAllComments,m()},p=()=>{m(),r()},h=a=>{o.value.showDialog().then(o=>{"ok"===o&&s(e.postId,a).then(()=>{m(),i(),t.emit("delete")})})},j=()=>{m()};return Object(a["onBeforeMount"])(()=>m()),{onSubmit:u,deleteDialog:o,onLikeComment:j,onEditComment:p,onClickShowMore:b,onDeleteComment:h,...Object(a["toRefs"])(l)}}};o("5430");const QX=y()(GX,[["render",BX],["__scopeId","data-v-44068297"]]);var HX=QX,WX={name:"PostDetails",components:{"post-stats":sY,"post-like":ZY,"profile-image":SW,"post-comment-container":HX},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1}},emits:["like","close","createComment","deleteComment"],setup(e,t){var o;let l=!1;const{locale:n}=He(),{jsDateFormat:r}=ie(),{$tEmpName:i}=za(),c=Object(a["ref"])(new String(null===(o=e.post)||void 0===o?void 0:o.text).length<500),{updatePostLike:d}=VW(new K(window.appGlobal.baseUrl,"")),s=Object(a["computed"])(()=>{const{createdDate:t,createdTime:o}=e.post,a=xe(`${t} ${o} +00:00`,"yyyy-MM-dd HH:mm xxx");return we(a,r+" HH:mm",{locale:n})}),m=Object(a["computed"])(()=>i(e.post.employee,{includeMiddle:!0,excludePastEmpTag:!1})),u=()=>t.emit("close"),b=()=>{l||(l=!0,d(e.post.id,e.post.liked).then(()=>{l=!1,t.emit("like")}))},p=Object(a["computed"])(()=>({"orangehrm-post-details-text":!0,"--truncate":!1===c.value})),h=()=>{c.value=!c.value};return{readMore:c,postClasses:p,onClickLike:b,onClickClose:u,postDateTime:s,onClickReadMore:h,employeeFullName:m}}};o("332b");const JX=y()(WX,[["render",DX],["__scopeId","data-v-00b1f153"]]);var YX=JX;const XX={class:"orangehrm-buzz-pill"},KX={class:"orangehrm-buzz-pill-actions"},ZX={class:"orangehrm-buzz-pill-stats"},eK={class:"orangehrm-buzz-pill-stats-likes"},tK={class:"orangehrm-buzz-pill-stats-other"};function oK(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("post-like"),c=Object(a["resolveComponent"])("post-comment"),d=Object(a["resolveComponent"])("oxd-icon"),s=Object(a["resolveComponent"])("oxd-text");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",XX,[Object(a["createElementVNode"])("div",KX,[Object(a["createVNode"])(i,{like:o.post.liked,onClick:l.onClickLike},null,8,["like","onClick"]),Object(a["createVNode"])(c,{onClick:l.onClickComment},null,8,["onClick"])]),Object(a["createElementVNode"])("div",ZX,[Object(a["createElementVNode"])("div",eK,[Object(a["createVNode"])(d,{name:"heart-fill"}),Object(a["createVNode"])(s,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.n_like",{likesCount:o.post.stats.numOfLikes})),1)]),_:1})]),Object(a["createElementVNode"])("div",tK,[Object(a["createVNode"])(s,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.combinedPostStats),1)]),_:1})])])])}var aK={name:"PostActionsPill",components:{"oxd-icon":Jo["a"],"post-like":ZY,"post-comment":iX},props:{post:{type:Object,required:!0}},emits:["like","comment"],setup(e,t){let o=!1;const{updatePostLike:a}=VW(new K(window.appGlobal.baseUrl,"")),l=()=>{t.emit("comment")},n=()=>{o||(o=!0,a(e.post.id,e.post.liked).then(()=>{o=!1,t.emit("like")}))};return{onClickLike:n,onClickComment:l}},computed:{combinedPostStats(){var e,t,o;const a=this.$t("buzz.n_comment",{commentCount:(null===(e=this.post.stats)||void 0===e?void 0:e.numOfComments)||0}),l=this.$t("buzz.n_share",{shareCount:(null===(t=this.post.stats)||void 0===t?void 0:t.numOfShares)||0});return null===(null===(o=this.post.stats)||void 0===o?void 0:o.numOfShares)?a:`${a}, ${l}`}}};o("659a");const lK=y()(aK,[["render",oK],["__scopeId","data-v-cdae0d0c"]]);var nK=lK,rK={name:"PhotoCarousel",components:{"photo-viewer":wX,"post-details":YX,"post-actions-pill":nK},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1},photoIndex:{type:Number,required:!0}},emits:["like","close","createComment","deleteComment"],setup(e){const t=Object(a["reactive"])({view:"photo",index:e.photoIndex}),o=()=>t.index++,l=()=>t.index--,n=()=>t.view="details",r=Object(a["computed"])(()=>e.post.photoIds[t.index]),i=Object(a["computed"])(()=>({"orangehrm-photo-carousel":!0,"--web":!1===e.mobile})),c=Object(a["computed"])(()=>!1===e.mobile||"photo"===t.view),d=Object(a["computed"])(()=>!1===e.mobile||"details"===t.view);return{showPhoto:c,showDetails:d,layoutClasses:i,selectedPhoto:r,onClickComment:n,onClickNextPhoto:o,onClickPreviousPhoto:l,...Object(a["toRefs"])(t)}}};o("013d");const iK=y()(rK,[["render",jX],["__scopeId","data-v-052f1294"]]);var cK=iK;const dK={class:"orangehrm-buzz-post"},sK={class:"orangehrm-buzz-post-header"},mK={class:"orangehrm-buzz-post-header-details"},uK={class:"orangehrm-buzz-post-header-text"},bK={key:0,class:"orangehrm-buzz-post-header-config"},pK={class:"orangehrm-buzz-post-body"},hK={class:"orangehrm-buzz-post-footer"};function jK(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("profile-image"),c=Object(a["resolveComponent"])("oxd-text"),d=Object(a["resolveComponent"])("oxd-icon-button"),s=Object(a["resolveComponent"])("oxd-icon"),m=Object(a["resolveComponent"])("oxd-dropdown"),u=Object(a["resolveComponent"])("oxd-divider"),b=Object(a["resolveComponent"])("oxd-sheet");return Object(a["openBlock"])(),Object(a["createBlock"])(b,{gutters:!1,type:"white",class:"orangehrm-buzz"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",dK,[Object(a["createElementVNode"])("div",sK,[Object(a["createElementVNode"])("div",mK,[Object(a["createVNode"])(i,{employee:o.post.employee},null,8,["employee"]),Object(a["createElementVNode"])("div",uK,[Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-post-emp-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.employeeFullName),1)]),_:1}),Object(a["createVNode"])(c,{tag:"p",class:"orangehrm-buzz-post-time"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.postDateTime),1)]),_:1})])]),o.post.permission.canUpdate||o.post.permission.canDelete?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bK,[Object(a["createVNode"])(m,null,{content:Object(a["withCtx"])(()=>[o.post.permission.canDelete?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:0,class:"orangehrm-buzz-post-header-config-item",onClick:t[0]||(t[0]=t=>e.$emit("delete",t))},[Object(a["createVNode"])(s,{name:"trash"}),Object(a["createVNode"])(c,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.delete_post")),1)]),_:1})])):Object(a["createCommentVNode"])("",!0),o.post.permission.canUpdate?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:"orangehrm-buzz-post-header-config-item",onClick:t[1]||(t[1]=t=>e.$emit("edit",t))},[Object(a["createVNode"])(s,{name:"pencil"}),Object(a["createVNode"])(c,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.edit_post")),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{name:"three-dots","with-container":!0})]),_:1})])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(u)]),Object(a["createElementVNode"])("div",pK,[Object(a["renderSlot"])(e.$slots,"content",{},void 0,!0),Object(a["renderSlot"])(e.$slots,"body",{},void 0,!0)]),Object(a["createElementVNode"])("div",hK,[Object(a["renderSlot"])(e.$slots,"actionButton",{},void 0,!0),Object(a["renderSlot"])(e.$slots,"postStats",{},void 0,!0)]),Object(a["renderSlot"])(e.$slots,"comments",{},void 0,!0)]),_:3})}var OK=o("3ec4"),gK={name:"PostContainer",components:{"oxd-icon":Jo["a"],"oxd-sheet":kl["a"],"oxd-dropdown":OK["a"],"profile-image":SW},props:{post:{type:Object,required:!0}},emits:["edit","delete"],setup(e){const{locale:t}=He(),{jsDateFormat:o}=ie(),{$tEmpName:l}=za(),n=Object(a["computed"])(()=>l(e.post.employee,{includeMiddle:!0,excludePastEmpTag:!1})),r=Object(a["computed"])(()=>{const{createdDate:a,createdTime:l}=e.post,n=xe(`${a} ${l} +00:00`,"yyyy-MM-dd HH:mm xxx");return we(n,o+" HH:mm",{locale:t})});return{postDateTime:r,employeeFullName:n}}};o("9054");const vK=y()(gK,[["render",jK],["__scopeId","data-v-3e0b9c58"]]);var fK=vK;const yK={key:2};function CK(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-buzz-post-input"),c=Object(a["resolveComponent"])("video-frame"),d=Object(a["resolveComponent"])("photo-frame"),s=Object(a["resolveComponent"])("oxd-text"),m=Object(a["resolveComponent"])("post-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(m,{loading:e.isLoading,title:e.$t("buzz.share_post"),onSubmit:l.onSubmit,onClose:t[1]||(t[1]=t=>e.$emit("close",!1))},{header:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])]),default:Object(a["withCtx"])(()=>["video"===o.data.type?(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:0,"video-src":o.data.video.link},null,8,["video-src"])):Object(a["createCommentVNode"])("",!0),"photo"===o.data.type?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,media:o.data.photoIds},null,8,["media"])):Object(a["createCommentVNode"])("",!0),"video"===o.data.type||"photo"===o.data.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("br",yK)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(s,{tag:"p",class:"orangehrm-buzz-share-employee"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.employee),1)]),_:1}),Object(a["createVNode"])(s,{tag:"p",class:"orangehrm-buzz-share-date"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.dateTime),1)]),_:1}),l.originalPost.text?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:3,tag:"p",class:"orangehrm-buzz-share-text"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.originalPost.text),1)]),_:1})):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading","title","onSubmit"])}var VK={name:"SharePostModal",components:{"post-modal":xY,"photo-frame":WJ,"video-frame":CW,"oxd-buzz-post-input":jY["a"]},props:{data:{type:Object,required:!0}},emits:["close"],setup(e,t){const{locale:o}=He(),{saveSuccess:l}=At(),{jsDateFormat:n}=ie(),{$tEmpName:r}=za(),i={text:[co(65530)]},c=new K(window.appGlobal.baseUrl,"api/v2/buzz/shares"),d=Object(a["reactive"])({post:{text:null},isLoading:!1}),s=()=>{d.isLoading=!0,c.create({text:d.post.text,shareId:e.data.id}).then(()=>{l(),t.emit("close",!0)})},m=Object(a["computed"])(()=>{var t,a;const l=(null===(t=e.data.originalPost)||void 0===t?void 0:t.text)||e.data.text,i=(null===(a=e.data.originalPost)||void 0===a?void 0:a.employee)||e.data.employee,{createdDate:c,createdTime:d}=e.data.originalPost||e.data,s=xe(`${c} ${d} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:l,employee:r(i,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:we(s,n+" HH:mm",{locale:o})}});return{rules:i,onSubmit:s,originalPost:m,...Object(a["toRefs"])(d)}}};o("ee84");const xK=y()(VK,[["render",CK],["__scopeId","data-v-f1aa6464"]]);var wK=xK,NK={name:"NewsFeed",components:{"post-body":XJ,"post-stats":sY,"create-post":GY,"post-actions":sX,"oxd-loading-spinner":Z["a"],"photo-carousel":cK,"post-container":fK,"edit-post-modal":hX,"share-post-modal":wK,"post-comment-container":HX,"delete-confirmation":Yt},props:{employee:{type:Object,required:!0},sortField:{type:String,required:!0},mobile:{type:Boolean,default:!1}},setup(e){const t=10,o=Object(a["ref"])(),{deleteSuccess:l}=At(),{fetchPosts:n,deletePost:r}=VW(new K(window.appGlobal.baseUrl,"")),i=window.appGlobal.baseUrl+"/../images/buzz_no_posts.svg",c=Object(a["reactive"])({total:0,offset:0,posts:[],isLoading:!1,showEditModal:!1,editModalState:null,showShareModal:!1,shareModalState:null,showPhotoCarousel:!1,photoCarouselState:null}),d=()=>{c.isLoading=!0,n(t,c.offset,"DESC",e.sortField).then(e=>{const{data:t,meta:o}=e.data;c.total=o.total||0,Array.isArray(t)&&(c.posts=[...c.posts,...t])}).finally(()=>c.isLoading=!1)};Sz(()=>{c.posts.length>=c.total||(c.offset+=t,d())});const s=e=>{c.posts[e].liked=!c.posts[e].liked,c.posts[e].liked?c.posts[e].stats.numOfLikes++:c.posts[e].stats.numOfLikes--},m=e=>{c.showEditModal=!0,c.editModalState={postIndex:e,post:c.posts[e]},document.body.style.overflow="hidden"},u=e=>{c.showShareModal=!0,c.shareModalState=c.posts[e],document.body.style.overflow="hidden"},b=e=>{c.posts[e].showComments?c.posts[e].showComments=!1:c.posts[e].showComments=!0},p=()=>{c.posts=[],c.offset=0,d()},h=(e,t)=>{c.photoCarouselState={postIndex:t,photoIndex:e,post:c.posts[t]},c.showPhotoCarousel=!0,document.body.style.overflow="hidden"},j=()=>{c.showPhotoCarousel=!1,c.photoCarouselState=null,document.body.style.overflow="auto"},O=e=>{c.showShareModal=!1,c.shareModalState=null,document.body.style.overflow="auto",e&&p()},g=e=>{const{data:t}=e;t&&(c.posts[c.editModalState.postIndex]={...t}),c.showEditModal=!1,c.editModalState=null,document.body.style.overflow="auto"},v=e=>{o.value.showDialog().then(t=>{"ok"===t&&r(c.posts[e].id).then(()=>{p(),l()})})},f=e=>{c.posts[e].stats.numOfComments++},y=e=>{c.posts[e].stats.numOfComments--};return Object(a["onBeforeMount"])(()=>d()),Object(a["watch"])(()=>e.sortField,()=>{c.posts=[],c.offset=0,d()}),{onLike:s,onEdit:m,onShare:u,onDelete:v,resetFeed:p,onComment:b,noPostsPic:i,deleteDialog:o,onSelectPhoto:h,onCreateComment:f,onDeleteComment:y,onCloseEditModal:g,onCloseShareModal:O,onClosePhotoCarousel:j,...Object(a["toRefs"])(c)}}};o("145d");const _K=y()(NK,[["render",UJ],["__scopeId","data-v-64aba1b2"]]);var kK=_K,SK=o("15f9");const DK={class:"orangehrm-post-filters"};function $K(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",DK,[Object(a["createVNode"])(i,{"icon-name":"clock-history",class:"orangehrm-post-filters-button",label:r.mostRecentButtonLabel,"display-type":r.mostRecentButtonType,onClick:t[0]||(t[0]=t=>e.$emit("updatePriority","share.createdAtUtc"))},null,8,["label","display-type"]),Object(a["createVNode"])(i,{"icon-name":"heart-fill",class:"orangehrm-post-filters-button",label:r.mostLikesButtonLabel,"display-type":r.mostLikesButtonType,onClick:t[1]||(t[1]=t=>e.$emit("updatePriority","share.numOfLikes"))},null,8,["label","display-type"]),Object(a["createVNode"])(i,{"icon-name":"chat-dots-fill",class:"orangehrm-post-filters-button",label:r.mostCommentsButtonLabel,"display-type":r.mostCommentsButtonType,onClick:t[2]||(t[2]=t=>e.$emit("updatePriority","share.numOfComments"))},null,8,["label","display-type"])])}var EK={name:"PostFilters",props:{filter:{type:String,required:!0},mobile:{type:Boolean,default:!1}},emits:["updatePriority"],computed:{isMostRecent(){return"share.createdAtUtc"===this.filter},isMostLikes(){return"share.numOfLikes"===this.filter},isMostComments(){return"share.numOfComments"===this.filter},mostRecentButtonType(){return this.isMostRecent?"label-warn":"text"},mostLikesButtonType(){return this.isMostLikes?"label-warn":"text"},mostCommentsButtonType(){return this.isMostComments?"label-warn":"text"},mostRecentButtonLabel(){return this.mobile?this.isMostRecent?this.$t("buzz.most_recent_posts"):"":this.$t("buzz.most_recent_posts")},mostLikesButtonLabel(){return this.mobile?this.isMostLikes?this.$t("buzz.most_liked_posts"):"":this.$t("buzz.most_liked_posts")},mostCommentsButtonLabel(){return this.mobile?this.isMostComments?this.$t("buzz.most_commented_posts"):"":this.$t("buzz.most_commented_posts")}}};o("043c");const TK=y()(EK,[["render",$K],["__scopeId","data-v-5df7d87f"]]);var BK=TK;const IK=e=>(Object(a["pushScopeId"])("data-v-5c03b7da"),e=e(),Object(a["popScopeId"])(),e),LK={class:"orangehrm-buzz-anniversary"},UK={class:"orangehrm-buzz-anniversary-profile"},AK={class:"orangehrm-buzz-anniversary-profile-details"},PK={class:"orangehrm-buzz-anniversary-duration"},qK=["src"],MK={class:"orangehrm-buzz-anniversary-durations-text"},FK=IK(()=>Object(a["createElementVNode"])("br",null,null,-1)),zK={key:0,class:"orangehrm-buzz-anniversary-nocontent"},RK=["src"],GK={key:0,class:"orangehrm-buzz-anniversary-footer"};function QK(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("profile-image");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",LK,[Object(a["createVNode"])(i,{type:"card-title",class:"orangehrm-buzz-anniversary-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("buzz.upcoming_anniversaries")),1)]),_:1}),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["orangehrm-buzz-anniversary-content",{"--show-more":n.anniversariesCount>5}])},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.anniversaries,t=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"orangehrm-buzz-anniversary-item"},[Object(a["createElementVNode"])("div",UK,[Object(a["createVNode"])(c,{employee:t},null,8,["employee"]),Object(a["createElementVNode"])("div",AK,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-anniversary-emp-name"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.empName),1)]),_:2},1024),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-anniversary-job-details"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.jobTitle),1)]),_:2},1024)])]),Object(a["createElementVNode"])("div",PK,[Object(a["createElementVNode"])("img",{alt:"year celebration",class:"orangehrm-buzz-anniversary-year-celebration",src:l.celebrationPic},null,8,qK),Object(a["createElementVNode"])("div",MK,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-anniversary-duration-years"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.anniversaryYear)+" ",1),FK,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("buzz.n_year",{yearsCount:t.anniversaryYear})),1)]),_:2},1024),Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-buzz-anniversary-duration-date"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.joinedDate),1)]),_:2},1024)])])]))),128)),r.isEmpty?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zK,[Object(a["createElementVNode"])("img",{src:l.noContentPic,alt:"No Content"},null,8,RK),Object(a["createVNode"])(i,{tag:"p"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("general.no_records_found")),1)]),_:1})])):Object(a["createCommentVNode"])("",!0)],2),n.anniversariesCount>5?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",GK,[Object(a["createVNode"])(i,{tag:"p",onClick:r.onSeeMore},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(r.isViewDetails?e.$t("general.show_more"):e.$t("general.show_less")),1)]),_:1},8,["onClick"])])):Object(a["createCommentVNode"])("",!0)])}var HK={name:"UpcomingAnniversaries",components:{"profile-image":SW},setup(){const{locale:e}=He(),{$tEmpName:t}=za(),o=window.appGlobal.baseUrl+"/../images/year_celebration.png",a=window.appGlobal.baseUrl+"/../images/buzz_no_anniversaries.png",l=new K(window.appGlobal.baseUrl,"api/v2/buzz/anniversaries");return{http:l,locale:e,noContentPic:a,celebrationPic:o,tEmpName:t}},data(){return{viewMore:!1,isLoading:!1,anniversaries:[],anniversariesCount:0}},computed:{isViewDetails(){return!this.viewMore},isEmpty(){return!this.isLoading&&0===this.anniversaries.length}},beforeMount(){this.anniversariesLimit=5,this.getAnniversaries()},methods:{onSeeMore(){this.viewMore=!this.viewMore,this.viewMore?this.anniversariesLimit=0:this.anniversariesLimit=5,this.getAnniversaries()},getAnniversaries(){this.isLoading=!0,this.http.getAll({limit:this.anniversariesLimit}).then(e=>{const{data:t,meta:o}=e.data;this.anniversaries=t.map(e=>{const{employee:t,jobTitle:o,joinedDate:a}=e;return{empNumber:t.empNumber,empName:this.tEmpName(t,{includeMiddle:!1,excludePastEmpTag:!1}),jobTitle:o.title,joinedDate:we(xe(a),"MMM dd",{locale:this.locale}),anniversaryYear:(new Date).getFullYear()-new Date(a).getFullYear()}}),this.anniversariesCount=null===o||void 0===o?void 0:o.total}).finally(()=>this.isLoading=!1)}}};o("4844");const WK=y()(HK,[["render",QK],["__scopeId","data-v-5c03b7da"]]);var JK=WK,YK={components:{"news-feed":kK,"oxd-tab-panel":BJ["a"],"post-filters":BK,"oxd-tab-container":SK["a"],"upcoming-anniversaries":JK},props:{employee:{type:Object,required:!0}},setup(){const{$t:e}=Ge(),t=Object(a["ref"])(null),o=Object(VP["c"])(),l=Object(a["ref"])("share.createdAtUtc"),n=Object(a["computed"])(()=>!(o.screenType===VP["a"]||o.screenType===VP["b"])),r=Object(a["computed"])(()=>o.windowWidth),{swipeContainer:i}=TJ(o=>{const a=o.offsetDirection;2===a&&(t.value=e("buzz.upcoming_anniversaries")),4===a&&(t.value=e("buzz.buzz_newsfeed"))}),c=e=>{e&&(l.value=e)};return{width:r,isMobile:n,sortField:l,tabSelector:t,onUpdatePriority:c,swipeRef:i}}};o("e249");const XK=y()(YK,[["render",DJ],["__scopeId","data-v-2e921ea8"]]);var KK=XK,ZK={"view-buzz":KK};const eZ=e=>(Object(a["pushScopeId"])("data-v-6935a3a5"),e=e(),Object(a["popScopeId"])(),e),tZ={class:"orangehrm-system-check"},oZ=eZ(()=>Object(a["createElementVNode"])("br",null,null,-1)),aZ=eZ(()=>Object(a["createElementVNode"])("br",null,null,-1)),lZ=eZ(()=>Object(a["createElementVNode"])("b",null,"/src/log",-1)),nZ=eZ(()=>Object(a["createElementVNode"])("b",null,"/src/log/orangehrm.log",-1));function rZ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("flex-table"),d=Object(a["resolveComponent"])("oxd-button"),s=Object(a["resolveComponent"])("oxd-form-actions"),m=Object(a["resolveComponent"])("oxd-form");return Object(a["openBlock"])(),Object(a["createBlock"])(m,{loading:n.isLoading,class:Object(a["normalizeClass"])(n.isLoading?"orangehrm-system-check-form-loading":"orangehrm-system-check-form")},{default:Object(a["withCtx"])(()=>{var t;return[Object(a["createElementVNode"])("div",tZ,[Object(a["createVNode"])(i,{tag:"h5",class:"orangehrm-system-check-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" System Check ")]),_:1}),oZ,Object(a["createVNode"])(i,{class:"orangehrm-system-check-content"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" To properly function the system, please ensure that all of the system check items listed below are green. If any are red, please take the necessary steps to fix them. ")]),_:1}),aZ,null!==(t=n.error)&&void 0!==t&&t.message?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,class:"orangehrm-system-check-content --error"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" An unexpected error occurred. Please provide the file write permission to "),lZ,Object(a["createTextVNode"])(" directory and check the error log in "),nZ,Object(a["createTextVNode"])(" file for more details. ")]),_:1})):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.items,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(c,{key:e.category,items:e.checks,"title-name":e.category},null,8,["items","title-name"]))),128)),Object(a["createVNode"])(s,{class:"orangehrm-system-check-action"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{class:"orangehrm-left-space","display-type":"ghost",label:"Re-Check",type:"submit",onClick:r.reCheck},null,8,["onClick"])]),_:1})]),Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)]}),_:3},8,["loading","class"])}const iZ={class:"orangehrm-flex-table"};function cZ(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("oxd-text"),c=Object(a["resolveComponent"])("oxd-divider");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",iZ,[Object(a["createVNode"])(i,{tag:"p",class:"orangehrm-flex-table-title"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.titleName),1)]),_:1}),Object(a["createVNode"])(c,{class:"orangehrm-flex-table-divider"}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"orangehrm-flex-table-row"},[Object(a["createVNode"])(i,{class:"orangehrm-flex-table-content"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]),_:2},1024),Object(a["createVNode"])(i,{class:Object(a["normalizeClass"])(r.getClass(e.value.status))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.value.message),1)]),_:2},1032,["class"])]))),128))])}var dZ={name:"FlexTable",props:{titleName:{type:String,required:!0},items:{type:Array,required:!0,default:()=>[]}},methods:{getClass(e){return 1===e?"orangehrm-flex-table-value --success":2===e?"orangehrm-flex-table-value --warning":"orangehrm-flex-table-value --error"}}};o("b6a5");const sZ=y()(dZ,[["render",cZ],["__scopeId","data-v-29402b1e"]]);var mZ=sZ,uZ={name:"SystemCheckScreen",components:{"flex-table":mZ},setup(){const e=new K(window.appGlobal.baseUrl,"api/v2/core/system-check");return{http:e}},data(){return{items:[],isLoading:!1,isInterrupted:!1,error:null}},beforeMount(){this.fetchData()},methods:{fetchData(){this.isLoading=!0,this.http.getAll().then(e=>{const{data:t,meta:o}=e.data;this.items=t,this.isInterrupted=o.isInterrupted,this.error=o.error}).finally(()=>{this.isLoading=!1})},reCheck(){this.fetchData()}}};o("98fc");const bZ=y()(uZ,[["render",rZ],["__scopeId","data-v-6935a3a5"]]);var pZ=bZ,hZ={"system-check":pZ},jZ={...yu,...QC,...$t,...lV,...s_,...HE,...OE,...CB,...II,...fq,...NG,...bQ,...ZH,...yu,...SJ,...ZK,...hZ};const OZ=e=>(...t)=>{const o=Object(a["getCurrentInstance"])();if(!o)throw new Error("Vue app context not found!");const l=Object(a["inject"])("permissions",void 0);return!!l&&t.reduce((t,o)=>t&&Boolean(l[o])&&l[o][e],!0)};function gZ(){return{beforeCreate(){this.$can={read:OZ("canRead"),create:OZ("canCreate"),update:OZ("canUpdate"),delete:OZ("canDelete")}}}}var vZ={install:e=>{e.mixin(gZ())}},fZ=o("0c6d"),yZ=o("9b9c"),CZ=o("e1bd");const VZ=Me(),xZ=Object(a["reactive"])({toasts:[],transition:"",class:"",position:""}),wZ=Object(a["defineComponent"])({name:"OxdToaster",setup(){return{...Object(a["toRefs"])(xZ)}},computed:{classes(){return{"oxd-toast-container":!0,["oxd-toast-container--"+this.position]:!0}}},methods:{onUpdateShow(e,t){!1===e&&this.toasts.splice(t,1)}},render(){return Object(a["h"])(a["TransitionGroup"],{appear:!0,name:this.transition,tag:"div",class:this.classes},{default:()=>this.toasts.map((e,t)=>Object(a["h"])(fZ["a"],{key:e.id,type:e.type,title:e.title,message:e.message,show:e.show,class:this.class,"onUpdate:show":e=>this.onUpdateShow(e,t)}))})}});var NZ={install:(e,t)=>{const o=document.createElement("oxd-toaster");o.id="oxd-toaster_1",document.getElementById("app").appendChild(o);const a=e=>{if("string"===typeof e){const t=xZ.toasts.findIndex(t=>t.id===e);t>-1&&a(t)}else xZ.toasts[e]&&xZ.toasts.splice(e,1)},l=e=>new Promise(o=>{const l=Object(CZ["a"])(8);if(xZ.toasts.push({...e,id:l}),t.persist)o(l);else{const e=t.duration?t.duration:2500;setTimeout(()=>{a(l),o(l)},e)}}),n=e=>l({id:"",type:yZ["f"],show:!0,...e}),r=e=>l({id:"",type:yZ["d"],show:!0,...e}),i=e=>l({id:"",type:yZ["e"],show:!0,...e}),c=e=>l({id:"",type:yZ["g"],show:!0,...e}),d=e=>l({id:"",type:yZ["c"],show:!0,...e}),s=()=>{xZ.toasts=[]},m=()=>n({title:VZ("general.success"),message:VZ("general.successfully_saved")}),u=()=>n({title:VZ("general.success"),message:VZ("general.successfully_added")}),b=()=>n({title:VZ("general.success"),message:VZ("general.successfully_updated")}),p=()=>n({title:VZ("general.success"),message:VZ("general.successfully_deleted")}),h=()=>r({title:VZ("general.error"),message:VZ("general.cannot_be_deleted")}),j=()=>i({title:VZ("general.info"),message:VZ("general.no_records_found")}),O=e=>r({title:VZ("general.error"),message:null!==e&&void 0!==e?e:VZ("general.unexpected_error")});xZ.class=t.class?t.class:"oxd-toast-container--toast",xZ.transition=t.animation?t.animation:"oxd-toast-list",xZ.position=t.position?t.position:"bottom",e.component("OxdToaster",wZ);const g={notify:l,show:d,success:n,error:r,info:i,warn:c,clear:a,clearAll:s,saveSuccess:m,addSuccess:u,updateSuccess:b,deleteSuccess:p,cannotDelete:h,noRecordsFound:j,unexpectedError:O};e.config.globalProperties.$toast=g}},_Z=o("1f85");const kZ=Object(a["reactive"])({show:!1}),SZ=Object(a["defineComponent"])({name:"OxdLoader",setup(){return{...Object(a["toRefs"])(kZ)}},render(){return Object(a["h"])(a["Transition"],{name:"orangehrm-loader-fade",tag:"div"},{default:()=>{if(this.show)return Object(a["h"])(_Z["a"],{show:!0,centered:!0,class:"orangehrm-loader"},Object(a["h"])(Z["a"],{withContainer:!1}))}})}});var DZ={install:e=>{const t=document.createElement("oxd-loader");t.id="oxd-loader_1",document.getElementById("app").appendChild(t);const o=()=>{kZ.show=!0},a=()=>{kZ.show=!1};e.component("OxdLoader",SZ);const l={startLoading:o,endLoading:a};e.config.globalProperties.$loader=l}};o("f897"),o("0b18");const $Z=Object(a["createApp"])({name:"App",components:jZ});$Z.use(tt),$Z.use(NZ,{duration:2500,persist:!1,animation:"oxd-toast-list",position:"bottom"});const EZ=window.appGlobal.baseUrl,{i18n:TZ,init:BZ}=Re({baseUrl:EZ,resourceUrl:"core/i18n/messages"});$Z.use(DZ),$Z.use(vZ),$Z.use(TZ),$Z.config.globalProperties.global={baseUrl:EZ},BZ().then(()=>$Z.mount("#app"))},cd4c:function(e,t,o){},d007:function(e,t,o){"use strict";o("d431")},d0fc:function(e,t,o){},d10c:function(e,t,o){"use strict";o("d1c9")},d1c6:function(e,t,o){},d1c9:function(e,t,o){},d210:function(e,t,o){},d21f:function(e,t,o){},d254:function(e,t,o){},d32a:function(e,t,o){"use strict";o("03ce")},d357:function(e,t,o){},d3d8:function(e,t,o){},d3dd:function(e,t,o){"use strict";o("0eb1")},d431:function(e,t,o){},d47d:function(e,t,o){},d575:function(e,t,o){"use strict";o("4886")},d6af:function(e,t,o){},d757:function(e,t,o){"use strict";o("850f")},d777:function(e,t,o){"use strict";o("bcf6")},d7aa:function(e,t,o){},d876:function(e,t,o){"use strict";o("eef6")},d91d:function(e,t,o){},da64:function(e,t,o){},da9c:function(e,t,o){},db0b:function(e,t,o){},db37:function(e,t,o){"use strict";o("e1a9")},dbf8:function(e,t,o){},dcf0:function(e,t,o){},dd80:function(e,t,o){"use strict";o("f316")},de1d:function(e,t,o){},deb3:function(e,t,o){},df2d:function(e,t,o){"use strict";o("8187")},df74:function(e,t,o){"use strict";o("d357")},dfd3:function(e,t,o){"use strict";o("4fbe")},dffb:function(e,t,o){"use strict";o("250a")},e0034:function(e,t,o){"use strict";o("44e2")},e069:function(e,t,o){},e0b5:function(e,t,o){"use strict";o("a655")},e1a9:function(e,t,o){},e249:function(e,t,o){"use strict";o("f5af")},e30c:function(e,t,o){"use strict";o("2025")},e340:function(e,t,o){},e35e:function(e,t,o){},e383:function(e,t,o){},e61f:function(e,t,o){"use strict";o("7e45")},e69d:function(e,t,o){"use strict";o("67bf")},e710:function(e,t,o){"use strict";o("da9c")},e725:function(e,t,o){"use strict";o("7a71")},e746:function(e,t,o){"use strict";o("2968")},e780:function(e,t,o){},e836:function(e,t,o){"use strict";o("c5fa")},e857:function(e,t,o){"use strict";o("ba79")},e8ed:function(e,t,o){"use strict";o("fcbb")},eaec:function(e,t,o){},eafc:function(e,t,o){"use strict";o("d0fc")},eb83:function(e,t,o){"use strict";o("151b")},ec85:function(e,t,o){},ecef:function(e,t,o){},ed08:function(e,t,o){},ed09:function(e,t,o){"use strict";o("0dc1")},ee7c:function(e,t,o){"use strict";o("a871")},ee84:function(e,t,o){"use strict";o("a6ad")},ee8e:function(e,t,o){},eef6:function(e,t,o){},f13a:function(e,t,o){"use strict";o("bf63")},f316:function(e,t,o){},f3cb:function(e,t,o){},f46d:function(e,t,o){"use strict";o("4861")},f482:function(e,t,o){"use strict";o("98c9")},f50b:function(e,t,o){"use strict";o("0c4c")},f571:function(e,t,o){},f5af:function(e,t,o){},f6a9:function(e,t,o){"use strict";o("a489")},f897:function(e,t,o){},f94a:function(e,t,o){"use strict";o("ed08")},f9c0:function(e,t,o){"use strict";o("d47d")},f9ff:function(e,t,o){},fa79:function(e,t,o){},fbc0:function(e,t,o){},fcbb:function(e,t,o){},fcee:function(e,t,o){"use strict";o("95b6")},fd25:function(e,t,o){},fdad:function(e,t,o){},fddc:function(e,t,o){"use strict";o("a6c3")},fe4b:function(e,t,o){"use strict";o("1b98")},fe8f:function(e,t,o){"use strict";o("2e44")},ff13:function(e,t,o){},ff65:function(e,t,o){}});
//# sourceMappingURL=app.js.map